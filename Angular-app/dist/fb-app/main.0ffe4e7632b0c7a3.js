(self.webpackChunkfb_app=self.webpackChunkfb_app||[]).push([[179],{2011:(lt,Ce,P)=>{"use strict";P.d(Ce,{hO:()=>je,xv:()=>ce,Dh:()=>le,GT:()=>he,cc:()=>Me,on:()=>U,pX:()=>oe});var l=P(5e3),J=P(127),N=P(5813);lt=P.hmd(lt);const ae=["ngOnDestroy"],oe=(se,me,De,ge={})=>new Proxy(se,{get:(Ge,xe)=>De.runOutsideAngular(()=>{var ot;if(se[xe])return(null===(ot=null==ge?void 0:ge.spy)||void 0===ot?void 0:ot.get)&&ge.spy.get(xe,se[xe]),se[xe];if(ae.indexOf(xe)>-1)return()=>{};const Ke=me.toPromise().then(yt=>{const ee=yt&&yt[xe];return"function"==typeof ee?ee.bind(yt):ee&&ee.then?ee.then(pe=>De.run(()=>pe)):De.run(()=>ee)});return new Proxy(()=>{},{get:(yt,ee)=>Ke[ee],apply:(yt,ee,pe)=>Ke.then(_e=>{var be;const Fe=_e&&_e(...pe);return(null===(be=null==ge?void 0:ge.spy)||void 0===be?void 0:be.apply)&&ge.spy.apply(xe,pe,Fe),Fe})})})}),he=(se,me)=>{me.forEach(De=>{Object.getOwnPropertyNames(De.prototype||De).forEach(ge=>{Object.defineProperty(se.prototype,ge,Object.getOwnPropertyDescriptor(De.prototype||De,ge))})})};class X{constructor(me){return me}}const le=new l.OlP("angularfire2.app.options"),ce=new l.OlP("angularfire2.app.name");function U(se,me,De){const Ge="object"==typeof De&&De||{};Ge.name=Ge.name||"string"==typeof De&&De||"[DEFAULT]";const ot=J.Z.apps.filter(Ke=>Ke&&Ke.name===Ge.name)[0]||me.runOutsideAngular(()=>J.Z.initializeApp(se,Ge));try{JSON.stringify(se)!==JSON.stringify(ot.options)&&j("error",`${ot.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ke){}return new X(ot)}const j=(se,...me)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[se](...me)},ne={provide:X,useFactory:U,deps:[le,l.R0b,[new l.FiY,ce]]};let je=(()=>{class se{constructor(De){J.Z.registerVersion("angularfire",N.q4.full,"core"),J.Z.registerVersion("angularfire",N.q4.full,"app-compat"),J.Z.registerVersion("angular",l.q4F.full,De.toString())}static initializeApp(De,ge){return{ngModule:se,providers:[{provide:le,useValue:De},{provide:ce,useValue:ge}]}}}return se.\u0275fac=function(De){return new(De||se)(l.LFG(l.Lbi))},se.\u0275mod=l.oAB({type:se}),se.\u0275inj=l.cJS({providers:[ne]}),se})();function Me(se,me,De,ge,Ge){const[,xe,ot]=globalThis.\u0275AngularfireInstanceCache.find(Ke=>Ke[0]===se)||[];if(xe)return function Re(se,me){try{return se.toString()===me.toString()}catch(De){return se===me}}(Ge,ot)||(Z("error",`${me} was already initialized on the ${De} Firebase App with different settings.${ze?" You may need to reload as Firebase is not HMR aware.":""}`),Z("warn",{is:Ge,was:ot})),xe;{const Ke=ge();return globalThis.\u0275AngularfireInstanceCache.push([se,Ke,Ge]),Ke}}const ze=!!lt.hot,Z=(se,...me)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[se](...me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(lt,Ce,P)=>{"use strict";P.d(Ce,{q4:()=>ah,iC:()=>ga,HU:()=>Zl,vb:()=>ch,JM:()=>_1});var l=P(5e3),J=P(5867),N=P(5861),ae=P(9681),oe=P(2090),he=P(4859),X=P(1877),le=P(2940);const ce="@firebase/installations",U="0.5.5",ne=`w:${U}`,je="FIS_v2",me=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function De(x){return x instanceof oe.ZR&&x.code.includes("request-failed")}function ge({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Ge(x){return{token:x.token,requestStatus:2,expiresIn:_e(x.expiresIn),creationTime:Date.now()}}function xe(x,E){return ot.apply(this,arguments)}function ot(){return(ot=(0,N.Z)(function*(x,E){const z=(yield E.json()).error;return me.create("request-failed",{requestName:x,serverCode:z.code,serverMessage:z.message,serverStatus:z.status})})).apply(this,arguments)}function Ke({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function yt(x,{refreshToken:E}){const R=Ke(x);return R.append("Authorization",function be(x){return`${je} ${x}`}(E)),R}function ee(x){return pe.apply(this,arguments)}function pe(){return(pe=(0,N.Z)(function*(x){const E=yield x();return E.status>=500&&E.status<600?x():E})).apply(this,arguments)}function _e(x){return Number(x.replace("s","000"))}function Fe(x,E){return de.apply(this,arguments)}function de(){return(de=(0,N.Z)(function*(x,{fid:E}){const R=ge(x),Q={method:"POST",headers:Ke(x),body:JSON.stringify({fid:E,authVersion:je,appId:x.appId,sdkVersion:ne})},Se=yield ee(()=>fetch(R,Q));if(Se.ok){const Xe=yield Se.json();return{fid:Xe.fid||E,registrationStatus:2,refreshToken:Xe.refreshToken,authToken:Ge(Xe.authToken)}}throw yield xe("Create Installation",Se)})).apply(this,arguments)}function Rt(x){return new Promise(E=>{setTimeout(E,x)})}const bi=/^[cdef][\w-]{21}$/;function ct(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const R=function Hi(x){return function qt(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return bi.test(R)?R:""}catch(x){return""}}function mn(x){return`${x.appName}!${x.appId}`}const ji=new Map;function ln(x,E){const R=mn(x);Un(R,E),function ts(x,E){const R=function kn(){return!Wt&&"BroadcastChannel"in self&&(Wt=new BroadcastChannel("[Firebase] FID Change"),Wt.onmessage=x=>{Un(x.data.key,x.data.fid)}),Wt}();R&&R.postMessage({key:x,fid:E}),function yo(){0===ji.size&&Wt&&(Wt.close(),Wt=null)}()}(R,E)}function Un(x,E){const R=ji.get(x);if(R)for(const z of R)z(E)}let Wt=null;const Ie="firebase-installations-store";let Si=null;function nt(){return Si||(Si=(0,le.openDb)("firebase-installations-database",1,x=>{0===x.oldVersion&&x.createObjectStore(Ie)})),Si}function _r(x,E){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,N.Z)(function*(x,E){const R=mn(x),q=(yield nt()).transaction(Ie,"readwrite"),Q=q.objectStore(Ie),Se=yield Q.get(R);return yield Q.put(E,R),yield q.complete,(!Se||Se.fid!==E.fid)&&ln(x,E.fid),E})).apply(this,arguments)}function ti(x){return bo.apply(this,arguments)}function bo(){return(bo=(0,N.Z)(function*(x){const E=mn(x),z=(yield nt()).transaction(Ie,"readwrite");yield z.objectStore(Ie).delete(E),yield z.complete})).apply(this,arguments)}function bt(x,E){return at.apply(this,arguments)}function at(){return(at=(0,N.Z)(function*(x,E){const R=mn(x),q=(yield nt()).transaction(Ie,"readwrite"),Q=q.objectStore(Ie),Se=yield Q.get(R),Xe=E(Se);return void 0===Xe?yield Q.delete(R):yield Q.put(Xe,R),yield q.complete,Xe&&(!Se||Se.fid!==Xe.fid)&&ln(x,Xe.fid),Xe})).apply(this,arguments)}function Nt(x){return En.apply(this,arguments)}function En(){return(En=(0,N.Z)(function*(x){let E;const R=yield bt(x,z=>{const q=ur(z),Q=Ft(x,q);return E=Q.registrationPromise,Q.installationEntry});return""===R.fid?{installationEntry:yield E}:{installationEntry:R,registrationPromise:E}})).apply(this,arguments)}function ur(x){return Rn(x||{fid:ct(),registrationStatus:0})}function Ft(x,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject(me.create("app-offline"))};const R={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},z=function it(x,E){return ht.apply(this,arguments)}(x,R);return{installationEntry:R,registrationPromise:z}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:Ec(x)}:{installationEntry:E}}function ht(){return(ht=(0,N.Z)(function*(x,E){try{return _r(x,yield Fe(x,E))}catch(R){throw De(R)&&409===R.customData.serverCode?yield ti(x):yield _r(x,{fid:E.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Ec(x){return Co.apply(this,arguments)}function Co(){return(Co=(0,N.Z)(function*(x){let E=yield Ct(x);for(;1===E.registrationStatus;)yield Rt(100),E=yield Ct(x);if(0===E.registrationStatus){const{installationEntry:R,registrationPromise:z}=yield Nt(x);return z||R}return E})).apply(this,arguments)}function Ct(x){return bt(x,E=>{if(!E)throw me.create("installation-not-found");return Rn(E)})}function Rn(x){return function Ui(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function bs(x,E){return B.apply(this,arguments)}function B(){return(B=(0,N.Z)(function*({appConfig:x,platformLoggerProvider:E},R){const z=$(x,R),q=yt(x,R),Q=E.getImmediate({optional:!0});Q&&q.append("x-firebase-client",Q.getPlatformInfoString());const Xe={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:ne}})},$e=yield ee(()=>fetch(z,Xe));if($e.ok)return Ge(yield $e.json());throw yield xe("Generate Auth Token",$e)})).apply(this,arguments)}function $(x,{fid:E}){return`${ge(x)}/${E}/authTokens:generate`}function W(x){return ye.apply(this,arguments)}function ye(){return(ye=(0,N.Z)(function*(x,E=!1){let R;const z=yield bt(x.appConfig,Q=>{if(!Gn(Q))throw me.create("not-registered");const Se=Q.authToken;if(!E&&Gi(Se))return Q;if(1===Se.requestStatus)return R=ie(x,E),Q;{if(!navigator.onLine)throw me.create("app-offline");const Xe=Ii(Q);return R=bn(x,Xe),Xe}});return R?yield R:z.authToken})).apply(this,arguments)}function ie(x,E){return We.apply(this,arguments)}function We(){return(We=(0,N.Z)(function*(x,E){let R=yield Dt(x.appConfig);for(;1===R.authToken.requestStatus;)yield Rt(100),R=yield Dt(x.appConfig);const z=R.authToken;return 0===z.requestStatus?W(x,E):z})).apply(this,arguments)}function Dt(x){return bt(x,E=>{if(!Gn(E))throw me.create("not-registered");return function Us(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function bn(x,E){return ni.apply(this,arguments)}function ni(){return(ni=(0,N.Z)(function*(x,E){try{const R=yield bs(x,E),z=Object.assign(Object.assign({},E),{authToken:R});return yield _r(x.appConfig,z),R}catch(R){if(!De(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const z=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield _r(x.appConfig,z)}else yield ti(x.appConfig);throw R}})).apply(this,arguments)}function Gn(x){return void 0!==x&&2===x.registrationStatus}function Gi(x){return 2===x.requestStatus&&!function Ut(x){const E=Date.now();return E<x.creationTime||x.creationTime+x.expiresIn<E+36e5}(x)}function Ii(x){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:E})}function Zo(){return(Zo=(0,N.Z)(function*(x){const E=x,{installationEntry:R,registrationPromise:z}=yield Nt(E.appConfig);return z?z.catch(console.error):W(E).catch(console.error),R.fid})).apply(this,arguments)}function wo(){return(wo=(0,N.Z)(function*(x,E=!1){const R=x;return yield Ci(R.appConfig),(yield W(R,E)).token})).apply(this,arguments)}function Ci(x){return ii.apply(this,arguments)}function ii(){return(ii=(0,N.Z)(function*(x){const{registrationPromise:E}=yield Nt(x);E&&(yield E)})).apply(this,arguments)}function Fa(x){return me.create("missing-app-config-values",{valueName:x})}const dr="installations",Ot=x=>{const E=x.getProvider("app").getImmediate(),R=function ri(x){if(!x||!x.options)throw Fa("App Configuration");if(!x.name)throw Fa("App Name");const E=["projectId","apiKey","appId"];for(const R of E)if(!x.options[R])throw Fa(R);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(E);return{app:E,appConfig:R,platformLoggerProvider:(0,ae._getProvider)(E,"platform-logger"),_delete:()=>Promise.resolve()}},en=x=>{const E=x.getProvider("app").getImmediate(),R=(0,ae._getProvider)(E,dr).getImmediate();return{getId:()=>function Sc(x){return Zo.apply(this,arguments)}(R),getToken:q=>function Rl(x){return wo.apply(this,arguments)}(R,q)}};(function $n(){(0,ae._registerComponent)(new he.wA(dr,Ot,"PUBLIC")),(0,ae._registerComponent)(new he.wA("installations-internal",en,"PRIVATE"))})(),(0,ae.registerVersion)(ce,U),(0,ae.registerVersion)(ce,U,"esm2017");const Pi="@firebase/remote-config",qn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ff{constructor(E,R,z,q){this.client=E,this.storage=R,this.storageCache=z,this.logger=q}isCachedDataFresh(E,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const z=Date.now()-R,q=z<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${z}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${q}.`),q}fetch(E){var R=this;return(0,N.Z)(function*(){const[z,q]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(q&&R.isCachedDataFresh(E.cacheMaxAgeMillis,z))return q;E.eTag=q&&q.eTag;const Q=yield R.client.fetch(E),Se=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Q.status&&Se.push(R.storage.setLastSuccessfulFetchResponse(Q)),yield Promise.all(Se),Q})()}}function qd(x=navigator){return x.languages&&x.languages[0]||x.language}class Rr{constructor(E,R,z,q,Q,Se){this.firebaseInstallations=E,this.sdkVersion=R,this.namespace=z,this.projectId=q,this.apiKey=Q,this.appId=Se}fetch(E){var R=this;return(0,N.Z)(function*(){const[z,q]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},$e={sdk_version:R.sdkVersion,app_instance_id:z,app_instance_id_token:q,app_id:R.appId,language_code:qd()},Yt={method:"POST",headers:Xe,body:JSON.stringify($e)},sn=fetch(Se,Yt),Xi=new Promise((jr,cs)=>{E.signal.addEventListener(()=>{const to=new Error("The operation was aborted.");to.name="AbortError",cs(to)})});let ui;try{yield Promise.race([sn,Xi]),ui=yield sn}catch(jr){let cs="fetch-client-network";throw"AbortError"===jr.name&&(cs="fetch-timeout"),qn.create(cs,{originalErrorMessage:jr.message})}let yn=ui.status;const Br=ui.headers.get("ETag")||void 0;let Hr,eo;if(200===ui.status){let jr;try{jr=yield ui.json()}catch(cs){throw qn.create("fetch-client-parse",{originalErrorMessage:cs.message})}Hr=jr.entries,eo=jr.state}if("INSTANCE_STATE_UNSPECIFIED"===eo?yn=500:"NO_CHANGE"===eo?yn=304:("NO_TEMPLATE"===eo||"EMPTY_CONFIG"===eo)&&(Hr={}),304!==yn&&200!==yn)throw qn.create("fetch-status",{httpStatus:yn});return{status:yn,eTag:Br,config:Hr}})()}}class Zu{constructor(E,R){this.client=E,this.storage=R}fetch(E){var R=this;return(0,N.Z)(function*(){const z=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(E,z)})()}attemptFetch(E,{throttleEndTimeMillis:R,backoffCount:z}){var q=this;return(0,N.Z)(function*(){yield function za(x,E){return new Promise((R,z)=>{const q=Math.max(E-Date.now(),0),Q=setTimeout(R,q);x.addEventListener(()=>{clearTimeout(Q),z(qn.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,R);try{const Q=yield q.client.fetch(E);return yield q.storage.deleteThrottleMetadata(),Q}catch(Q){if(!function Wd(x){if(!(x instanceof oe.ZR&&x.customData))return!1;const E=Number(x.customData.httpStatus);return 429===E||500===E||503===E||504===E}(Q))throw Q;const Se={throttleEndTimeMillis:Date.now()+(0,oe.$s)(z),backoffCount:z+1};return yield q.storage.setThrottleMetadata(Se),q.attemptFetch(E,Se)}})()}}class pf{constructor(E,R,z,q,Q){this.app=E,this._client=R,this._storageCache=z,this._storage=q,this._logger=Q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Va(x,E){const R=x.target.error||void 0;return qn.create(E,{originalErrorMessage:R&&R.message})}const Jo="app_namespace_store";class mf{constructor(E,R,z,q=function Qu(){return new Promise((x,E)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=z=>{E(Va(z,"storage-open"))},R.onsuccess=z=>{x(z.target.result)},R.onupgradeneeded=z=>{0===z.oldVersion&&z.target.result.createObjectStore(Jo,{keyPath:"compositeKey"})}}catch(R){E(qn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=E,this.appName=R,this.namespace=z,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var R=this;return(0,N.Z)(function*(){const z=yield R.openDbPromise;return new Promise((q,Q)=>{const Xe=z.transaction([Jo],"readonly").objectStore(Jo),$e=R.createCompositeKey(E);try{const Yt=Xe.get($e);Yt.onerror=sn=>{Q(Va(sn,"storage-get"))},Yt.onsuccess=sn=>{const Xi=sn.target.result;q(Xi?Xi.value:void 0)}}catch(Yt){Q(qn.create("storage-get",{originalErrorMessage:Yt&&Yt.message}))}})})()}set(E,R){var z=this;return(0,N.Z)(function*(){const q=yield z.openDbPromise;return new Promise((Q,Se)=>{const $e=q.transaction([Jo],"readwrite").objectStore(Jo),Yt=z.createCompositeKey(E);try{const sn=$e.put({compositeKey:Yt,value:R});sn.onerror=Xi=>{Se(Va(Xi,"storage-set"))},sn.onsuccess=()=>{Q()}}catch(sn){Se(qn.create("storage-set",{originalErrorMessage:sn&&sn.message}))}})})()}delete(E){var R=this;return(0,N.Z)(function*(){const z=yield R.openDbPromise;return new Promise((q,Q)=>{const Xe=z.transaction([Jo],"readwrite").objectStore(Jo),$e=R.createCompositeKey(E);try{const Yt=Xe.delete($e);Yt.onerror=sn=>{Q(Va(sn,"storage-delete"))},Yt.onsuccess=()=>{q()}}catch(Yt){Q(qn.create("storage-delete",{originalErrorMessage:Yt&&Yt.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class Xu{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,N.Z)(function*(){const R=E.storage.getLastFetchStatus(),z=E.storage.getLastSuccessfulFetchTimestampMillis(),q=E.storage.getActiveConfig(),Q=yield R;Q&&(E.lastFetchStatus=Q);const Se=yield z;Se&&(E.lastSuccessfulFetchTimestampMillis=Se);const Xe=yield q;Xe&&(E.activeConfig=Xe)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function Ju(){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,N.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(x){return!1}})).apply(this,arguments)}!function gf(){(0,ae._registerComponent)(new he.wA("remote-config",function x(E,{instanceIdentifier:R}){const z=E.getProvider("app").getImmediate(),q=E.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw qn.create("registration-window");if(!(0,oe.hl)())throw qn.create("indexed-db-unavailable");const{projectId:Q,apiKey:Se,appId:Xe}=z.options;if(!Q)throw qn.create("registration-project-id");if(!Se)throw qn.create("registration-api-key");if(!Xe)throw qn.create("registration-app-id");const $e=new mf(Xe,z.name,R=R||"firebase"),Yt=new Xu($e),sn=new X.Yd(Pi);sn.logLevel=X.in.ERROR;const Xi=new Rr(q,ae.SDK_VERSION,R,Q,Se,Xe),ui=new Zu(Xi,$e),yn=new ff(ui,$e,Yt,sn),Br=new pf(z,yn,Yt,$e,sn);return function gn(x){const E=(0,oe.m9)(x);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(Br),Br},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Pi,"0.3.4"),(0,ae.registerVersion)(Pi,"0.3.4","esm2017")}();const e1="/firebase-messaging-sw.js",xo="/firebase-cloud-messaging-push-scope",Ol="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Eo="google.c.a.c_id",ja="google.c.a.c_l",qs="google.c.a.ts",Cn="google.c.a.e";var Ni=(()=>{return(x=Ni||(Ni={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",Ni;var x})();function Or(x){const E=new Uint8Array(x);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Nc(x){const R=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),z=atob(R),q=new Uint8Array(z.length);for(let Q=0;Q<z.length;++Q)q[Q]=z.charCodeAt(Q);return q}const Fi="fcm_token_details_db",n1="fcm_token_object_Store";function Pl(x){return r1.apply(this,arguments)}function r1(){return r1=(0,N.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Q=>Q.name).includes(Fi))return null;let E=null;return(yield(0,le.openDb)(Fi,5,function(){var z=(0,N.Z)(function*(q){var Q;if(q.oldVersion<2||!q.objectStoreNames.contains(n1))return;const Se=q.transaction.objectStore(n1),Xe=yield Se.index("fcmSenderId").get(x);if(yield Se.clear(),Xe)if(2===q.oldVersion){const $e=Xe;if(!$e.auth||!$e.p256dh||!$e.endpoint)return;E={token:$e.fcmToken,createTime:null!==(Q=$e.createTime)&&void 0!==Q?Q:Date.now(),subscriptionOptions:{auth:$e.auth,p256dh:$e.p256dh,endpoint:$e.endpoint,swScope:$e.swScope,vapidKey:"string"==typeof $e.vapidKey?$e.vapidKey:Or($e.vapidKey)}}}else if(3===q.oldVersion){const $e=Xe;E={token:$e.fcmToken,createTime:$e.createTime,subscriptionOptions:{auth:Or($e.auth),p256dh:Or($e.p256dh),endpoint:$e.endpoint,swScope:$e.swScope,vapidKey:Or($e.vapidKey)}}}else if(4===q.oldVersion){const $e=Xe;E={token:$e.fcmToken,createTime:$e.createTime,subscriptionOptions:{auth:Or($e.auth),p256dh:Or($e.p256dh),endpoint:$e.endpoint,swScope:$e.swScope,vapidKey:Or($e.vapidKey)}}}});return function(q){return z.apply(this,arguments)}}())).close(),yield(0,le.deleteDb)(Fi),yield(0,le.deleteDb)("fcm_vapid_details_db"),yield(0,le.deleteDb)("undefined"),Fc(E)?E:null}),r1.apply(this,arguments)}function Fc(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:E}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}const Ws="firebase-messaging-store";let o1=null;function _n(){return o1||(o1=(0,le.openDb)("firebase-messaging-database",1,x=>{0===x.oldVersion&&x.createObjectStore(Ws)})),o1}function Zd(x){return ea.apply(this,arguments)}function ea(){return(ea=(0,N.Z)(function*(x){const E=os(x),z=yield(yield _n()).transaction(Ws).objectStore(Ws).get(E);if(z)return z;{const q=yield Pl(x.appConfig.senderId);if(q)return yield ai(x,q),q}})).apply(this,arguments)}function ai(x,E){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,N.Z)(function*(x,E){const R=os(x),q=(yield _n()).transaction(Ws,"readwrite");return yield q.objectStore(Ws).put(E,R),yield q.complete,E})).apply(this,arguments)}function ws(x){return ta.apply(this,arguments)}function ta(){return(ta=(0,N.Z)(function*(x){const E=os(x),z=(yield _n()).transaction(Ws,"readwrite");yield z.objectStore(Ws).delete(E),yield z.complete})).apply(this,arguments)}function os({appConfig:x}){return x.appId}const li=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function as(x,E){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,N.Z)(function*(x,E){const R=yield Ga(x),z=ia(E),q={method:"POST",headers:R,body:JSON.stringify(z)};let Q;try{Q=yield(yield fetch(Di(x.appConfig),q)).json()}catch(Se){throw li.create("token-subscribe-failed",{errorInfo:Se})}if(Q.error)throw li.create("token-subscribe-failed",{errorInfo:Q.error.message});if(!Q.token)throw li.create("token-subscribe-no-token");return Q.token})).apply(this,arguments)}function Zi(x,E){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,N.Z)(function*(x,E){const R=yield Ga(x),z=ia(E.subscriptionOptions),q={method:"PATCH",headers:R,body:JSON.stringify(z)};let Q;try{Q=yield(yield fetch(`${Di(x.appConfig)}/${E.token}`,q)).json()}catch(Se){throw li.create("token-update-failed",{errorInfo:Se})}if(Q.error)throw li.create("token-update-failed",{errorInfo:Q.error.message});if(!Q.token)throw li.create("token-update-no-token");return Q.token})).apply(this,arguments)}function na(x,E){return wt.apply(this,arguments)}function wt(){return(wt=(0,N.Z)(function*(x,E){const z={method:"DELETE",headers:yield Ga(x)};try{const Q=yield(yield fetch(`${Di(x.appConfig)}/${E}`,z)).json();if(Q.error)throw li.create("token-unsubscribe-failed",{errorInfo:Q.error.message})}catch(q){throw li.create("token-unsubscribe-failed",{errorInfo:q})}})).apply(this,arguments)}function Di({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function Ga(x){return $a.apply(this,arguments)}function $a(){return($a=(0,N.Z)(function*({appConfig:x,installations:E}){const R=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function ia({p256dh:x,auth:E,endpoint:R,vapidKey:z}){const q={web:{endpoint:R,auth:E,p256dh:x}};return z!==Ol&&(q.web.applicationPubKey=z),q}const ra=6048e5;function zc(x){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,N.Z)(function*(x){const E=yield Ki(x.swRegistration,x.vapidKey),R={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:E.endpoint,auth:Or(E.getKey("auth")),p256dh:Or(E.getKey("p256dh"))},z=yield Zd(x.firebaseDependencies);if(z){if(Ll(z.subscriptionOptions,R))return Date.now()>=z.createTime+ra?Fl(x,{token:z.token,createTime:Date.now(),subscriptionOptions:R}):z.token;try{yield na(x.firebaseDependencies,z.token)}catch(q){console.warn(q)}return So(x.firebaseDependencies,R)}return So(x.firebaseDependencies,R)})).apply(this,arguments)}function Ee(x){return zt.apply(this,arguments)}function zt(){return(zt=(0,N.Z)(function*(x){const E=yield Zd(x.firebaseDependencies);E&&(yield na(x.firebaseDependencies,E.token),yield ws(x.firebaseDependencies));const R=yield x.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Fl(x,E){return vn.apply(this,arguments)}function vn(){return(vn=(0,N.Z)(function*(x,E){try{const R=yield Zi(x.firebaseDependencies,E),z=Object.assign(Object.assign({},E),{token:R,createTime:Date.now()});return yield ai(x.firebaseDependencies,z),R}catch(R){throw yield Ee(x),R}})).apply(this,arguments)}function So(x,E){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,N.Z)(function*(x,E){const z={token:yield as(x,E),createTime:Date.now(),subscriptionOptions:E};return yield ai(x,z),z.token})).apply(this,arguments)}function Ki(x,E){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,N.Z)(function*(x,E){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Nc(E)})})).apply(this,arguments)}function Ll(x,E){return E.vapidKey===x.vapidKey&&E.endpoint===x.endpoint&&E.auth===x.auth&&E.p256dh===x.p256dh}function zl(x){const E={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function Vl(x,E){if(!E.notification)return;x.notification={};const R=E.notification.title;R&&(x.notification.title=R);const z=E.notification.body;z&&(x.notification.body=z);const q=E.notification.image;q&&(x.notification.image=q)}(E,x),function sa(x,E){!E.data||(x.data=E.data)}(E,x),function qa(x,E){if(!E.fcmOptions)return;x.fcmOptions={};const R=E.fcmOptions.link;R&&(x.fcmOptions.link=R);const z=E.fcmOptions.analytics_label;z&&(x.fcmOptions.analyticsLabel=z)}(E,x),E}function ci(x){return"object"==typeof x&&!!x&&Eo in x}function Pr(x,E){const R=[];for(let z=0;z<x.length;z++)R.push(x.charAt(z)),z<E.length&&R.push(E.charAt(z));return R.join("")}function Ds(x){return li.create("missing-app-config-values",{valueName:x})}Pr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Pr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Nr{constructor(E,R,z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function Bl(x){if(!x||!x.options)throw Ds("App Configuration Object");if(!x.name)throw Ds("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:R}=x;for(const z of E)if(!R[z])throw Ds(z);return{appName:x.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:q,installations:R,analyticsProvider:z}}_delete(){return Promise.resolve()}}function a1(x){return oa.apply(this,arguments)}function oa(){return(oa=(0,N.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(e1,{scope:xo}),x.swRegistration.update().catch(()=>{})}catch(E){throw li.create("failed-service-worker-registration",{browserErrorMessage:E.message})}})).apply(this,arguments)}function Hl(x,E){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,N.Z)(function*(x,E){if(!E&&!x.swRegistration&&(yield a1(x)),E||!x.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw li.create("invalid-sw-registration");x.swRegistration=E}})).apply(this,arguments)}function aa(x,E){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,N.Z)(function*(x,E){E?x.vapidKey=E:x.vapidKey||(x.vapidKey=Ol)})).apply(this,arguments)}function Ka(){return(Ka=(0,N.Z)(function*(x,E){if(!navigator)throw li.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw li.create("permission-blocked");return yield aa(x,null==E?void 0:E.vapidKey),yield Hl(x,null==E?void 0:E.serviceWorkerRegistration),zc(x)})).apply(this,arguments)}function jl(x,E,R){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,N.Z)(function*(x,E,R){const z=la(E);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(z,{message_id:R[Eo],message_name:R[ja],message_time:R[qs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function la(x){switch(x){case Ni.NOTIFICATION_CLICKED:return"notification_open";case Ni.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Qa(){return(Qa=(0,N.Z)(function*(x,E){const R=E.data;if(!R.isFirebaseMessaging)return;x.onMessageHandler&&R.messageType===Ni.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(zl(R)):x.onMessageHandler.next(zl(R)));const z=R.data;ci(z)&&"1"===z[Cn]&&(yield jl(x,R.messageType,z))})).apply(this,arguments)}const Bc="@firebase/messaging",Ul=x=>{const E=new Nr(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function l1(x,E){return Qa.apply(this,arguments)}(E,R)),E},c1=x=>{const E=x.getProvider("messaging").getImmediate();return{getToken:z=>function Za(x,E){return Ka.apply(this,arguments)}(E,z)}};function xi(){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,N.Z)(function*(){return"undefined"!=typeof window&&(0,oe.hl)()&&(yield(0,oe.eu)())&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _f(){(0,ae._registerComponent)(new he.wA("messaging",Ul,"PUBLIC")),(0,ae._registerComponent)(new he.wA("messaging-internal",c1,"PRIVATE")),(0,ae.registerVersion)(Bc,"0.9.7"),(0,ae.registerVersion)(Bc,"0.9.7","esm2017")}();const Ks="analytics",$l="firebase_id",h1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xs="https://www.googletagmanager.com/gtag/js",Pn=new X.Yd("@firebase/analytics");function Jd(x){return Promise.all(x.map(E=>E.catch(R=>R)))}function vf(x,E){const R=document.createElement("script");R.src=`${xs}?l=${x}&id=${E}`,R.async=!0,document.head.appendChild(R)}function Wl(x,E,R,z,q,Q){return f1.apply(this,arguments)}function f1(){return(f1=(0,N.Z)(function*(x,E,R,z,q,Q){const Se=z[q];try{if(Se)yield E[Se];else{const $e=(yield Jd(R)).find(Yt=>Yt.measurementId===q);$e&&(yield E[$e.appId])}}catch(Xe){Pn.error(Xe)}x("config",q,Q)})).apply(this,arguments)}function Es(x,E,R,z,q){return jc.apply(this,arguments)}function jc(){return(jc=(0,N.Z)(function*(x,E,R,z,q){try{let Q=[];if(q&&q.send_to){let Se=q.send_to;Array.isArray(Se)||(Se=[Se]);const Xe=yield Jd(R);for(const $e of Se){const Yt=Xe.find(Xi=>Xi.measurementId===$e),sn=Yt&&E[Yt.appId];if(!sn){Q=[];break}Q.push(sn)}}0===Q.length&&(Q=Object.values(E)),yield Promise.all(Q),x("event",z,q||{})}catch(Q){Pn.error(Q)}})).apply(this,arguments)}function Sn(){const x=window.document.getElementsByTagName("script");for(const E of Object.values(x))if(E.src&&E.src.includes(xs))return E;return null}const qe=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),th=new class Nn{constructor(E={},R=1e3){this.throttleMetadata=E,this.intervalMillis=R}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,R){this.throttleMetadata[E]=R}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function tl(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function p1(x){return nl.apply(this,arguments)}function nl(){return(nl=(0,N.Z)(function*(x){var E;const{appId:R,apiKey:z}=x,q={method:"GET",headers:tl(z)},Q=h1.replace("{app-id}",R),Se=yield fetch(Q,q);if(200!==Se.status&&304!==Se.status){let Xe="";try{const $e=yield Se.json();(null===(E=$e.error)||void 0===E?void 0:E.message)&&(Xe=$e.error.message)}catch($e){}throw qe.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:Xe})}return Se.json()})).apply(this,arguments)}function Gc(x){return ls.apply(this,arguments)}function ls(){return(ls=(0,N.Z)(function*(x,E=th,R){const{appId:z,apiKey:q,measurementId:Q}=x.options;if(!z)throw qe.create("no-app-id");if(!q){if(Q)return{measurementId:Q,appId:z};throw qe.create("no-api-key")}const Se=E.getThrottleMetadata(z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new rl;return setTimeout((0,N.Z)(function*(){Xe.abort()}),void 0!==R?R:6e4),Ss({appId:z,apiKey:q,measurementId:Q},Se,Xe,E)})).apply(this,arguments)}function Ss(x,E,R){return ft.apply(this,arguments)}function ft(){return(ft=(0,N.Z)(function*(x,{throttleEndTimeMillis:E,backoffCount:R},z,q=th){const{appId:Q,measurementId:Se}=x;try{yield nh(z,E)}catch(Xe){if(Se)return Pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${Xe.message}]`),{appId:Q,measurementId:Se};throw Xe}try{const Xe=yield p1(x);return q.deleteThrottleMetadata(Q),Xe}catch(Xe){if(!il(Xe)){if(q.deleteThrottleMetadata(Q),Se)return Pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${Xe.message}]`),{appId:Q,measurementId:Se};throw Xe}const $e=503===Number(Xe.customData.httpStatus)?(0,oe.$s)(R,q.intervalMillis,30):(0,oe.$s)(R,q.intervalMillis),Yt={throttleEndTimeMillis:Date.now()+$e,backoffCount:R+1};return q.setThrottleMetadata(Q,Yt),Pn.debug(`Calling attemptFetch again in ${$e} millis`),Ss(x,Yt,z,q)}})).apply(this,arguments)}function nh(x,E){return new Promise((R,z)=>{const q=Math.max(E-Date.now(),0),Q=setTimeout(R,q);x.addEventListener(()=>{clearTimeout(Q),z(qe.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}function il(x){if(!(x instanceof oe.ZR&&x.customData))return!1;const E=Number(x.customData.httpStatus);return 429===E||500===E||503===E||504===E}class rl{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}function ca(){return dn.apply(this,arguments)}function dn(){return(dn=(0,N.Z)(function*(){if(!(0,oe.hl)())return Pn.warn(qe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(x){return Pn.warn(qe.create("indexeddb-unavailable",{errorInfo:x}).message),!1}return!0})).apply(this,arguments)}function ua(){return(ua=(0,N.Z)(function*(x,E,R,z,q,Q,Se){var Xe;const $e=Gc(x);$e.then(yn=>{R[yn.measurementId]=yn.appId,x.options.measurementId&&yn.measurementId!==x.options.measurementId&&Pn.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${yn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(yn=>Pn.error(yn)),E.push($e);const Yt=ca().then(yn=>{if(yn)return z.getId()}),[sn,Xi]=yield Promise.all([$e,Yt]);Sn()||vf(Q,sn.measurementId),q("js",new Date);const ui=null!==(Xe=null==Se?void 0:Se.config)&&void 0!==Xe?Xe:{};return ui.origin="firebase",ui.update=!0,null!=Xi&&(ui[$l]=Xi),q("config",sn.measurementId,ui),sn.measurementId})).apply(this,arguments)}class $c{constructor(E){this.app=E}_delete(){return delete Fr[this.app.options.appId],Promise.resolve()}}let Fr={},qc=[];const da={};let Io,Fn,ha="dataLayer",To=!1;function Tn(x,E,R){!function Ln(){const x=[];if((0,oe.ru)()&&x.push("This is a browser extension environment."),(0,oe.zI)()||x.push("Cookies are not available."),x.length>0){const E=x.map((z,q)=>`(${q+1}) ${z}`).join(" "),R=qe.create("invalid-analytics-context",{errorInfo:E});Pn.warn(R.message)}}();const z=x.options.appId;if(!z)throw qe.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw qe.create("no-api-key");Pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fr[z])throw qe.create("already-exists",{id:z});if(!To){!function el(x){let E=[];Array.isArray(window[x])?E=window[x]:window[x]=E}(ha);const{wrappedGtag:Q,gtagCore:Se}=function Uc(x,E,R,z,q){let Q=function(...Se){window[z].push(arguments)};return window[q]&&"function"==typeof window[q]&&(Q=window[q]),window[q]=function eh(x,E,R,z){function Q(){return(Q=(0,N.Z)(function*(Se,Xe,$e){try{"event"===Se?yield Es(x,E,R,Xe,$e):"config"===Se?yield Wl(x,E,R,z,Xe,$e):x("set",Xe)}catch(Yt){Pn.error(Yt)}})).apply(this,arguments)}return function q(Se,Xe,$e){return Q.apply(this,arguments)}}(Q,x,E,R),{gtagCore:Q,wrappedGtag:window[q]}}(Fr,qc,da,ha,"gtag");Fn=Q,Io=Se,To=!0}return Fr[z]=function Yl(x,E,R,z,q,Q,Se){return ua.apply(this,arguments)}(x,qc,da,E,Io,ha,R),new $c(x)}function ol(){return(ol=(0,N.Z)(function*(x,E,R,z,q){if(q&&q.global)x("event",R,z);else{const Q=yield E;x("event",R,Object.assign(Object.assign({},z),{send_to:Q}))}})).apply(this,arguments)}function pa(){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,N.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(x){return!1}})).apply(this,arguments)}const Js="@firebase/analytics";!function jn(){(0,ae._registerComponent)(new he.wA(Ks,(E,{options:R})=>Tn(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ae._registerComponent)(new he.wA("analytics-internal",function x(E){try{const R=E.getProvider(Ks).getImmediate();return{logEvent:(z,q,Q)=>function Kn(x,E,R,z){x=(0,oe.m9)(x),function Bn(x,E,R,z,q){return ol.apply(this,arguments)}(Fn,Fr[x.app.options.appId],E,R,z).catch(q=>Pn.error(q))}(R,z,q,Q)}}catch(R){throw qe.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ae.registerVersion)(Js,"0.7.5"),(0,ae.registerVersion)(Js,"0.7.5","esm2017")}();var ma=P(4408),yf=P(7565);const yr=new class oh extends yf.v{}(class Lr extends ma.o{constructor(E,R){super(E,R),this.scheduler=E,this.work=R}schedule(E,R=0){return R>0?super.schedule(E,R):(this.delay=R,this.state=E,this.scheduler.flush(this),this)}execute(E,R){return R>0||this.closed?super.execute(E,R):this._execute(E,R)}requestAsyncId(E,R,z=0){return null!=z&&z>0||null==z&&this.delay>0?super.requestAsyncId(E,R,z):E.flush(this)}});var m1=P(4986),ll=P(8505),ko=P(9468),Yc=P(5363);const ah=new l.GfV("7.2.0"),g1="__angularfire_symbol__analyticsIsSupported",ul="__angularfire_symbol__remoteConfigIsSupported",dl="__angularfire_symbol__messagingIsSupported";function _1(x,E,R){if(E){if(1===E.length)return E[0];const Q=E.filter(Se=>Se.app===R);if(1===Q.length)return Q[0]}return R.container.getProvider(x).getImmediate({optional:!0})}globalThis[g1]||(globalThis[g1]=pa().then(x=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=x)),globalThis[dl]||(globalThis[dl]=xi().then(x=>globalThis.__angularfire_symbol__messagingIsSupportedValue=x)),globalThis[ul]||(globalThis[ul]=Ju().then(x=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=x));const ch=(x,E)=>{const R=E?[E]:(0,J.C6)(),z=[];return R.forEach(q=>{q.container.getProvider(x).instances.forEach(Se=>{z.includes(Se)||z.push(Se)})}),z};function Li(){}class Kc{constructor(E,R=yr){this.zone=E,this.delegate=R}now(){return this.delegate.now()}schedule(E,R,z){const q=this.zone;return this.delegate.schedule(function(Se){q.runGuarded(()=>{E.apply(this,[Se])})},R,z)}}class hl{constructor(E){this.zone=E,this.task=null}call(E,R){const z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Li,{},Li,Li)),R.pipe((0,ll.b)({next:z,complete:z,error:z})).subscribe(E).add(z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zl=(()=>{class x{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Kc(Zone.current)),this.insideAngular=R.run(()=>new Kc(Zone.current,m1.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(R){return new(R||x)(l.LFG(l.R0b))},x.\u0275prov=l.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Vr(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function ga(x){return Vr(),function Kl(x){return function(R){return(R=R.lift(new hl(x.ngZone))).pipe((0,ko.R)(x.outsideAngular),(0,Yc.Q)(x.insideAngular))}}(Vr())(x)}},2090:(lt,Ce,P)=>{"use strict";P.d(Ce,{BH:()=>je,LL:()=>de,ZR:()=>Fe,zI:()=>pe,US:()=>he,tV:()=>ce,$s:()=>Ct,r3:()=>Tr,Sg:()=>Me,ne:()=>Si,vZ:()=>Wt,ZB:()=>j,pd:()=>ys,m9:()=>bs,z$:()=>Re,jU:()=>se,ru:()=>me,d:()=>ge,xb:()=>Un,w1:()=>Ge,hl:()=>yt,uI:()=>ze,UG:()=>Z,b$:()=>De,G6:()=>Ke,Mn:()=>xe,xO:()=>yo,zd:()=>cr,eu:()=>ee});const ae=function(B){const $=[];let W=0;for(let ye=0;ye<B.length;ye++){let ie=B.charCodeAt(ye);ie<128?$[W++]=ie:ie<2048?($[W++]=ie>>6|192,$[W++]=63&ie|128):55296==(64512&ie)&&ye+1<B.length&&56320==(64512&B.charCodeAt(ye+1))?(ie=65536+((1023&ie)<<10)+(1023&B.charCodeAt(++ye)),$[W++]=ie>>18|240,$[W++]=ie>>12&63|128,$[W++]=ie>>6&63|128,$[W++]=63&ie|128):($[W++]=ie>>12|224,$[W++]=ie>>6&63|128,$[W++]=63&ie|128)}return $},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,$){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let ie=0;ie<B.length;ie+=3){const We=B[ie],Dt=ie+1<B.length,bn=Dt?B[ie+1]:0,ni=ie+2<B.length,Gn=ni?B[ie+2]:0;let Ii=(15&bn)<<2|Gn>>6,Us=63&Gn;ni||(Us=64,Dt||(Ii=64)),ye.push(W[We>>2],W[(3&We)<<4|bn>>4],W[Ii],W[Us])}return ye.join("")},encodeString(B,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(B):this.encodeByteArray(ae(B),$)},decodeString(B,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(B):function(B){const $=[];let W=0,ye=0;for(;W<B.length;){const ie=B[W++];if(ie<128)$[ye++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const We=B[W++];$[ye++]=String.fromCharCode((31&ie)<<6|63&We)}else if(ie>239&&ie<365){const ni=((7&ie)<<18|(63&B[W++])<<12|(63&B[W++])<<6|63&B[W++])-65536;$[ye++]=String.fromCharCode(55296+(ni>>10)),$[ye++]=String.fromCharCode(56320+(1023&ni))}else{const We=B[W++],Dt=B[W++];$[ye++]=String.fromCharCode((15&ie)<<12|(63&We)<<6|63&Dt)}}return $.join("")}(this.decodeStringToByteArray(B,$))},decodeStringToByteArray(B,$){this.init_();const W=$?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let ie=0;ie<B.length;){const We=W[B.charAt(ie++)],bn=ie<B.length?W[B.charAt(ie)]:0;++ie;const Gn=ie<B.length?W[B.charAt(ie)]:64;++ie;const Ut=ie<B.length?W[B.charAt(ie)]:64;if(++ie,null==We||null==bn||null==Gn||null==Ut)throw Error();ye.push(We<<2|bn>>4),64!==Gn&&(ye.push(bn<<4&240|Gn>>2),64!==Ut&&ye.push(Gn<<6&192|Ut))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},le=function(B){return function(B){const $=ae(B);return he.encodeByteArray($,!0)}(B).replace(/\./g,"")},ce=function(B){try{return he.decodeString(B,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function j(B,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return $}for(const W in $)!$.hasOwnProperty(W)||!ne(W)||(B[W]=j(B[W],$[W]));return B}function ne(B){return"__proto__"!==B}class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,W)=>{this.resolve=$,this.reject=W})}wrapCallback($){return(W,ye)=>{W?this.reject(W):this.resolve(ye),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(W):$(W,ye))}}}function Me(B,$){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=$||"demo-project",ie=B.iat||0,We=B.sub||B.user_id;if(!We)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Dt=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:ie,exp:ie+3600,auth_time:ie,sub:We,user_id:We,firebase:{sign_in_provider:"custom",identities:{}}},B);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(Dt)),""].join(".")}function Re(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ze(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function Z(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function se(){return"object"==typeof self&&self.self===self}function me(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function De(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ge(){return Re().indexOf("Electron/")>=0}function Ge(){const B=Re();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function xe(){return Re().indexOf("MSAppHost/")>=0}function Ke(){return!Z()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yt(){return"object"==typeof indexedDB}function ee(){return new Promise((B,$)=>{try{let W=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(ye);ie.onsuccess=()=>{ie.result.close(),W||self.indexedDB.deleteDatabase(ye),B(!0)},ie.onupgradeneeded=()=>{W=!1},ie.onerror=()=>{var We;$((null===(We=ie.error)||void 0===We?void 0:We.message)||"")}}catch(W){$(W)}})}function pe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Fe extends Error{constructor($,W,ye){super(W),this.code=$,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,Fe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,de.prototype.create)}}class de{constructor($,W,ye){this.service=$,this.serviceName=W,this.errors=ye}create($,...W){const ye=W[0]||{},ie=`${this.service}/${$}`,We=this.errors[$],Dt=We?function Rt(B,$){return B.replace(qt,(W,ye)=>{const ie=$[ye];return null!=ie?String(ie):`<${ye}?>`})}(We,ye):"Error";return new Fe(ie,`${this.serviceName}: ${Dt} (${ie}).`,ye)}}const qt=/\{\$([^}]+)}/g;function Tr(B,$){return Object.prototype.hasOwnProperty.call(B,$)}function Un(B){for(const $ in B)if(Object.prototype.hasOwnProperty.call(B,$))return!1;return!0}function Wt(B,$){if(B===$)return!0;const W=Object.keys(B),ye=Object.keys($);for(const ie of W){if(!ye.includes(ie))return!1;const We=B[ie],Dt=$[ie];if(kn(We)&&kn(Dt)){if(!Wt(We,Dt))return!1}else if(We!==Dt)return!1}for(const ie of ye)if(!W.includes(ie))return!1;return!0}function kn(B){return null!==B&&"object"==typeof B}function yo(B){const $=[];for(const[W,ye]of Object.entries(B))Array.isArray(ye)?ye.forEach(ie=>{$.push(encodeURIComponent(W)+"="+encodeURIComponent(ie))}):$.push(encodeURIComponent(W)+"="+encodeURIComponent(ye));return $.length?"&"+$.join("&"):""}function cr(B){const $={};return B.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[ie,We]=ye.split("=");$[decodeURIComponent(ie)]=decodeURIComponent(We)}}),$}function ys(B){const $=B.indexOf("?");if(!$)return"";const W=B.indexOf("#",$);return B.substring($,W>0?W:void 0)}function Si(B,$){const W=new nt(B,$);return W.subscribe.bind(W)}class nt{constructor($,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{$(this)}).catch(ye=>{this.error(ye)})}next($){this.forEachObserver(W=>{W.next($)})}error($){this.forEachObserver(W=>{W.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,W,ye){let ie;if(void 0===$&&void 0===W&&void 0===ye)throw new Error("Missing Observer.");ie=function Jt(B,$){if("object"!=typeof B||null===B)return!1;for(const W of $)if(W in B&&"function"==typeof B[W])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:W,complete:ye},void 0===ie.next&&(ie.next=ti),void 0===ie.error&&(ie.error=ti),void 0===ie.complete&&(ie.complete=ti);const We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch(Dt){}}),this.observers.push(ie),We}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,$)}sendOne($,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{W(this.observers[$])}catch(ye){"undefined"!=typeof console&&console.error&&console.error(ye)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ti(){}function Ct(B,$=1e3,W=2){const ye=$*Math.pow(W,B),ie=Math.round(.5*ye*(Math.random()-.5)*2);return Math.min(144e5,ye+ie)}function bs(B){return B&&B._delegate?B._delegate:B}},2057:(lt,Ce,P)=>{"use strict";var l=P(5e3);let J=null;function N(){return J}const X=new l.OlP("DocumentToken");let le=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ce(){return(0,l.LFG)(j)}()},providedIn:"platform"}),n})();const U=new l.OlP("Location Initialized");let j=(()=>{class n extends le{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ne()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ne()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function je(){return new j((0,l.LFG)(X))}()},providedIn:"platform"}),n})();function ne(){return!!window.history.pushState}function Me(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Re(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ze(n){return n&&"?"!==n[0]?"?"+n:n}let Z=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function se(n){const t=(0,l.LFG)(X).location;return new De((0,l.LFG)(le),t&&t.origin||"")}()},providedIn:"root"}),n})();const me=new l.OlP("appBaseHref");let De=(()=>{class n extends Z{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Me(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ze(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const u=this.prepareExternalUrl(r+ze(s));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){const u=this.prepareExternalUrl(r+ze(s));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(le),l.LFG(me,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ge=(()=>{class n extends Z{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Me(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let u=this.prepareExternalUrl(r+ze(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,s){let u=this.prepareExternalUrl(r+ze(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(le),l.LFG(me,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n{constructor(e,i){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Re(Ke(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ze(i))}normalize(e){return n.stripTrailingSlash(function ot(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ke(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ze(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ze(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=ze,n.joinWithSlash=Me,n.stripTrailingSlash=Re,n.\u0275fac=function(e){return new(e||n)(l.LFG(Z),l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function xe(){return new Ge((0,l.LFG)(Z),(0,l.LFG)(le))}()},providedIn:"root"}),n})();function Ke(n){return n.replace(/\/index.html$/,"")}var pe=(()=>((pe=pe||{})[pe.Zero=0]="Zero",pe[pe.One=1]="One",pe[pe.Two=2]="Two",pe[pe.Few=3]="Few",pe[pe.Many=4]="Many",pe[pe.Other=5]="Other",pe))();const ys=l.kL8;class Qt{}let qn=(()=>{class n extends Qt{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(ys(i||this.locale)(e)){case pe.Zero:return"zero";case pe.One:return"one";case pe.Two:return"two";case pe.Few:return"few";case pe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),$s=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class is{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let oi=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new is(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,u),Qo(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Qo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Qo(n,t){n.context.$implicit=t.item}let Mi=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new gn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Yu("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Yu("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class gn{constructor(){this.$implicit=null,this.ngIf=null}}function Yu(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}class Xo{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let qi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Wi=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Xo(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(qi,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Tc=(()=>{class n{constructor(e,i,r){r._addDefault(new Xo(e,i))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(qi,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();class za{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Wd{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const Zu=new Wd,Yd=new za;let kc=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,l.QGY)(e))return Zu;if((0,l.F4k)(e))return Yd;throw function Rr(n,t){return new l.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1}),n})(),Cn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:Qt,useClass:qn}]}),n})();const t1="browser";function Fi(n){return n===t1}function Ua(n){return"server"===n}let Fc=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new s1((0,l.LFG)(X),window)}),n})();class s1{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Ws(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const u=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=rn(this.window.history)||rn(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function rn(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ea extends class Zd extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){J||(J=n)}(new ea)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Yn(){return ai=ai||document.querySelector("base"),ai?ai.getAttribute("href"):null}();return null==e?null:function ta(n){ws=ws||document.createElement("a"),ws.setAttribute("href",n);const t=ws.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ai=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Ko(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let ws,ai=null;const os=new l.OlP("TRANSITION_ID"),li=[{provide:l.ip1,useFactory:function Yi(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const i=N(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[os,X,l.zs3],multi:!0}];class as{static init(){(0,l.VLi)(new as)}addToWindow(t){l.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,u=!1;const h=function(_){u=u||_,s--,0==s&&i(u)};r.forEach(function(_){_.whenStable(h)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Lc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Zi=new l.OlP("EventManagerPlugins");let Ys=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const u=r[s];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Zi),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class na{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=N().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let wt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Di=(()=>{class n extends wt{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Ga),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ga))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Ga(n){N().remove(n)}const $a={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ia=/%COMP%/g;function vn(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?vn(n,r,e):(r=r.replace(ia,n),e.push(r))}return e}function So(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ki=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ms(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Vl(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case l.ifc.ShadowDom:return new sa(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=vn(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ys),l.LFG(Di),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Ms{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS($a[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=$a[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=$a[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,i,r&l.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,So(i)):this.eventManager.addEventListener(t,e,So(i))}}class Vl extends Ms{constructor(t,e,i,r){super(t),this.component=i;const s=vn(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function zt(n){return"_ngcontent-%COMP%".replace(ia,n)}(r+"-"+i.id),this.hostAttr=function Fl(n){return"_nghost-%COMP%".replace(ia,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class sa extends Ms{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=vn(r.id,r.styles,[]);for(let u=0;u<s.length;u++){const h=document.createElement("style");h.textContent=s[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let qa=(()=>{class n extends na{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ci=["alt","control","meta","shift"],Bl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ds={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Nr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let a1=(()=>{class n extends na{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,s.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let u="";if(ci.forEach(_=>{const C=i.indexOf(_);C>-1&&(i.splice(C,1),u+=_+".")}),u+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=u,h}static getEventFullKey(e){let i="",r=function oa(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Ds.hasOwnProperty(t)&&(t=Ds[t]))}return Bl[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ci.forEach(s=>{s!=r&&Nr[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Za=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:t1},{provide:l.g9A,useValue:function Hl(){ea.makeCurrent(),as.init()},multi:!0},{provide:X,useFactory:function aa(){return(0,l.RDi)(document),document},deps:[]}]),Ka=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Wa(){return new l.qLn},deps:[]},{provide:Zi,useClass:qa,multi:!0,deps:[X,l.R0b,l.Lbi]},{provide:Zi,useClass:a1,multi:!0,deps:[X]},{provide:Ki,useClass:Ki,deps:[Ys,Di,l.AFp]},{provide:l.FYo,useExisting:Ki},{provide:wt,useExisting:Di},{provide:Di,useClass:Di,deps:[X]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:Ys,useClass:Ys,deps:[Zi,l.R0b]},{provide:class _n{},useClass:Lc,deps:[]}];let jl=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:os,useExisting:l.AFp},li]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:Ka,imports:[Cn,l.hGG]}),n})();"undefined"!=typeof window&&window;let Es=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):l.LFG(eh),i},providedIn:"root"}),n})(),eh=(()=>{class n extends Es{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.yhl)(i),(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,l.JVY)(e)}bypassSecurityTrustStyle(e){return(0,l.L6k)(e)}bypassSecurityTrustScript(e){return(0,l.eBb)(e)}bypassSecurityTrustUrl(e){return(0,l.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,l.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function jc(n){return new eh(n.get(X))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var Sn=P(8996),Qs=P(3269);function qe(...n){const t=(0,Qs.yG)(n);return(0,Sn.D)(n,t)}var Mt=P(7579);class hr extends Mt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var Nn=P(8306);const{isArray:th}=Array,{getPrototypeOf:tl,prototype:p1,keys:nl}=Object;function Gc(n){if(1===n.length){const t=n[0];if(th(t))return{args:t,keys:null};if(function ls(n){return n&&"object"==typeof n&&tl(n)===p1}(t)){const e=nl(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Ss=P(4671),ft=P(4004);const{isArray:nh}=Array;function rl(n){return(0,ft.U)(t=>function il(n,t){return nh(t)?n(...t):n(t)}(n,t))}function ca(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var dn=P(5403),Yl=P(9672);function Fr(n,t,e){n?(0,Yl.f)(e,n,t):t()}const da=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ha=P(8189);function Io(...n){return function sl(){return(0,ha.J)(1)}()((0,Sn.D)(n,(0,Qs.yG)(n)))}var Fn=P(8421);function To(n){return new Nn.y(t=>{(0,Fn.Xf)(n()).subscribe(t)})}var Ao=P(515),Ln=P(727),Tn=P(4482);function Bn(){return(0,Tn.e)((n,t)=>{let e=null;n._refCount++;const i=new dn.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class ol extends Nn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Tn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ln.w0;const e=this.getSubject();t.add(this.source.subscribe(new dn.Q(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ln.w0.EMPTY)}return t}refCount(){return Bn()(this)}}function In(n,t){return(0,Tn.e)((e,i)=>{let r=null,s=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe(new dn.Q(i,_=>{null==r||r.unsubscribe();let C=0;const M=s++;(0,Fn.Xf)(n(_,M)).subscribe(r=new dn.Q(i,I=>i.next(t?t(_,I,M,C++):I),()=>{r=null,h()}))},()=>{u=!0,h()}))})}var hn=P(5698);function Hn(...n){const t=(0,Qs.yG)(n);return(0,Tn.e)((e,i)=>{(t?Io(n,e,t):Io(n,e)).subscribe(i)})}function Xs(n,t,e,i,r){return(s,u)=>{let h=e,_=t,C=0;s.subscribe(new dn.Q(u,M=>{const I=C++;_=h?n(_,M,I):(h=!0,M),i&&u.next(_)},r&&(()=>{h&&u.next(_),u.complete()})))}}function fa(n,t){return(0,Tn.e)(Xs(n,t,arguments.length>=2,!0))}function fn(n,t){return(0,Tn.e)((e,i)=>{let r=0;e.subscribe(new dn.Q(i,s=>n.call(t,s,r++)&&i.next(s)))})}function Qi(n){return(0,Tn.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe(new dn.Q(e,void 0,void 0,u=>{s=(0,Fn.Xf)(n(u,Qi(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}var zn=P(5577),vr=P(576);function Xt(n,t){return(0,vr.m)(t)?(0,zn.z)(n,t,1):(0,zn.z)(n,1)}function pa(n){return n<=0?()=>Ao.E:(0,Tn.e)((t,e)=>{let i=[];t.subscribe(new dn.Q(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Wc(n=ih){return(0,Tn.e)((t,e)=>{let i=!1;t.subscribe(new dn.Q(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function ih(){return new da}function rh(n){return(0,Tn.e)((t,e)=>{let i=!1;t.subscribe(new dn.Q(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function al(n,t){const e=arguments.length>=2;return i=>i.pipe(n?fn((r,s)=>n(r,s,i)):Ss.y,(0,hn.q)(1),e?rh(t):Wc(()=>new da))}var Kn=P(8505);class Is{constructor(t,e){this.id=t,this.url=e}}class jn extends Is{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ma extends Is{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Lr extends Is{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yf extends Is{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oh extends Is{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yr extends Is{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zr extends Is{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class m1 extends Is{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ll extends Is{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ko{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yc{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ah{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cl{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g1{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lh{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ul{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const gt="primary";class dl{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function fr(n){return new dl(n)}const bf="ngNavigationCancelingError";function Zc(n){const t=Error("NavigationCancelingError: "+n);return t[bf]=!0,t}function _1(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],h=n[s];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Li(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Kc(n[r],t[r]))return!1;return!0}function Kc(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function hl(n){return Array.prototype.concat.apply([],n)}function Zl(n){return n.length>0?n[n.length-1]:null}function Ti(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Vn(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Sn.D)(Promise.resolve(n)):qe(n)}const fl={exact:function Ql(n,t,e){if(!$e(n.segments,t.segments)||!z(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Ql(n.children[i],t.children[i],e))return!1;return!0},subset:E},ga={exact:function uh(n,t){return Li(n,t)},subset:function x(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Kc(n[e],t[e]))},ignored:()=>!0};function Kl(n,t,e){return fl[e.paths](n.root,t.root,e.matrixParams)&&ga[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function E(n,t,e){return R(n,t,t.segments,e)}function R(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!$e(r,e)||t.hasChildren()||!z(r,e,i))}if(n.segments.length===e.length){if(!$e(n.segments,e)||!z(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!E(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!($e(n.segments,r)&&z(n.segments,r,i)&&n.children[gt])&&R(n.children[gt],t,s,i)}}function z(n,t,e){return t.every((i,r)=>ga[e](n[r].parameters,i.parameters))}class q{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fr(this.queryParams)),this._queryParamMap}toString(){return ui.serialize(this)}}class Q{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ti(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yn(this)}}class Se{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=fr(this.parameters)),this._parameterMap}toString(){return y1(this)}}function $e(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class sn{}class Xi{parse(t){const e=new Am(t);return new q(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Br(t.root,!0)}`,i=function Xl(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${eo(e)}=${eo(r)}`).join("&"):`${eo(e)}=${eo(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function jr(n){return encodeURI(n)}(t.fragment)}`:""}`}}const ui=new Xi;function yn(n){return n.segments.map(t=>y1(t)).join("/")}function Br(n,t){if(!n.hasChildren())return yn(n);if(t){const e=n.children[gt]?Br(n.children[gt],!1):"",i=[];return Ti(n.children,(r,s)=>{s!==gt&&i.push(`${s}:${Br(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Yt(n,t){let e=[];return Ti(n.children,(i,r)=>{r===gt&&(e=e.concat(t(i,r)))}),Ti(n.children,(i,r)=>{r!==gt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===gt?[Br(n.children[gt],!1)]:[`${r}:${Br(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[gt]?`${yn(n)}/${e[0]}`:`${yn(n)}/(${e.join("//")})`}}function Hr(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eo(n){return Hr(n).replace(/%3B/gi,";")}function cs(n){return Hr(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function to(n){return decodeURIComponent(n)}function Qc(n){return to(n.replace(/\+/g,"%20"))}function y1(n){return`${cs(n.path)}${function dh(n){return Object.keys(n).map(t=>`;${cs(t)}=${cs(n[t])}`).join("")}(n.parameters)}`}const Jl=/^[^\/()?;=#]+/;function Xc(n){const t=n.match(Jl);return t?t[0]:""}const xg=/^[^=?&#]+/,hh=/^[^&#]+/;class Am{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Q([],{}):new Q([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[gt]=new Q(t,e)),i}parseSegment(){const t=Xc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Se(to(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Xc(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Xc(this.remaining);r&&(i=r,this.capture(i))}t[to(e)]=to(i)}parseQueryParam(t){const e=function wf(n){const t=n.match(xg);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function Eg(n){const t=n.match(hh);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Qc(e),s=Qc(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Xc(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=gt);const u=this.parseChildren();e[s]=1===Object.keys(u).length?u[gt]:new Q([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class b1{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=fh(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=fh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ec(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return ec(t,this._root).map(e=>e.value)}}function fh(n,t){if(n===t.value)return t;for(const e of t.children){const i=fh(n,e);if(i)return i}return null}function ec(n,t){if(n===t.value)return[t];for(const e of t.children){const i=ec(n,e);if(i.length)return i.unshift(t),i}return[]}class Ur{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ts(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class C1 extends b1{constructor(t,e){super(t),this.snapshot=e,io(this,t)}toString(){return this.snapshot.toString()}}function Jc(n,t){const e=function Mf(n,t){const u=new nc([],{},{},"",{},gt,t,null,n.root,-1,{});return new w1("",new Ur(u,[]))}(n,t),i=new hr([new Se("",{})]),r=new hr({}),s=new hr({}),u=new hr({}),h=new hr(""),_=new no(i,r,u,h,s,gt,t,e.root);return _.snapshot=e.root,new C1(new Ur(_,[]),e)}class no{constructor(t,e,i,r,s,u,h,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(t=>fr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(t=>fr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tc(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Df(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class nc{constructor(t,e,i,r,s,u,h,_,C,M,I){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.routeConfig=_,this._urlSegment=C,this._lastPathIndex=M,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class w1 extends b1{constructor(t,e){super(e),this.url=t,io(this,e)}toString(){return xf(this._root)}}function io(n,t){t.value._routerState=n,t.children.forEach(e=>io(n,e))}function xf(n){const t=n.children.length>0?` { ${n.children.map(xf).join(", ")} } `:"";return`${n.value}${t}`}function M1(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Li(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Li(t.params,e.params)||n.params.next(e.params),function ch(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Li(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Li(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function eu(n,t){const e=Li(n.params,t.params)&&function Xe(n,t){return $e(n,t)&&n.every((e,i)=>Li(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||eu(n.parent,t.parent))}function tu(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Ro(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return tu(n,i,r);return tu(n,i)})}(n,t,e);return new Ur(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>tu(n,h)),u}}const i=function _a(n){return new no(new hr(n.url),new hr(n.params),new hr(n.queryParams),new hr(n.fragment),new hr(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>tu(n,s));return new Ur(i,r)}}function D1(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ic(n){return"object"==typeof n&&null!=n&&n.outlets}function ph(n,t,e,i,r){let s={};return i&&Ti(i,(u,h)=>{s[h]=Array.isArray(u)?u.map(_=>`${_}`):`${u}`}),new q(e.root===n?t:nu(e.root,n,t),s,r)}function nu(n,t,e){const i={};return Ti(n.children,(r,s)=>{i[s]=r===t?e:nu(r,t,e)}),new Q(n.segments,i)}class Sf{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&D1(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(ic);if(r&&r!==Zl(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mh{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Nm(n,t,e){if(n||(n=new Q([],{})),0===n.segments.length&&n.hasChildren())return x1(n,t,e);const i=function pl(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const u=n.segments[r],h=e[i];if(ic(h))break;const _=`${h}`,C=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&C&&"object"==typeof C&&void 0===C.outlets){if(!gh(_,C,u))return s;i+=2}else{if(!gh(_,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Q(n.segments.slice(0,i.pathIndex),{});return s.children[gt]=new Q(n.segments.slice(i.pathIndex),n.children),x1(s,0,r)}return i.match&&0===r.length?new Q(n.segments,{}):i.match&&!n.hasChildren()?E1(n,t,e):i.match?x1(n,0,r):E1(n,t,e)}function x1(n,t,e){if(0===e.length)return new Q(n.segments,{});{const i=function Pm(n){return ic(n[0])?n[0].outlets:{[gt]:n}}(e),r={};return Ti(i,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[u]=Nm(n.children[u],t,s))}),Ti(n.children,(s,u)=>{void 0===i[u]&&(r[u]=s)}),new Q(n.segments,r)}}function E1(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(ic(s)){const _=ro(s.outlets);return new Q(i,_)}if(0===r&&D1(e[0])){i.push(new Se(n.segments[t].path,rc(e[0]))),r++;continue}const u=ic(s)?s.outlets[gt]:`${s}`,h=r<e.length-1?e[r+1]:null;u&&h&&D1(h)?(i.push(new Se(u,rc(h))),r+=2):(i.push(new Se(u,{})),r++)}return new Q(i,{})}function ro(n){const t={};return Ti(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=E1(new Q([],{}),0,e))}),t}function rc(n){const t={};return Ti(n,(e,i)=>t[i]=`${e}`),t}function gh(n,t,e){return n==e.path&&Li(t,e.parameters)}class _h{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),M1(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Ts(e);t.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),Ti(r,(s,u)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Ts(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Ts(t);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Ts(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new lh(s.value.snapshot))}),t.children.length&&this.forwardEvent(new cl(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(M1(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),M1(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=function Sg(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),_=h?h.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=_,u.outlet&&u.outlet.activateWith(r,_),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class Af{constructor(t,e){this.routes=t,this.module=e}}function ml(n){return"function"==typeof n}function As(n){return n instanceof q}const iu=Symbol("INITIAL_VALUE");function gl(){return In(n=>function ua(...n){const t=(0,Qs.yG)(n),e=(0,Qs.jO)(n),{args:i,keys:r}=Gc(n);if(0===i.length)return(0,Sn.D)([],t);const s=new Nn.y(function $c(n,t,e=Ss.y){return i=>{Fr(t,()=>{const{length:r}=n,s=new Array(r);let u=r,h=r;for(let _=0;_<r;_++)Fr(t,()=>{const C=(0,Sn.D)(n[_],t);let M=!1;C.subscribe(new dn.Q(i,I=>{s[_]=I,M||(M=!0,h--),h||i.next(e(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>ca(r,u):Ss.y));return e?s.pipe(rl(e)):s}(n.map(t=>t.pipe((0,hn.q)(1),Hn(iu)))).pipe(fa((t,e)=>{let i=!1;return e.reduce((r,s,u)=>r!==iu?r:(s===iu&&(i=!0),i||!1!==s&&u!==e.length-1&&!As(s)?r:s),t)},iu),fn(t=>t!==iu),(0,ft.U)(t=>As(t)?t:!0===t),(0,hn.q)(1)))}class Fm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new sc,this.attachRef=null}}class sc{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Fm,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let ru=(()=>{class n{constructor(e,i,r,s,u){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=s||gt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,_=new S1(e,h,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(sc),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class S1{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===no?this.route:t===sc?this.childContexts:this.parent.get(t,e)}}let Ch=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},directives:[ru],encapsulation:2}),n})();function I1(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];Tg(i,wn(t,i))}}function Tg(n,t){n.children&&I1(n.children,t)}function wn(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function T1(n){const t=n.children&&n.children.map(T1),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==gt&&(e.component=Ch),e}function us(n){return n.outlet||gt}function oc(n,t){const e=n.filter(i=>us(i)===t);return e.push(...n.filter(i=>us(i)!==t)),e}const wh={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ac(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},wh):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||_1)(e,n,t);if(!s)return Object.assign({},wh);const u={};Ti(s.posParams,(_,C)=>{u[C]=_.path});const h=s.consumed.length>0?Object.assign(Object.assign({},u),s.consumed[s.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:h,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function A1(n,t,e,i,r="corrected"){if(e.length>0&&function zm(n,t,e){return e.some(i=>su(n,t,i)&&us(i)!==gt)}(n,e,i)){const u=new Q(t,function Mh(n,t,e,i){const r={};r[gt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&us(s)!==gt){const u=new Q([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[us(s)]=u}return r}(n,t,i,new Q(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function Ag(n,t,e){return e.some(i=>su(n,t,i))}(n,e,i)){const u=new Q(n.segments,function Lm(n,t,e,i,r,s){const u={};for(const h of i)if(su(n,e,h)&&!r[us(h)]){const _=new Q([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===s?n.segments.length:t.length,u[us(h)]=_}return Object.assign(Object.assign({},r),u)}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const s=new Q(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function su(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function lc(n,t,e,i){return!!(us(n)===i||i!==gt&&su(t,e,n))&&("**"===n.path||ac(t,n,e).matched)}function Ji(n,t,e){return 0===t.length&&!n.children[e]}class _l{constructor(t){this.segmentGroup=t||null}}class Dh{constructor(t){this.urlTree=t}}function ou(n){return new Nn.y(t=>t.error(new _l(n)))}function Ai(n){return new Nn.y(t=>t.error(new Dh(n)))}function vl(n){return new Nn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Eh{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(l.h0i)}apply(){const t=A1(this.urlTree.root,[],[],this.config).segmentGroup,e=new Q(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,gt).pipe((0,ft.U)(s=>this.createUrlTree(Sh(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Qi(s=>{if(s instanceof Dh)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof _l?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,gt).pipe((0,ft.U)(r=>this.createUrlTree(Sh(r),t.queryParams,t.fragment))).pipe(Qi(r=>{throw r instanceof _l?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new Q([],{[gt]:t}):t;return new q(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,ft.U)(s=>new Q([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Sn.D)(r).pipe(Xt(s=>{const u=i.children[s],h=oc(e,s);return this.expandSegmentGroup(t,h,u,s).pipe((0,ft.U)(_=>({segment:_,outlet:s})))}),fa((s,u)=>(s[u.outlet]=u.segment,s),{}),function sh(n,t){const e=arguments.length>=2;return i=>i.pipe(n?fn((r,s)=>n(r,s,i)):Ss.y,pa(1),e?rh(t):Wc(()=>new da))}())}expandSegment(t,e,i,r,s,u){return(0,Sn.D)(i).pipe(Xt(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,s,u).pipe(Qi(C=>{if(C instanceof _l)return qe(null);throw C}))),al(h=>!!h),Qi((h,_)=>{if(h instanceof da||"EmptyError"===h.name){if(Ji(e,r,s))return qe(new Q([],{}));throw new _l(e)}throw h}))}expandSegmentAgainstRoute(t,e,i,r,s,u,h){return lc(r,e,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u):ou(e):ou(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Ai(s):this.lineralizeSegments(i,s).pipe((0,zn.z)(u=>{const h=new Q(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,u){const{matched:h,consumedSegments:_,lastChild:C,positionalParamSegments:M}=ac(e,r,s);if(!h)return ou(e);const I=this.applyRedirectCommands(_,r.redirectTo,M);return r.redirectTo.startsWith("/")?Ai(I):this.lineralizeSegments(r,I).pipe((0,zn.z)(O=>this.expandSegment(t,e,i,O.concat(s.slice(C)),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?qe(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,ft.U)(O=>(i._loadedConfig=O,new Q(r,{})))):qe(new Q(r,{}));const{matched:u,consumedSegments:h,lastChild:_}=ac(e,i,r);if(!u)return ou(e);const C=r.slice(_);return this.getChildConfig(t,i,r).pipe((0,zn.z)(I=>{const O=I.module,L=I.routes,{segmentGroup:V,slicedSegments:Y}=A1(e,h,C,L),te=new Q(V.segments,V.children);if(0===Y.length&&te.hasChildren())return this.expandChildren(O,L,te).pipe((0,ft.U)(He=>new Q(h,He)));if(0===L.length&&0===Y.length)return qe(new Q(h,{}));const Oe=us(i)===s;return this.expandSegment(O,te,L,Y,Oe?gt:s,!0).pipe((0,ft.U)(Le=>new Q(h.concat(Le.segments),Le.children)))}))}getChildConfig(t,e,i){return e.children?qe(new Af(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?qe(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,zn.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,ft.U)(s=>(e._loadedConfig=s,s))):function xh(n){return new Nn.y(t=>t.error(Zc(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):qe(new Af([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?qe(r.map(u=>{const h=t.get(u);let _;if(function yh(n){return n&&ml(n.canLoad)}(h))_=h.canLoad(e,i);else{if(!ml(h))throw new Error("Invalid CanLoad guard");_=h(e,i)}return Vn(_)})).pipe(gl(),(0,Kn.b)(u=>{if(!As(u))return;const h=Zc(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,ft.U)(u=>!0===u)):qe(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return qe(i);if(r.numberOfChildren>1||!r.children[gt])return vl(t.redirectTo);r=r.children[gt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new q(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Ti(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=e[h]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let u={};return Ti(e.children,(h,_)=>{u[_]=this.createSegmentGroup(t,h,i,r)}),new Q(s,u)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function Sh(n){const t={};for(const i of Object.keys(n.children)){const s=Sh(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function k1(n){if(1===n.numberOfChildren&&n.children[gt]){const t=n.children[gt];return new Q(n.segments.concat(t.segments),t.children)}return n}(new Q(n.segments,t))}class au{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class lu{constructor(t,e){this.component=t,this.route=e}}function Bm(n,t,e){const i=n._root;return cu(i,t?t._root:null,e,[i.value])}function yl(n,t,e){const i=function jm(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function cu(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ts(t);return n.children.forEach(u=>{(function Ih(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const _=function Um(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!$e(n.url,t.url);case"pathParamsOrQueryParamsChange":return!$e(n.url,t.url)||!Li(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eu(n,t)||!Li(n.queryParams,t.queryParams);default:return!eu(n,t)}}(u,s,s.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new au(i)):(s.data=u.data,s._resolvedData=u._resolvedData),cu(n,t,s.component?h?h.children:null:e,i,r),_&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new lu(h.outlet.component,u))}else u&&va(t,h,r),r.canActivateChecks.push(new au(i)),cu(n,null,s.component?h?h.children:null:e,i,r)})(u,s[u.value.outlet],e,i.concat([u.value]),r),delete s[u.value.outlet]}),Ti(s,(u,h)=>va(u,e.getContext(h),r)),r}function va(n,t,e){const i=Ts(n),r=n.value;Ti(i,(s,u)=>{va(s,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new lu(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class kh{}function Rh(n){return new Nn.y(t=>t.error(n))}class R1{constructor(t,e,i,r,s,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=u}recognize(){const t=A1(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,gt);if(null===e)return null;const i=new nc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},gt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ur(i,e),s=new w1(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=tc(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const u=e.children[s],h=oc(t,s),_=this.processSegmentGroup(h,u,s);if(null===_)return null;i.push(..._)}const r=ya(i);return function Zm(n){n.sort((t,e)=>t.value.outlet===gt?-1:e.value.outlet===gt?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const s of t){const u=this.processSegmentAgainstRoute(s,e,i,r);if(null!==u)return u}return Ji(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!lc(t,e,i,r))return null;let s,u=[],h=[];if("**"===t.path){const L=i.length>0?Zl(i).parameters:{};s=new nc(i,L,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Nh(t),us(t),t.component,t,Oh(e),Ph(e)+i.length,Pf(t))}else{const L=ac(e,t,i);if(!L.matched)return null;u=L.consumedSegments,h=i.slice(L.lastChild),s=new nc(u,L.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Nh(t),us(t),t.component,t,Oh(e),Ph(e)+u.length,Pf(t))}const _=function Gr(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:C,slicedSegments:M}=A1(e,u,h,_.filter(L=>void 0===L.redirectTo),this.relativeLinkResolution);if(0===M.length&&C.hasChildren()){const L=this.processChildren(_,C);return null===L?null:[new Ur(s,L)]}if(0===_.length&&0===M.length)return[new Ur(s,[])];const I=us(t)===r,O=this.processSegment(_,C,M,I?gt:r);return null===O?null:[new Ur(s,O)]}}function du(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function ya(n){const t=[],e=new Set;for(const i of n){if(!du(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=ya(i.children);t.push(new Ur(i.value,r))}return t.filter(i=>!e.has(i))}function Oh(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Ph(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Nh(n){return n.data||{}}function Pf(n){return n.resolve||{}}function bl(n){return In(t=>{const e=n(t);return e?(0,Sn.D)(e).pipe((0,ft.U)(()=>t)):qe(t)})}class hu extends class pr{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Cl=new l.OlP("ROUTES");class Lh{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,ft.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=s.create(t);return new Af(hl(u.injector.get(Cl,void 0,l.XFs.Self|l.XFs.Optional)).map(T1),u)}),Qi(s=>{throw e._loader$=void 0,s}));return e._loader$=new ol(r,()=>new Mt.x).pipe(Bn()),e._loader$}loadModuleFactory(t){return Vn(t()).pipe((0,zn.z)(e=>e instanceof l.YKP?qe(e):(0,Sn.D)(this.compiler.compileModuleAsync(e))))}}class ao{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function P1(n){throw n}function zh(n,t,e){return t.parse("/")}function Ff(n,t){return qe(null)}const fu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let di=(()=>{class n{constructor(e,i,r,s,u,h,_){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Mt.x,this.errorHandler=P1,this.malformedUriErrorHandler=zh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ff,afterPreactivation:Ff},this.urlHandlingStrategy=new ao,this.routeReuseStrategy=new hu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const I=u.get(l.R0b);this.isNgZoneEnabled=I instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function v1(){return new q(new Q([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Lh(u,h,O=>this.triggerEvent(new ko(O)),O=>this.triggerEvent(new Yc(O))),this.routerState=Jc(this.currentUrlTree,this.rootComponentType),this.transitions=new hr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(fn(r=>0!==r.id),(0,ft.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),In(r=>{let s=!1,u=!1;return qe(r).pipe((0,Kn.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),In(h=>{const _=this.browserUrlTree.toString(),C=!this.navigated||h.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return N1(h.source)&&(this.browserUrlTree=h.extractedUrl),qe(h).pipe(In(I=>{const O=this.transitions.getValue();return i.next(new jn(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),O!==this.transitions.getValue()?Ao.E:Promise.resolve(I)}),function Rf(n,t,e,i){return In(r=>function Vm(n,t,e,i,r){return new Eh(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,ft.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Kn.b)(I=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:I.urlAfterRedirects})}),function so(n,t,e,i,r){return(0,zn.z)(s=>function Ym(n,t,e,i,r="emptyOnly",s="legacy"){try{const u=new R1(n,t,e,i,r,s).recognize();return null===u?Rh(new kh):qe(u)}catch(u){return Rh(u)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe((0,ft.U)(u=>Object.assign(Object.assign({},s),{targetSnapshot:u}))))}(this.rootComponentType,this.config,I=>this.serializeUrl(I),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Kn.b)(I=>{if("eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const L=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(L,I)}this.browserUrlTree=I.urlAfterRedirects}const O=new oh(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(O)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:L,source:V,restoredState:Y,extras:te}=h,Oe=new jn(O,this.serializeUrl(L),V,Y);i.next(Oe);const Be=Jc(L,this.rootComponentType).snapshot;return qe(Object.assign(Object.assign({},h),{targetSnapshot:Be,urlAfterRedirects:L,extras:Object.assign(Object.assign({},te),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),Ao.E}),bl(h=>{const{targetSnapshot:_,id:C,extractedUrl:M,rawUrl:I,extras:{skipLocationChange:O,replaceUrl:L}}=h;return this.hooks.beforePreactivation(_,{navigationId:C,appliedUrlTree:M,rawUrlTree:I,skipLocationChange:!!O,replaceUrl:!!L})}),(0,Kn.b)(h=>{const _=new yr(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(_)}),(0,ft.U)(h=>Object.assign(Object.assign({},h),{guards:Bm(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function uu(n,t){return(0,zn.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=e;return 0===u.length&&0===s.length?qe(Object.assign(Object.assign({},e),{guardsResult:!0})):function Of(n,t,e,i){return(0,Sn.D)(n).pipe((0,zn.z)(r=>function Ah(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?qe(s.map(h=>{const _=yl(h,t,r);let C;if(function bh(n){return n&&ml(n.canDeactivate)}(_))C=Vn(_.canDeactivate(n,t,e,i));else{if(!ml(_))throw new Error("Invalid CanDeactivate guard");C=Vn(_(n,t,e,i))}return C.pipe(al())})).pipe(gl()):qe(!0)}(r.component,r.route,e,t,i)),al(r=>!0!==r,!0))}(u,i,r,n).pipe((0,zn.z)(h=>h&&function vh(n){return"boolean"==typeof n}(h)?function Gm(n,t,e,i){return(0,Sn.D)(t).pipe(Xt(r=>Io(function qm(n,t){return null!==n&&t&&t(new ah(n)),qe(!0)}(r.route.parent,i),function $m(n,t){return null!==n&&t&&t(new g1(n)),qe(!0)}(r.route,i),function Th(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(u=>function Hm(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>To(()=>qe(u.guards.map(_=>{const C=yl(_,u.node,e);let M;if(function Ig(n){return n&&ml(n.canActivateChild)}(C))M=Vn(C.canActivateChild(i,n));else{if(!ml(C))throw new Error("Invalid CanActivateChild guard");M=Vn(C(i,n))}return M.pipe(al())})).pipe(gl())));return qe(s).pipe(gl())}(n,r.path,e),function Wm(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return qe(!0);const r=i.map(s=>To(()=>{const u=yl(s,t,e);let h;if(function kf(n){return n&&ml(n.canActivate)}(u))h=Vn(u.canActivate(t,n));else{if(!ml(u))throw new Error("Invalid CanActivate guard");h=Vn(u(t,n))}return h.pipe(al())}));return qe(r).pipe(gl())}(n,r.route,e))),al(r=>!0!==r,!0))}(i,s,n,t):qe(h)),(0,ft.U)(h=>Object.assign(Object.assign({},e),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Kn.b)(h=>{if(As(h.guardsResult)){const C=Zc(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw C.url=h.guardsResult,C}const _=new zr(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(_)}),fn(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),bl(h=>{if(h.guards.canActivateChecks.length)return qe(h).pipe((0,Kn.b)(_=>{const C=new m1(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}),In(_=>{let C=!1;return qe(_).pipe(function oo(n,t){return(0,zn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return qe(e);let s=0;return(0,Sn.D)(r).pipe(Xt(u=>function O1(n,t,e,i){return function Km(n,t,e,i){const r=Object.keys(n);if(0===r.length)return qe({});const s={};return(0,Sn.D)(r).pipe((0,zn.z)(u=>function Nf(n,t,e,i){const r=yl(n,t,i);return Vn(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe((0,Kn.b)(h=>{s[u]=h}))),pa(1),(0,zn.z)(()=>Object.keys(s).length===r.length?qe(s):Ao.E))}(n._resolve,n,t,i).pipe((0,ft.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),tc(n,e).resolve),null)))}(u.route,i,n,t)),(0,Kn.b)(()=>s++),pa(1),(0,zn.z)(u=>s===r.length?qe(e):Ao.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Kn.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Kn.b)(_=>{const C=new ll(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}))}),bl(h=>{const{targetSnapshot:_,id:C,extractedUrl:M,rawUrl:I,extras:{skipLocationChange:O,replaceUrl:L}}=h;return this.hooks.afterPreactivation(_,{navigationId:C,appliedUrlTree:M,rawUrlTree:I,skipLocationChange:!!O,replaceUrl:!!L})}),(0,ft.U)(h=>{const _=function km(n,t,e){const i=tu(n,t._root,e?e._root:void 0);return new C1(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:_})}),(0,Kn.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,ft.U)(i=>(new _h(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Kn.b)({next(){s=!0},complete(){s=!0}}),function Js(n){return(0,Tn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var h;s||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),Qi(h=>{if(u=!0,function Cf(n){return n&&n[bf]}(h)){const _=As(h.url);_||(this.navigated=!0,this.restoreHistory(r,!0));const C=new Lr(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(C),_?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||N1(r.source)};this.scheduleNavigation(M,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new yf(r.id,this.serializeUrl(r.extractedUrl),h);i.next(_);try{r.resolve(this.errorHandler(h))}catch(C){r.reject(C)}}return Ao.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},u=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(s.state=_)}const h=this.parseUrl(e.url);this.scheduleNavigation(h,i,u,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){I1(e),this.config=e.map(T1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:_}=i,C=r||this.routerState.root,M=_?this.currentUrlTree.fragment:u;let I=null;switch(h){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=s||null}return null!==I&&(I=this.removeEmptyProps(I)),function Ef(n,t,e,i,r){if(0===e.length)return ph(t.root,t.root,t,i,r);const s=function If(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Sf(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Ti(s.outlets,(_,C)=>{h[C]="string"==typeof _?_.split("/"):_}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((h,_)=>{0==_&&"."===h||(0==_&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new Sf(e,t,i)}(e);if(s.toRoot())return ph(t.root,new Q([],{}),t,i,r);const u=function Rm(n,t,e){if(n.isAbsolute)return new mh(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new mh(s,s===t.root,0)}const i=D1(n.commands[0])?0:1;return function Om(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new mh(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),h=u.processChildren?x1(u.segmentGroup,u.index,s.commands):Nm(u.segmentGroup,u.index,s.commands);return ph(u.segmentGroup,h,t,i,r)}(C,this.currentUrlTree,e,I,null!=M?M:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=As(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function Xm(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},fu):!1===i?Object.assign({},Qm):i,As(e))return Kl(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Kl(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ma(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,u){var h,_,C;if(this.disposed)return Promise.resolve(!1);const M=this.transitions.value,I=N1(i)&&M&&!N1(M.source),O=M.rawUrl.toString()===e.toString(),L=M.id===(null===(h=this.currentNavigation)||void 0===h?void 0:h.id);if(I&&O&&L)return Promise.resolve(!0);let Y,te,Oe;u?(Y=u.resolve,te=u.reject,Oe=u.promise):Oe=new Promise((He,It)=>{Y=He,te=It});const Be=++this.navigationId;let Le;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),Le=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(C=this.browserPageId)&&void 0!==C?C:0)+1):Le=0,this.setTransition({id:Be,targetPageId:Le,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:Y,reject:te,promise:Oe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Oe.catch(He=>Promise.reject(He))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new Lr(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function N1(n){return"imperative"!==n}class A{}class re{preload(t,e){return qe(null)}}let Pe=(()=>{class n{constructor(e,i,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new Lh(r,i,_=>e.triggerEvent(new ko(_)),_=>e.triggerEvent(new Yc(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(fn(e=>e instanceof ma),Xt(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(l.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const u=s._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return(0,Sn.D)(r).pipe((0,ha.J)(),(0,ft.U)(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?qe(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,zn.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(di),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(A))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof jn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ma&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ul&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new ul(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Je=new l.OlP("ROUTER_CONFIGURATION"),Ht=new l.OlP("ROUTER_FORROOT_GUARD"),ki=[Ge,{provide:sn,useClass:Xi},{provide:di,useFactory:function Hh(n,t,e,i,r,s,u={},h,_){const C=new di(null,n,t,e,i,r,hl(s));return h&&(C.urlHandlingStrategy=h),_&&(C.routeReuseStrategy=_),function mu(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,C),u.enableTracing&&C.events.subscribe(M=>{var I,O;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===(O=console.groupEnd)||void 0===O||O.call(console)}),C},deps:[sn,sc,Ge,l.zs3,l.Sil,Cl,Je,[class ba{},new l.FiY],[class Fh{},new l.FiY]]},sc,{provide:no,useFactory:function uc(n){return n.routerState.root},deps:[di]},Pe,re,class H{preload(t,e){return e().pipe(Qi(()=>qe(null)))}},{provide:Je,useValue:{enableTracing:!1}}];function ks(){return new l.PXZ("Router",di)}let pu=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[ki,cc(e),{provide:Ht,useFactory:Bh,deps:[[di,new l.FiY,new l.tp0]]},{provide:Je,useValue:i||{}},{provide:Z,useFactory:Vh,deps:[le,[new l.tBr(me),new l.FiY],Je]},{provide:Te,useFactory:F1,deps:[di,Fc,Je]},{provide:A,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:re},{provide:l.PXZ,multi:!0,useFactory:ks},[gu,{provide:l.ip1,multi:!0,useFactory:jh,deps:[gu]},{provide:z1,useFactory:L1,deps:[gu]},{provide:l.tb,multi:!0,useExisting:z1}]]}}static forChild(e){return{ngModule:n,providers:[cc(e)]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ht,8),l.LFG(di,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function F1(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Te(n,t,e)}function Vh(n,t,e={}){return e.useHash?new ge(n,t):new De(n,t)}function Bh(n){return"guarded"}function cc(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:Cl,multi:!0,useValue:n}]}let gu=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Mt.x}appInitializer(){return this.injector.get(U,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),s=this.injector.get(di),u=this.injector.get(Je);return"disabled"===u.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?qe(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Je),r=this.injector.get(Pe),s=this.injector.get(Te),u=this.injector.get(di),h=this.injector.get(l.z2F);e===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),s.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function jh(n){return n.appInitializer.bind(n)}function L1(n){return n.bootstrapListener.bind(n)}const z1=new l.OlP("Router Initializer");let kg=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),_u=(()=>{class n extends kg{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const zi=new l.OlP("NgValueAccessor"),IS={provide:zi,useExisting:(0,l.Gpc)(()=>V1),multi:!0},av=new l.OlP("CompositionEventMode");let V1=(()=>{class n extends kg{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Rg(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(av,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&l.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[l._Bn([IS]),l.qOj]}),n})();function dc(n){return null==n||0===n.length}function Og(n){return null!=n&&"number"==typeof n.length}const Mn=new l.OlP("NgValidators"),hc=new l.OlP("NgAsyncValidators"),Pg=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class fc{static min(t){return function Ng(n){return t=>{if(dc(t.value)||dc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Fg(n){return t=>{if(dc(t.value)||dc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Lg(t)}static requiredTrue(t){return function n0(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function zg(n){return dc(n.value)||Pg.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Vg(n){return t=>dc(t.value)||!Og(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Bg(n){return t=>Og(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function kt(n){if(!n)return B1;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(dc(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Lf(t)}static composeAsync(t){return zf(t)}}function Lg(n){return dc(n.value)?{required:!0}:null}function B1(n){return null}function r0(n){return null!=n}function s0(n){const t=(0,l.QGY)(n)?(0,Sn.D)(n):n;return(0,l.CqO)(t),t}function Gh(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function lo(n,t){return t.map(e=>e(n))}function jg(n){return n.map(t=>function Hg(n){return!n.validate}(t)?t:e=>t.validate(e))}function Lf(n){if(!n)return null;const t=n.filter(r0);return 0==t.length?null:function(e){return Gh(lo(e,t))}}function Po(n){return null!=n?Lf(jg(n)):null}function zf(n){if(!n)return null;const t=n.filter(r0);return 0==t.length?null:function(e){return function Jm(...n){const t=(0,Qs.jO)(n),{args:e,keys:i}=Gc(n),r=new Nn.y(s=>{const{length:u}=e;if(!u)return void s.complete();const h=new Array(u);let _=u,C=u;for(let M=0;M<u;M++){let I=!1;(0,Fn.Xf)(e[M]).subscribe(new dn.Q(s,O=>{I||(I=!0,C--),h[M]=O},()=>_--,void 0,()=>{(!_||!I)&&(C||s.next(i?ca(i,h):h),s.complete())}))}});return t?r.pipe(rl(t)):r}(lo(e,t).map(s0)).pipe((0,ft.U)(Gh))}}function Vf(n){return null!=n?zf(jg(n)):null}function Bf(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function lv(n){return n._rawValidators}function o0(n){return n._rawAsyncValidators}function Ug(n){return n?Array.isArray(n)?n:[n]:[]}function vu(n,t){return Array.isArray(n)?n.includes(t):n===t}function $h(n,t){const e=Ug(t);return Ug(n).forEach(r=>{vu(e,r)||e.push(r)}),e}function Hf(n,t){return Ug(t).filter(e=>!vu(n,e))}class jf{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Po(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Vf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Rs extends jf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ds extends jf{get formDirective(){return null}get path(){return null}}let a0=(()=>{class n extends class Gg{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Rs,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[l.qOj]}),n})();function co(n,t){qh(n,t),t.valueAccessor.writeValue(n.value),function c0(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&wl(n,t)})}(n,t),function Kg(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function uv(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&wl(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Zg(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function H1(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Wh(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function $f(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function qh(n,t){const e=lv(n);null!==t.validator?n.setValidators(Bf(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=o0(n);null!==t.asyncValidator?n.setAsyncValidators(Bf(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();$f(t._rawValidators,r),$f(t._rawAsyncValidators,r)}function Wh(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=lv(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=o0(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return $f(t._rawValidators,i),$f(t._rawAsyncValidators,i),e}function wl(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Qg(n,t){qh(n,t)}function j1(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function U1(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Ca="VALID",qf="INVALID",bu="PENDING",G1="DISABLED";function Zh(n){return(Wf(n)?n.validators:n)||null}function f0(n){return Array.isArray(n)?Po(n):n||null}function $1(n,t){return(Wf(t)?t.asyncValidators:n)||null}function Jg(n){return Array.isArray(n)?Vf(n):n||null}function Wf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const hv=n=>n instanceof br,Yf=n=>n instanceof g0;function t5(n){return hv(n)?n.value:n.getRawValue()}function p0(n,t){const e=Yf(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[t])throw new l.vHH(1001,"")}function n5(n,t){Yf(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,"")})}class m0{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=f0(this._rawValidators),this._composedAsyncValidatorFn=Jg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ca}get invalid(){return this.status===qf}get pending(){return this.status==bu}get disabled(){return this.status===G1}get enabled(){return this.status!==G1}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=f0(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Jg(t)}addValidators(t){this.setValidators($h(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators($h(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Hf(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Hf(t,this._rawAsyncValidators))}hasValidator(t){return vu(this._rawValidators,t)}hasAsyncValidator(t){return vu(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=bu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=G1,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ca,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ca||this.status===bu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?G1:Ca}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=bu,this._hasOwnPendingAsyncValidator=!0;const e=s0(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function h0(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=Yf(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof fv)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?G1:this.errors?qf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bu)?bu:this._anyControlsHaveStatus(qf)?qf:Ca}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Wf(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class br extends m0{constructor(t=null,e,i){super(Zh(e),$1(i,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){U1(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){U1(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class g0 extends m0{constructor(t,e,i){super(Zh(e),$1(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){n5(this,t),Object.keys(t).forEach(i=>{p0(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=t5(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class fv extends m0{constructor(t,e,i){super(Zh(e),$1(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){n5(this,t),t.forEach((i,r)=>{p0(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t5(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const zS={provide:ds,useExisting:(0,l.Gpc)(()=>Cu)},Zf=(()=>Promise.resolve(null))();let Cu=(()=>{class n extends ds{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new l.vpe,this.form=new g0({},Po(e),Vf(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Zf.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),co(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Zf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),U1(this._directives,e)})}addFormGroup(e){Zf.then(()=>{const i=this._findContainer(e.path),r=new g0({});Qg(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Zf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Zf.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,j1(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Mn,10),l.Y36(hc,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([zS]),l.qOj]}),n})(),No=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Kf=new l.OlP("NgModelWithFormControlWarning"),Cv={provide:Rs,useExisting:(0,l.Gpc)(()=>Qf)};let Qf=(()=>{class n extends Rs{constructor(e,i,r,s){super(),this._ngModelWarningConfig=s,this.update=new l.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=function pc(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===V1?e=s:function dv(n){return Object.getPrototypeOf(n.constructor)===_u}(s)?i=s:r=s}),r||i||e||null}(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&H1(i,this,!1),co(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}(function d0(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)})(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&H1(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(l.Y36(Mn,10),l.Y36(hc,10),l.Y36(zi,10),l.Y36(Kf,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[l._Bn([Cv]),l.qOj,l.TTD]}),n})();const wv={provide:ds,useExisting:(0,l.Gpc)(()=>mc)};let mc=(()=>{class n extends ds{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return co(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){H1(e.control||null,e,!1),U1(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,j1(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(H1(i||null,e),hv(r)&&(co(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Qg(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function u0(n,t){return Wh(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qh(this.form,this),this._oldForm&&Wh(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Mn,10),l.Y36(hc,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([wv]),l.qOj,l.TTD]}),n})();const x0={provide:Mn,useExisting:(0,l.Gpc)(()=>t2),multi:!0};let t2=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?Lg(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&l.uIk("required",i.required?"":null)},inputs:{required:"required"},features:[l._Bn([x0])]}),n})(),y5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[No]]}),n})(),W1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[y5]}),n})(),kv=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Kf,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[y5]}),n})();var q0={prefix:"fab",iconName:"facebook",icon:[512,512,[],"f09a","M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"]},D6={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},ho={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]},v2=P(127),Dn=P(6451),Ml=P(5363),ZC=P(6063);class KC extends Mt.x{constructor(t=1/0,e=1/0,i=ZC.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:u}=this;e||(i.push(t),!r&&i.push(s.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let u=0;u<s.length&&!t.closed;u+=i?1:2)t.next(s[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const u=e.now();let h=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)h=_;h&&i.splice(0,h+1)}}}var QC=P(3099);function dd(n,t,e){var i,r;let s,u=!1;return n&&"object"==typeof n?(s=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(r=n.windowTime)&&void 0!==r?r:1/0,u=!!n.refCount,e=n.scheduler):s=null!=n?n:1/0,(0,QC.B)({connector:()=>new KC(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}function i_(n,t){return(0,vr.m)(t)?In(()=>n,t):In(()=>n)}var y2=P(9468),er=P(5813),fo=P(2011);P(5867);var ve=P(5861),gc=P(9681),b2=P(4859),$t=P(2090),Dl=P(1877);const M3=new Map,nw={activated:!1,tokenObservers:[]},iw={initialized:!1,enabled:!1};function Bi(n){return M3.get(n)||nw}function Vo(n,t){M3.set(n,t)}function C2(){return iw}class f_{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ve.Z)(function*(){e.stop();try{e.pending=new $t.BH,yield function II(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new $t.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const hs=new $t.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function sw(n){if(!Bi(n).activated)throw hs.create("use-before-activation",{appName:n.name})}function fd(n,t){return m_.apply(this,arguments)}function m_(){return(m_=(0,ve.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});r&&(i["X-Firebase-Client"]=r.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(t),headers:i};let u,h;try{u=yield fetch(n,s)}catch(I){throw hs.create("fetch-network-error",{originalErrorMessage:I.message})}if(200!==u.status)throw hs.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(I){throw hs.create("fetch-parse-error",{originalErrorMessage:I.message})}const _=h.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw hs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const C=1e3*Number(_[1]),M=Date.now();return{token:h.attestationToken,expireTimeMillis:M+C,issuedAtTimeMillis:M}})).apply(this,arguments)}function g_(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Du="firebase-app-check-store";let w2=null;function I3(){return w2||(w2=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(hs.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Du,{keyPath:"compositeKey"})}}catch(e){t(hs.create("storage-open",{originalErrorMessage:e.message}))}}),w2)}function y_(){return(y_=(0,ve.Z)(function*(n,t){const i=(yield I3()).transaction(Du,"readwrite"),s=i.objectStore(Du).put({compositeKey:n,value:t});return new Promise((u,h)=>{s.onsuccess=_=>{u()},i.onerror=_=>{var C;h(hs.create("storage-set",{originalErrorMessage:null===(C=_.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const M2=new Dl.Yd("@firebase/app-check");function yp(n,t){return(0,$t.hl)()?function __(n,t){return function lw(n,t){return y_.apply(this,arguments)}(function vp(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{M2.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function b_(){return C2().enabled}function bp(){return k3.apply(this,arguments)}function k3(){return(k3=(0,ve.Z)(function*(){const n=C2();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const R3={error:"UNKNOWN_ERROR"};function C_(n){return $t.US.encodeString(JSON.stringify(n),!1)}function D2(n){return O3.apply(this,arguments)}function O3(){return(O3=(0,ve.Z)(function*(n,t=!1){const e=n.app;sw(e);const i=Bi(e);let s,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&fs(_)&&(r=_)}if(!t&&r&&fs(r))return{token:r.token};let h,u=!1;if(b_()){i.exchangeTokenPromise||(i.exchangeTokenPromise=fd(g_(e,yield bp()),n.platformLoggerProvider).then(C=>(i.exchangeTokenPromise=void 0,C)),u=!0);const _=yield i.exchangeTokenPromise;return yield yp(e,_),Vo(e,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?M2.warn(_.message):M2.error(_),s=_}return r?(h={token:r.token},Vo(e,Object.assign(Object.assign({},i),{token:r})),yield yp(e,r)):h=fw(s),u&&Mp(e,h),h})).apply(this,arguments)}function wp(n,t){const e=Bi(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Vo(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function w_(n){const{app:t}=n,e=Bi(t);let i=e.tokenRefresher;i||(i=function hw(n){const{app:t}=n;return new f_((0,ve.Z)(function*(){let i;if(i=Bi(t).token?yield D2(n,!0):yield D2(n),i.error)throw i.error}),()=>!0,()=>{const e=Bi(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Vo(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Mp(n,t){const e=Bi(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function fs(n){return n.expireTimeMillis-Date.now()>0}function fw(n){return{token:C_(R3),error:n}}class OI{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=Bi(this.app);for(const e of t)wp(this.app,e.next);return Promise.resolve()}}const yw="app-check-internal";!function VI(){(0,gc._registerComponent)(new b2.wA("app-check",n=>function pw(n,t){return new OI(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(yw).initialize()})),(0,gc._registerComponent)(new b2.wA(yw,n=>function M_(n){return{getToken:t=>D2(n,t),addTokenListener:t=>function Cp(n,t,e,i){const{app:r}=n,s=Bi(r),u={next:e,error:i,type:t};if(Vo(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,u]})),s.token&&fs(s.token)){const h=s.token;Promise.resolve().then(()=>{e({token:h.token}),w_(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>w_(n))}(n,"INTERNAL",t),removeTokenListener:t=>wp(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,gc.registerVersion)("@firebase/app-check","0.5.3")}();class z3{constructor(){return(0,er.vb)("app-check")}}"undefined"!=typeof window&&window;const Mw=new l.OlP("angularfire2.auth.use-emulator"),Dw=new l.OlP("angularfire2.auth.settings"),xw=new l.OlP("angularfire2.auth.tenant-id"),Ew=new l.OlP("angularfire2.auth.langugage-code"),U3=new l.OlP("angularfire2.auth.use-device-language"),L_=new l.OlP("angularfire.auth.persistence"),z_=(n,t,e,i,r,s,u,h)=>(0,fo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,s&&_.useDeviceLanguage(),u)for(const[C,M]of Object.entries(u))_.settings[C]=M;return h&&_.setPersistence(h),_},[e,i,r,s,u,h]);let S2=(()=>{class n{constructor(e,i,r,s,u,h,_,C,M,I,O,L){const V=new Mt.x,Y=qe(void 0).pipe((0,Ml.Q)(u.outsideAngular),In(()=>s.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,2209)))),(0,ft.U)(()=>(0,fo.on)(e,s,i)),(0,ft.U)(te=>z_(te,s,h,C,M,I,_,O)),dd({bufferSize:1,refCount:!1}));if(Ua(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=qe(null);else{Y.pipe(al()).subscribe();const Oe=Y.pipe(In(He=>He.getRedirectResult().then(It=>It,()=>null)),er.iC,dd({bufferSize:1,refCount:!1})),Be=Y.pipe(In(He=>new Nn.y(It=>({unsubscribe:s.runOutsideAngular(()=>He.onAuthStateChanged(jt=>It.next(jt),jt=>It.error(jt),()=>It.complete()))})))),Le=Y.pipe(In(He=>new Nn.y(It=>({unsubscribe:s.runOutsideAngular(()=>He.onIdTokenChanged(jt=>It.next(jt),jt=>It.error(jt),()=>It.complete()))}))));this.authState=Oe.pipe(i_(Be),(0,y2.R)(u.outsideAngular),(0,Ml.Q)(u.insideAngular)),this.user=Oe.pipe(i_(Le),(0,y2.R)(u.outsideAngular),(0,Ml.Q)(u.insideAngular)),this.idToken=this.user.pipe(In(He=>He?(0,Sn.D)(He.getIdToken()):qe(null))),this.idTokenResult=this.user.pipe(In(He=>He?(0,Sn.D)(He.getIdTokenResult()):qe(null))),this.credential=(0,Dn.T)(Oe,V,this.authState.pipe(fn(He=>!He))).pipe((0,ft.U)(He=>(null==He?void 0:He.user)?He:null),(0,y2.R)(u.outsideAngular),(0,Ml.Q)(u.insideAngular))}return(0,fo.pX)(this,Y,s,{spy:{apply:(te,Oe,Be)=>{(te.startsWith("signIn")||te.startsWith("createUser"))&&Be.then(Le=>V.next(Le))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(fo.Dh),l.LFG(fo.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(er.HU),l.LFG(Mw,8),l.LFG(Dw,8),l.LFG(xw,8),l.LFG(Ew,8),l.LFG(U3,8),l.LFG(L_,8),l.LFG(z3,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Sw=(()=>{class n{constructor(){v2.Z.registerVersion("angularfire",er.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[S2]}),n})(),gd=(()=>{class n{constructor(e,i){this.afAuth=e,this.router=i,this.authState=null,this.afAuth.authState.subscribe(r=>this.authState=r)}setCurrentUser(e){this.authState=e}registerWithEmail(e,i){return this.afAuth.createUserWithEmailAndPassword(e,i).then(r=>{this.authState=r}).catch(r=>{throw console.log(r),r})}loginWithEmail(e,i){return this.afAuth.signInWithEmailAndPassword(e,i).then(r=>{this.authState=r,console.log(this.authState.user._delegate)}).catch(r=>{throw console.log(r),r})}getCurrentId(){return null!==this.authState?this.authState.user._delegate.uid:""}getUserName(){if(null!==this.authState)return null==this.authState.user?null!==this.authState._delegate.displayName?this.authState._delegate.displayName:this.authState._delegate.email:null!==this.authState.user._delegate.displayName?this.authState.user._delegate.displayName:this.authState.user._delegate.email}getUserPhoto(){if(null!==this.authState)return null==this.authState.user?null==this.authState._delegate.photoURL?"":this.authState._delegate.photoURL:null==this.authState.user._delegate.photoURL?"":this.authState.user._delegate.photoURL}logOut(){this.afAuth.signOut(),this.router.navigate(["login"])}githubLogin(){const e=new v2.Z.auth.GithubAuthProvider;return this.socialSignIn(e)}googleLogin(){const e=new v2.Z.auth.GoogleAuthProvider;return this.socialSignIn(e)}facebookLogin(){const e=new v2.Z.auth.FacebookAuthProvider;return this.socialSignIn(e)}socialSignIn(e){return this.afAuth.signInWithPopup(e).then(i=>{this.authState=i}).catch(i=>{throw console.log(i),i})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(S2),l.LFG(di))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class G3{}const xl="*";function fi(n,t){return{type:7,name:n,definitions:t,options:{}}}function Zt(n,t=null){return{type:4,styles:t,timings:n}}function Iw(n,t=null){return{type:2,steps:n,options:t}}function Qe(n){return{type:6,styles:n,offset:null}}function Pt(n,t,e){return{type:0,name:n,styles:t,options:e}}function Kt(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function B_(n=null){return{type:9,options:n}}function H_(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function j_(n){Promise.resolve(null).then(n)}class _d{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){j_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class U_{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?j_(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==s&&this._onFinish()}),u.onDestroy(()=>{++i==s&&this._onDestroy()}),u.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function G_(){return"undefined"!=typeof window&&void 0!==window.document}function W3(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Eu(n){switch(n.length){case 0:return new _d;case 1:return n[0];default:return new U_(n)}}function Tw(n,t,e,i,r={},s={}){const u=[],h=[];let _=-1,C=null;if(i.forEach(M=>{const I=M.offset,O=I==_,L=O&&C||{};Object.keys(M).forEach(V=>{let Y=V,te=M[V];if("offset"!==V)switch(Y=t.normalizePropertyName(Y,u),te){case"!":te=r[V];break;case xl:te=s[V];break;default:te=t.normalizeStyleValue(V,Y,te,u)}L[Y]=te}),O||h.push(L),C=L,_=I}),u.length){const M="\n - ";throw new Error(`Unable to animate due to the following errors:${M}${u.join(M)}`)}return h}function $_(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&q_(e,"start",n)));break;case"done":n.onDone(()=>i(e&&q_(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&q_(e,"destroy",n)))}}function q_(n,t,e){const i=e.totalTime,s=W_(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(s._data=u),s}function W_(n,t,e,i,r="",s=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!u}}function Os(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Aw(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Y_=(n,t)=>!1,kw=(n,t,e)=>[];(W3()||"undefined"!=typeof Element)&&(Y_=G_()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),kw=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let a=null,c=!1;function d(n){a||(a=function f(){return"undefined"!=typeof document?document.body:null}()||{},c=!!a.style&&"WebkitAppearance"in a.style);let t=!0;return a.style&&!function o(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in a.style,!t&&c&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in a.style)),t}const g=Y_,y=kw;function w(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let D=(()=>{class n{validateStyleProperty(e){return d(e)}matchesElement(e,i){return!1}containsElement(e,i){return g(e,i)}query(e,i,r){return y(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,u,h=[],_){return new _d(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),T=(()=>{class n{}return n.NOOP=new D,n})();const K="ng-enter",fe="ng-leave",Ne="ng-trigger",Ue=".ng-trigger",tt="ng-animating",we=".ng-animating";function ut(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Gt(parseFloat(t[1]),t[2])}function Gt(n,t){return"s"===t?1e3*n:n}function on(n,t,e){return n.hasOwnProperty("duration")?n:function Ps(n,t,e){let r,s=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=Gt(parseFloat(h[1]),h[2]);const _=h[3];null!=_&&(s=Gt(parseFloat(_),h[4]));const C=h[5];C&&(u=C)}else r=n;if(!e){let h=!1,_=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),h=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),h=!0),h&&t.splice(_,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:s,easing:u}}(n,t,e)}function po(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Sa(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else po(n,e);return e}function Ep(n,t,e){return e?t+":"+e+";":""}function Sp(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=Ep(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Ep(0,XL(e),n.style[e]));n.setAttribute("style",t)}function mo(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=Rw(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),W3()&&Sp(n))}function El(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Rw(e);n.style[i]=""}),W3()&&Sp(n))}function Su(n){return Array.isArray(n)?1==n.length?n[0]:Iw(n):n}const I2=new RegExp("{{\\s*(.+?)\\s*}}","g");function $I(n){let t=[];if("string"==typeof n){let e;for(;e=I2.exec(n);)t.push(e[1]);I2.lastIndex=0}return t}function Z_(n,t,e){const i=n.toString(),r=i.replace(I2,(s,u)=>{let h=t[u];return t.hasOwnProperty(u)||(e.push(`Please provide a value for the animation param ${u}`),h=""),h.toString()});return r==i?n:r}function K_(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const QL=/-+([a-z0-9])/g;function Rw(n){return n.replace(QL,(...t)=>t[1].toUpperCase())}function XL(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qI(n,t){return 0===n||0===t}function WI(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],u=[];if(i.forEach(h=>{s.hasOwnProperty(h)||u.push(h),s[h]=e[h]}),u.length)for(var r=1;r<t.length;r++){let h=t[r];u.forEach(function(_){h[_]=Ow(n,_)})}}return t}function Bo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Ow(n,t){return window.getComputedStyle(n)[t]}function JL(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function ez(n,t,e){if(":"==n[0]){const _=function tz(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const r=i[1],s=i[2],u=i[3];t.push(YI(r,u));"<"==s[0]&&!("*"==r&&"*"==u)&&t.push(YI(u,r))}(i,e,t)):e.push(n),e}const X_=new Set(["true","1"]),J_=new Set(["false","0"]);function YI(n,t){const e=X_.has(n)||J_.has(n),i=X_.has(t)||J_.has(t);return(r,s)=>{let u="*"==n||n==r,h="*"==t||t==s;return!u&&e&&"boolean"==typeof r&&(u=r?X_.has(n):J_.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?X_.has(t):J_.has(t)),u&&h}}const nz=new RegExp("s*:selfs*,?","g");function Pw(n,t,e){return new iz(n).build(t,e)}class iz{constructor(t){this._driver=t}build(t,e){const i=new oz(e);return this._resetContextStyleTimingState(i),Bo(this,Su(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const _=h,C=_.name;C.toString().split(/\s*,\s*/).forEach(M=>{_.name=M,s.push(this.visitState(_,e))}),_.name=C}else if(1==h.type){const _=this.visitTransition(h,e);i+=_.queryCount,r+=_.depCount,u.push(_)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:s,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,u=r||{};if(i.styles.forEach(h=>{if(e7(h)){const _=h;Object.keys(_).forEach(C=>{$I(_[C]).forEach(M=>{u.hasOwnProperty(M)||s.add(M)})})}}),s.size){const h=K_(s.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${h.join(", ")}`)}}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Bo(this,Su(t.animation),e);return{type:1,matchers:JL(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:T2(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Bo(this,i,e)),options:T2(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(u=>{e.currentTime=i;const h=Bo(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:s,options:T2(t.options)}}visitAnimate(t,e){const i=function lz(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return Nw(on(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Nw(0,0,"");return s.dynamic=!0,s.strValue=i,s}return e=e||on(i,t),Nw(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Qe({});if(5==s.type)r=this.visitKeyframes(s,e);else{let u=t.styles,h=!1;if(!u){h=!0;const C={};i.easing&&(C.easing=i.easing),u=Qe(C)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,e);_.isEmptyStep=h,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==xl?i.push(u):e.errors.push(`The provided style string value ${u} is not allowed.`):i.push(u)}):i.push(t.styles);let r=!1,s=null;return i.forEach(u=>{if(e7(u)){const h=u,_=h.easing;if(_&&(s=_,delete h.easing),!r)for(let C in h)if(h[C].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return void e.errors.push(`The provided animation property "${h}" is not a supported CSS property for animations`);const _=e.collectedStyles[e.currentQuerySelector],C=_[h];let M=!0;C&&(s!=r&&s>=C.startTime&&r<=C.endTime&&(e.errors.push(`The CSS property "${h}" that exists between the times of "${C.startTime}ms" and "${C.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${r}ms"`),M=!1),s=C.startTime),M&&(_[h]={startTime:s,endTime:r}),e.options&&function Y3(n,t,e){const i=t.params||{},r=$I(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(u[h],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let s=0;const u=[];let h=!1,_=!1,C=0;const M=t.steps.map(Oe=>{const Be=this._makeStyleAst(Oe,e);let Le=null!=Be.offset?Be.offset:function az(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e7(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(e7(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Be.styles),He=0;return null!=Le&&(s++,He=Be.offset=Le),_=_||He<0||He>1,h=h||He<C,C=He,u.push(He),Be});_&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),h&&e.errors.push("Please ensure that all keyframe offsets are in order");const I=t.steps.length;let O=0;s>0&&s<I?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(O=1/(I-1));const L=I-1,V=e.currentTime,Y=e.currentAnimateTimings,te=Y.duration;return M.forEach((Oe,Be)=>{const Le=O>0?Be==L?1:O*Be:u[Be],He=Le*te;e.currentTime=V+Y.delay+He,Y.duration=He,this._validateStyleAst(Oe,e),Oe.offset=Le,i.styles.push(Oe)}),i}visitReference(t,e){return{type:8,animation:Bo(this,Su(t.animation),e),options:T2(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:T2(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:T2(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,u]=function rz(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(nz,"")),n=n.replace(/@\*/g,Ue).replace(/@\w+/g,e=>Ue+"-"+e.substr(1)).replace(/:animating/g,we),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Os(e.collectedStyles,e.currentQuerySelector,{});const h=Bo(this,Su(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:T2(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:on(t.timings,e.errors,!0);return{type:12,animation:Bo(this,Su(t.animation),e),timings:i,options:null}}}class oz{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function e7(n){return!Array.isArray(n)&&"object"==typeof n}function T2(n){return n?(n=po(n)).params&&(n.params=function sz(n){return n?po(n):null}(n.params)):n={},n}function Nw(n,t,e){return{duration:n,delay:t,easing:e}}function Fw(n,t,e,i,r,s,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:u,subTimeline:h}}class t7{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const dz=new RegExp(":enter","g"),fz=new RegExp(":leave","g");function Lw(n,t,e,i,r,s={},u={},h,_,C=[]){return(new pz).buildKeyframes(n,t,e,i,r,s,u,h,_,C)}class pz{buildKeyframes(t,e,i,r,s,u,h,_,C,M=[]){C=C||new t7;const I=new zw(t,e,C,r,s,M,[]);I.options=_,I.currentTimeline.setStyles([u],null,I.errors,_),Bo(this,i,I);const O=I.timelines.filter(L=>L.containsAnimation());if(Object.keys(h).length){let L;for(let V=O.length-1;V>=0;V--){const Y=O[V];if(Y.element===e){L=Y;break}}L&&!L.allowOnlyTimelineStyles()&&L.setStyles([h],null,I.errors,_)}return O.length?O.map(L=>L.buildKeyframes()):[Fw(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);s!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const u=null!=i.duration?ut(i.duration):null,h=null!=i.delay?ut(i.delay):null;return 0!==u&&t.forEach(_=>{const C=e.appendInstructionToTimeline(_,u,h);s=Math.max(s,C.duration+C.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Bo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=n7);const u=ut(s.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Bo(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?ut(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);s&&h.delayNextStep(s),Bo(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return on(e.params?Z_(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(_=>{h.forwardTime((_.offset||0)*s),h.setStyles(_.styles,_.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?ut(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=n7);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let _=null;h.forEach((C,M)=>{e.currentQueryIndex=M;const I=e.createSubContext(t.options,C);s&&I.delayNextStep(s),C===e.element&&(_=I.currentTimeline),Bo(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,I.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,u=Math.abs(s.duration),h=u*(e.currentQueryTotal-1);let _=u*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":_=h-_;break;case"full":_=i.currentStaggerTime}const M=e.currentTimeline;_&&M.delayNextStep(_);const I=M.currentTime;Bo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const n7={};class zw{constructor(t,e,i,r,s,u,h,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=n7,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new r7(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=ut(i.duration)),null!=i.delay&&(r.delay=ut(i.delay));const s=i.params;if(s){let u=r.params;u||(u=this.options.params={}),Object.keys(s).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=Z_(s[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new zw(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=n7,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new mz(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(dz,"."+this._enterClassName)).replace(fz,"."+this._leaveClassName);let C=this._driver.query(this.element,t,1!=i);0!==i&&(C=i<0?C.slice(C.length+i,C.length):C.slice(0,i)),h.push(...C)}return!s&&0==h.length&&u.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),h}}class r7{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new r7(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||xl,this._currentKeyframe[e]=xl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},u=function gz(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=xl})):Sa(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const _=Z_(u[h],s,i);this._pendingStyles[h]=_,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:xl),this._updateStyle(h,_)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,_)=>{const C=Sa(h,!0);Object.keys(C).forEach(M=>{const I=C[M];"!"==I?t.add(M):I==xl&&e.add(M)}),i||(C.offset=_/this.duration),r.push(C)});const s=t.size?K_(t.values()):[],u=e.size?K_(e.values()):[];if(i){const h=r[0],_=po(h);h.offset=0,_.offset=1,r=[h,_]}return Fw(this.element,r,s,u,this.duration,this.startTime,this.easing,!1)}}class mz extends r7{constructor(t,e,i,r,s,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],u=i+e,h=e/u,_=Sa(t[0],!1);_.offset=0,s.push(_);const C=Sa(t[0],!1);C.offset=QI(h),s.push(C);const M=t.length-1;for(let I=1;I<=M;I++){let O=Sa(t[I],!1);O.offset=QI((e+O.offset*i)/u),s.push(O)}i=u,e=0,r="",t=s}return Fw(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function QI(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Vw{}class _z extends Vw{normalizePropertyName(t,e){return Rw(t)}normalizeStyleValue(t,e,i,r){let s="";const u=i.toString().trim();if(vz[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(`Please provide a CSS unit value for ${t}:${i}`)}return u+s}}const vz=(()=>function yz(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function XI(n,t,e,i,r,s,u,h,_,C,M,I,O){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:u,timelines:h,queriedElements:_,preStyleProps:C,postStyleProps:M,totalTime:I,errors:O}}const Bw={};class JI{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function bz(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],u=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):u}build(t,e,i,r,s,u,h,_,C,M){const I=[],O=this.ast.options&&this.ast.options.params||Bw,V=this.buildStyles(i,h&&h.params||Bw,I),Y=_&&_.params||Bw,te=this.buildStyles(r,Y,I),Oe=new Set,Be=new Map,Le=new Map,He="void"===r,It={params:Object.assign(Object.assign({},O),Y)},jt=M?[]:Lw(t,e,this.ast.animation,s,u,V,te,It,C,I);let un=0;if(jt.forEach(ei=>{un=Math.max(ei.duration+ei.delay,un)}),I.length)return XI(e,this._triggerName,i,r,He,V,te,[],[],Be,Le,un,I);jt.forEach(ei=>{const yi=ei.element,wg=Os(Be,yi,{});ei.preStyleProps.forEach(Dc=>wg[Dc]=!0);const Ud=Os(Le,yi,{});ei.postStyleProps.forEach(Dc=>Ud[Dc]=!0),yi!==e&&Oe.add(yi)});const Sr=K_(Oe.values());return XI(e,this._triggerName,i,r,He,V,te,jt,Sr,Be,Le,un)}}class Cz{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=po(this.defaultParams);return Object.keys(t).forEach(s=>{const u=t[s];null!=u&&(r[s]=u)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const u=s;Object.keys(u).forEach(h=>{let _=u[h];_.length>1&&(_=Z_(_,r,e));const C=this.normalizer.normalizePropertyName(h,e);_=this.normalizer.normalizeStyleValue(h,C,_,e),i[C]=_})}}),i}}class Mz{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new Cz(r.style,r.options&&r.options.params||{},i)}),eT(this.states,"true","1"),eT(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new JI(t,r,this.states))}),this.fallbackTransition=function Dz(n,t,e){return new JI(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function eT(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const xz=new t7;class Ez{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],r=Pw(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,i){const r=t.element,s=Tw(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let u;const h=new Map;if(s?(u=Lw(this._driver,e,s,K,fe,{},{},i,xz,r),u.forEach(M=>{const I=Os(h,M.element,{});M.postStyleProps.forEach(O=>I[O]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),u=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);h.forEach((M,I)=>{Object.keys(M).forEach(O=>{M[O]=this._driver.computeStyle(I,O,xl)})});const C=Eu(u.map(M=>{const I=h.get(M.element);return this._buildPlayer(M,{},I)}));return this._playersById[t]=C,C.onDestroy(()=>this.destroy(t)),this.players.push(C),C}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,r){const s=W_(e,"","","");return $_(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const tT="ng-animate-queued",Hw="ng-animate-disabled",kz=[],nT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Rz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ia="__ng_removed";class jw{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Fz(n){return null!=n?n:null}(i?t.value:t),i){const s=po(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Z3="void",Uw=new jw(Z3);class Oz{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ta(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function Lz(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const s=Os(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};s.push(u);const h=Os(this._engine.statesByElement,t,{});return h.hasOwnProperty(e)||(Ta(t,Ne),Ta(t,Ne+"-"+e),h[e]=Uw),()=>{this._engine.afterFlush(()=>{const _=s.indexOf(u);_>=0&&s.splice(_,1),this._triggers[e]||delete h[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),u=new Gw(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Ta(t,Ne),Ta(t,Ne+"-"+e),this._engine.statesByElement.set(t,h={}));let _=h[e];const C=new jw(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&C.absorbOptions(_.options),h[e]=C,_||(_=Uw),C.value!==Z3&&_.value===C.value){if(!function Bz(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(_.params,C.params)){const Y=[],te=s.matchStyles(_.value,_.params,Y),Oe=s.matchStyles(C.value,C.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{El(t,te),mo(t,Oe)})}return}const O=Os(this._engine.playersByElement,t,[]);O.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==e&&Y.queued&&Y.destroy()});let L=s.matchTransition(_.value,C.value,t,C.params),V=!1;if(!L){if(!r)return;L=s.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:L,fromState:_,toState:C,player:u,isFallbackTransition:V}),V||(Ta(t,tT),u.onStart(()=>{Ip(t,tT)})),u.onDone(()=>{let Y=this.players.indexOf(u);Y>=0&&this.players.splice(Y,1);const te=this._engine.playersByElement.get(t);if(te){let Oe=te.indexOf(u);Oe>=0&&te.splice(Oe,1)}}),this.players.push(u),O.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Ue,!0);i.forEach(r=>{if(r[Ia])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),u=new Map;if(s){const h=[];if(Object.keys(s).forEach(_=>{if(u.set(_,s[_].value),this._triggers[_]){const C=this.trigger(t,_,Z3,r);C&&h.push(C)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&Eu(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const u=s.name;if(r.has(u))return;r.add(u);const _=this._triggers[u].fallbackTransition,C=i[u]||Uw,M=new jw(Z3),I=new Gw(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:_,fromState:C,toState:M,player:I,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Ia];(!s||s===nT)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ta(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,u=this._elementListeners.get(s);u&&u.forEach(h=>{if(h.name==i.triggerName){const _=W_(s,i.triggerName,i.fromState.value,i.toState.value);_._data=t,$_(i.player,h.phase,_,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Pz{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Oz(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,e)){this._namespaceList.splice(s+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const u=i[r[s]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&e.add(h)}}}return e}trigger(t,e,i,r){if(s7(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!s7(e))return;const s=e[Ia];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ta(t,Hw)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ip(t,Hw))}removeNode(t,e,i,r){if(s7(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Ia]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return s7(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Ue,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,we,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Eu(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Ia];if(i&&i.setForRemoval){if(t[Ia]=nT,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Hw))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ta(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Eu(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new t7,r=[],s=new Map,u=[],h=new Map,_=new Map,C=new Map,M=new Set;this.disabledNodes.forEach(st=>{M.add(st);const vt=this.driver.query(st,".ng-animate-queued",!0);for(let St=0;St<vt.length;St++)M.add(vt[St])});const I=this.bodyNode,O=Array.from(this.statesByElement.keys()),L=sT(O,this.collectedEnterElements),V=new Map;let Y=0;L.forEach((st,vt)=>{const St=K+Y++;V.set(vt,St),st.forEach(pn=>Ta(pn,St))});const te=[],Oe=new Set,Be=new Set;for(let st=0;st<this.collectedLeaveElements.length;st++){const vt=this.collectedLeaveElements[st],St=vt[Ia];St&&St.setForRemoval&&(te.push(vt),Oe.add(vt),St.hasAnimation?this.driver.query(vt,".ng-star-inserted",!0).forEach(pn=>Oe.add(pn)):Be.add(vt))}const Le=new Map,He=sT(O,Array.from(Oe));He.forEach((st,vt)=>{const St=fe+Y++;Le.set(vt,St),st.forEach(pn=>Ta(pn,St))}),t.push(()=>{L.forEach((st,vt)=>{const St=V.get(vt);st.forEach(pn=>Ip(pn,St))}),He.forEach((st,vt)=>{const St=Le.get(vt);st.forEach(pn=>Ip(pn,St))}),te.forEach(st=>{this.processLeaveNode(st)})});const It=[],jt=[];for(let st=this._namespaceList.length-1;st>=0;st--)this._namespaceList[st].drainQueuedTransitions(e).forEach(St=>{const pn=St.player,Ir=St.element;if(It.push(pn),this.collectedEnterElements.length){const js=Ir[Ia];if(js&&js.setForMove){if(js.previousTriggersValues&&js.previousTriggersValues.has(St.triggerName)){const df=js.previousTriggersValues.get(St.triggerName),$d=this.statesByElement.get(St.element);$d&&$d[St.triggerName]&&($d[St.triggerName].value=df)}return void pn.destroy()}}const xc=!I||!this.driver.containsElement(I,Ir),Yo=Le.get(Ir),Gd=V.get(Ir),Ei=this._buildInstruction(St,i,Gd,Yo,xc);if(Ei.errors&&Ei.errors.length)return void jt.push(Ei);if(xc)return pn.onStart(()=>El(Ir,Ei.fromStyles)),pn.onDestroy(()=>mo(Ir,Ei.toStyles)),void r.push(pn);if(St.isFallbackTransition)return pn.onStart(()=>El(Ir,Ei.fromStyles)),pn.onDestroy(()=>mo(Ir,Ei.toStyles)),void r.push(pn);const VL=[];Ei.timelines.forEach(js=>{js.stretchStartingKeyframe=!0,this.disabledNodes.has(js.element)||VL.push(js)}),Ei.timelines=VL,i.append(Ir,Ei.timelines),u.push({instruction:Ei,player:pn,element:Ir}),Ei.queriedElements.forEach(js=>Os(h,js,[]).push(pn)),Ei.preStyleProps.forEach((js,df)=>{const $d=Object.keys(js);if($d.length){let hf=_.get(df);hf||_.set(df,hf=new Set),$d.forEach(ES=>hf.add(ES))}}),Ei.postStyleProps.forEach((js,df)=>{const $d=Object.keys(js);let hf=C.get(df);hf||C.set(df,hf=new Set),$d.forEach(ES=>hf.add(ES))})});if(jt.length){const st=[];jt.forEach(vt=>{st.push(`@${vt.triggerName} has failed due to:\n`),vt.errors.forEach(St=>st.push(`- ${St}\n`))}),It.forEach(vt=>vt.destroy()),this.reportError(st)}const un=new Map,Sr=new Map;u.forEach(st=>{const vt=st.element;i.has(vt)&&(Sr.set(vt,vt),this._beforeAnimationBuild(st.player.namespaceId,st.instruction,un))}),r.forEach(st=>{const vt=st.element;this._getPreviousPlayers(vt,!1,st.namespaceId,st.triggerName,null).forEach(pn=>{Os(un,vt,[]).push(pn),pn.destroy()})});const ei=te.filter(st=>aT(st,_,C)),yi=new Map;rT(yi,this.driver,Be,C,xl).forEach(st=>{aT(st,_,C)&&ei.push(st)});const Ud=new Map;L.forEach((st,vt)=>{rT(Ud,this.driver,new Set(st),_,"!")}),ei.forEach(st=>{const vt=yi.get(st),St=Ud.get(st);yi.set(st,Object.assign(Object.assign({},vt),St))});const Dc=[],Mg=[],Dg={};u.forEach(st=>{const{element:vt,player:St,instruction:pn}=st;if(i.has(vt)){if(M.has(vt))return St.onDestroy(()=>mo(vt,pn.toStyles)),St.disabled=!0,St.overrideTotalTime(pn.totalTime),void r.push(St);let Ir=Dg;if(Sr.size>1){let Yo=vt;const Gd=[];for(;Yo=Yo.parentNode;){const Ei=Sr.get(Yo);if(Ei){Ir=Ei;break}Gd.push(Yo)}Gd.forEach(Ei=>Sr.set(Ei,Ir))}const xc=this._buildAnimation(St.namespaceId,pn,un,s,Ud,yi);if(St.setRealPlayer(xc),Ir===Dg)Dc.push(St);else{const Yo=this.playersByElement.get(Ir);Yo&&Yo.length&&(St.parentPlayer=Eu(Yo)),r.push(St)}}else El(vt,pn.fromStyles),St.onDestroy(()=>mo(vt,pn.toStyles)),Mg.push(St),M.has(vt)&&r.push(St)}),Mg.forEach(st=>{const vt=s.get(st.element);if(vt&&vt.length){const St=Eu(vt);st.setRealPlayer(St)}}),r.forEach(st=>{st.parentPlayer?st.syncPlayerEvents(st.parentPlayer):st.destroy()});for(let st=0;st<te.length;st++){const vt=te[st],St=vt[Ia];if(Ip(vt,fe),St&&St.hasAnimation)continue;let pn=[];if(h.size){let xc=h.get(vt);xc&&xc.length&&pn.push(...xc);let Yo=this.driver.query(vt,we,!0);for(let Gd=0;Gd<Yo.length;Gd++){let Ei=h.get(Yo[Gd]);Ei&&Ei.length&&pn.push(...Ei)}}const Ir=pn.filter(xc=>!xc.destroyed);Ir.length?zz(this,vt,Ir):this.processLeaveNode(vt)}return te.length=0,Dc.forEach(st=>{this.players.push(st),st.onDone(()=>{st.destroy();const vt=this.players.indexOf(st);this.players.splice(vt,1)}),st.play()}),Dc}elementContainsData(t,e){let i=!1;const r=e[Ia];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const _=!s||s==Z3;h.forEach(C=>{C.queued||!_&&C.triggerName!=r||u.push(C)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const s=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const C=_.element,M=C!==s,I=Os(i,C,[]);this._getPreviousPlayers(C,M,u,h,e.toState).forEach(L=>{const V=L.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),L.destroy(),I.push(L)})}El(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,u){const h=e.triggerName,_=e.element,C=[],M=new Set,I=new Set,O=e.timelines.map(V=>{const Y=V.element;M.add(Y);const te=Y[Ia];if(te&&te.removedBeforeQueried)return new _d(V.duration,V.delay);const Oe=Y!==_,Be=function Vz(n){const t=[];return oT(n,t),t}((i.get(Y)||kz).map(un=>un.getRealPlayer())).filter(un=>!!un.element&&un.element===Y),Le=s.get(Y),He=u.get(Y),It=Tw(0,this._normalizer,0,V.keyframes,Le,He),jt=this._buildPlayer(V,It,Be);if(V.subTimeline&&r&&I.add(Y),Oe){const un=new Gw(t,h,Y);un.setRealPlayer(jt),C.push(un)}return jt});C.forEach(V=>{Os(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function Nz(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,V.element,V))}),M.forEach(V=>Ta(V,tt));const L=Eu(O);return L.onDestroy(()=>{M.forEach(V=>Ip(V,tt)),mo(_,e.toStyles)}),I.forEach(V=>{Os(r,V,[]).push(L)}),L}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new _d(t.duration,t.delay)}}class Gw{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new _d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>$_(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Os(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function s7(n){return n&&1===n.nodeType}function iT(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function rT(n,t,e,i,r){const s=[];e.forEach(_=>s.push(iT(_)));const u=[];i.forEach((_,C)=>{const M={};_.forEach(I=>{const O=M[I]=t.computeStyle(C,I,r);(!O||0==O.length)&&(C[Ia]=Rz,u.push(C))}),n.set(C,M)});let h=0;return e.forEach(_=>iT(_,s[h++])),u}function sT(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),s=new Map;function u(h){if(!h)return 1;let _=s.get(h);if(_)return _;const C=h.parentNode;return _=e.has(C)?C:r.has(C)?1:u(C),s.set(h,_),_}return t.forEach(h=>{const _=u(h);1!==_&&e.get(_).push(h)}),e}function Ta(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Ip(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function zz(n,t,e){Eu(e).onDone(()=>n.processLeaveNode(t))}function oT(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof U_?oT(i.players,t):t.push(i)}}function aT(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class o7{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Pz(t,e,i),this._timelineEngine=new Ez(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const _=[],C=Pw(this._driver,s,_);if(_.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${_.join("\n - ")}`);h=function wz(n,t,e){return new Mz(n,t,e)}(r,C,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,u]=Aw(i);this._timelineEngine.command(s,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[u,h]=Aw(i);return this._timelineEngine.listen(u,e,h,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function lT(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=$w(t[0]),t.length>1&&(i=$w(t[t.length-1]))):t&&(e=$w(t)),e||i?new Hz(n,e,i):null}let Hz=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&mo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(mo(this._element,this._initialStyles),this._endStyles&&(mo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(El(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(El(this._element,this._endStyles),this._endStyles=null),mo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function $w(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];jz(r)&&(t=t||{},t[r]=n[r])}return t}function jz(n){return"display"===n||"position"===n}const cT="animation",uT="animationend";class $z{constructor(t,e,i,r,s,u,h){this._element=t,this._name=e,this._duration=i,this._delay=r,this._easing=s,this._fillMode=u,this._onDoneFn=h,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=_=>this._handleCallback(_)}apply(){(function qz(n,t){const e=Ww(n,"").trim();let i=0;e.length&&(i=function Yz(n,t){let e=0;for(let i=0;i<n.length;i++)n.charAt(i)===t&&e++;return e}(e,",")+1,t=`${e}, ${t}`),a7(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),fT(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){dT(this._element,this._name,"paused")}resume(){dT(this._element,this._name,"running")}setPosition(t){const e=hT(this._element,this._name);this._position=t*this._duration,a7(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),fT(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function Wz(n,t){const i=Ww(n,"").split(","),r=qw(i,t);r>=0&&(i.splice(r,1),a7(n,"",i.join(",")))}(this._element,this._name))}}function dT(n,t,e){a7(n,"PlayState",e,hT(n,t))}function hT(n,t){const e=Ww(n,"");return e.indexOf(",")>0?qw(e.split(","),t):qw([e],t)}function qw(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function fT(n,t,e){e?n.removeEventListener(uT,t):n.addEventListener(uT,t)}function a7(n,t,e,i){const r=cT+t;if(null!=i){const s=n.style[r];if(s.length){const u=s.split(",");u[i]=e,e=u.join(",")}}n.style[r]=e}function Ww(n,t){return n.style[cT+t]||""}class pT{constructor(t,e,i,r,s,u,h,_){this.element=t,this.keyframes=e,this.animationName=i,this._duration=r,this._delay=s,this._finalStyles=h,this._specialStyles=_,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=u||"linear",this.totalTime=r+s,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new $z(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:Ow(this.element,i))})}this.currentSnapshot=t}}class Qz extends _d{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=w(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class gT{constructor(){this._count=0}validateStyleProperty(t){return d(t)}matchesElement(t,e){return!1}containsElement(t,e){return g(t,e)}query(t,e,i){return y(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(h=>w(h));let r=`@keyframes ${e} {\n`,s="";i.forEach(h=>{s=" ";const _=parseFloat(h.offset);r+=`${s}${100*_}% {\n`,s+=" ",Object.keys(h).forEach(C=>{const M=h[C];switch(C){case"offset":return;case"easing":return void(M&&(r+=`${s}animation-timing-function: ${M};\n`));default:return void(r+=`${s}${C}: ${M};\n`)}}),r+=`${s}}\n`}),r+="}\n";const u=document.createElement("style");return u.textContent=r,u}animate(t,e,i,r,s,u=[],h){const _=u.filter(te=>te instanceof pT),C={};qI(i,r)&&_.forEach(te=>{let Oe=te.currentSnapshot;Object.keys(Oe).forEach(Be=>C[Be]=Oe[Be])});const M=function eV(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(t[r]=i[r])})}),t}(e=WI(t,e,C));if(0==i)return new Qz(t,M);const I="gen_css_kf_"+this._count++,O=this.buildKeyframeElement(t,I,e);(function Jz(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(O);const V=lT(t,e),Y=new pT(t,e,I,i,r,s,M,V);return Y.onDestroy(()=>function tV(n){n.parentNode.removeChild(n)}(O)),Y}}class vT{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:Ow(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class nV{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(yT().toString()),this._cssKeyframesDriver=new gT}validateStyleProperty(t){return d(t)}matchesElement(t,e){return!1}containsElement(t,e){return g(t,e)}query(t,e,i){return y(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,r,s,u=[],h){if(!h&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,r,s,u);const M={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(M.easing=s);const I={},O=u.filter(V=>V instanceof vT);qI(i,r)&&O.forEach(V=>{let Y=V.currentSnapshot;Object.keys(Y).forEach(te=>I[te]=Y[te])});const L=lT(t,e=WI(t,e=e.map(V=>Sa(V,!1)),I));return new vT(t,e,M,L)}}function yT(){return G_()&&Element.prototype.animate||{}}let rV=(()=>{class n extends G3{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Iw(e):e;return bT(this._renderer,null,i,"register",[r]),new sV(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class sV extends class V_{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new oV(this._id,t,e||{},this._renderer)}}class oV{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return bT(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function bT(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const CT="@.disabled";let aV=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,u)=>{const h=null==u?void 0:u.parentNode(s);h&&u.removeChild(h,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let M=this._rendererCache.get(s);return M||(M=new wT("",s,this.engine),this._rendererCache.set(s,M)),M}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const _=M=>{Array.isArray(M)?M.forEach(_):this.engine.registerTrigger(u,h,e,M.name,M)};return i.data.animation.forEach(_),new lV(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,h]=s;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(o7),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class wT{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==CT?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class lV extends wT{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==CT?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function cV(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),u="";return"@"!=s.charAt(0)&&([s,u]=function uV(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let dV=(()=>{class n extends o7{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X),l.LFG(T),l.LFG(Vw))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ho=new l.OlP("AnimationModuleType"),MT=[{provide:G3,useClass:rV},{provide:Vw,useFactory:function fV(){return new _z}},{provide:o7,useClass:dV},{provide:l.FYo,useFactory:function pV(n,t,e){return new aV(n,t,e)},deps:[Ki,o7,l.R0b]}],DT=[{provide:T,useFactory:function hV(){return function iV(){return"function"==typeof yT()}()?new nV:new gT}},{provide:Ho,useValue:"BrowserAnimations"},...MT],mV=[{provide:T,useClass:D},{provide:Ho,useValue:"NoopAnimations"},...MT];let gV=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?mV:DT}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:DT,imports:[jl]}),n})();const _V=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function vV(){return(0,l.f3M)(X)}}),yV=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Yw,_c=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new l.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function bV(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?yV.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(_V,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();try{Yw="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Yw=!1}let Tp,qr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Fi(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Yw)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const ET=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ST(){if(Tp)return Tp;if("object"!=typeof document||!document)return Tp=new Set(ET),Tp;let n=document.createElement("input");return Tp=new Set(ET.filter(t=>(n.setAttribute("type",t),n.type===t))),Tp}let K3,A2,Zw;function bd(n){return function CV(){if(null==K3&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>K3=!0}))}finally{K3=K3||!1}return K3}()?n:!!n.capture}function wV(){if(null==A2){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return A2=!1,A2;if("scrollBehavior"in document.documentElement.style)A2=!0;else{const n=Element.prototype.scrollTo;A2=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return A2}function IT(n){if(function MV(){if(null==Zw){const n="undefined"!=typeof document?document.head:null;Zw=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Zw}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Kw(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Cd(n){return n.composedPath?n.composedPath()[0]:n.target}function Qw(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function Ns(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var X3=P(4986);function kT(n,t=X3.z){return(0,Tn.e)((e,i)=>{let r=null,s=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const C=s;s=null,i.next(C)}};function _(){const C=u+n,M=t.now();if(M<C)return r=this.schedule(void 0,C-M),void i.add(r);h()}e.subscribe(new dn.Q(i,C=>{s=C,u=t.now(),r||(r=t.schedule(_,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}function iM(n,t=Ss.y){return n=null!=n?n:FV,(0,Tn.e)((e,i)=>{let r,s=!0;e.subscribe(new dn.Q(i,u=>{const h=t(u);(s||!n(r,h))&&(s=!1,r=h,i.next(u))}))})}function FV(n,t){return n===t}var RT=P(5032);function Qn(n){return(0,Tn.e)((t,e)=>{(0,Fn.Xf)(n).subscribe(new dn.Q(e,()=>e.complete(),RT.Z)),!e.closed&&t.subscribe(e)})}function Et(n){return null!=n&&"false"!=`${n}`}function Aa(n,t=0){return function LV(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function OT(n){return Array.isArray(n)?n:[n]}function tr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Iu(n){return n instanceof l.SBq?n.nativeElement:n}let PT=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zV=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Iu(e);return new Nn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Mt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(PT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rM=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Et(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Aa(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(kT(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(zV),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),O2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[PT]}),n})();class HV extends class LT{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Mt.x,this._typeaheadSubscription=Ln.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Mt.x,this.change=new Mt.x,t instanceof l.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Kn.b)(e=>this._pressedLetters.push(e)),kT(t),fn(()=>this._pressedLetters.length>0),(0,ft.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,u=i[s];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Ns(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let VT=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function UV(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function jV(n){try{return n.frameElement}catch(t){return null}}(function QV(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===HT(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=HT(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function ZV(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function KV(n){return!function $V(n){return function WV(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function GV(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function qV(n){return function YV(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||BT(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(qr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BT(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function HT(n){if(!BT(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class XV{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,hn.q)(1)).subscribe(t)}}let JV=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new XV(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(VT),l.LFG(l.R0b),l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jT(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function UT(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const eB=new l.OlP("cdk-input-modality-detector-options"),tB={ignoreKeys:[18,17,224,91,16]},kp=bd({passive:!0,capture:!0});let nB=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new hr(null),this._lastTouchMs=0,this._onKeydown=u=>{var h,_;(null===(_=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===_?void 0:_.some(C=>C===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Cd(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(jT(u)?"keyboard":"mouse"),this._mostRecentTarget=Cd(u))},this._onTouchstart=u=>{UT(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Cd(u))},this._options=Object.assign(Object.assign({},tB),s),this.modalityDetected=this._modality.pipe(function NV(n){return fn((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(iM()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,kp),r.addEventListener("mousedown",this._onMousedown,kp),r.addEventListener("touchstart",this._onTouchstart,kp)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,kp),document.removeEventListener("mousedown",this._onMousedown,kp),document.removeEventListener("touchstart",this._onTouchstart,kp))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(qr),l.LFG(l.R0b),l.LFG(X),l.LFG(eB,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iB=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function rB(){return null}}),sB=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let oB=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[s,u]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>new Promise(h=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,h(),"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(iB,8),l.LFG(l.R0b),l.LFG(X),l.LFG(sB,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aB=new l.OlP("cdk-focus-monitor-default-options"),d7=bd({passive:!0,capture:!0});let P2=(()=>{class n{constructor(e,i,r,s,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Mt.x,this._rootNodeFocusAndBlurListener=h=>{const _=Cd(h),C="focus"===h.type?this._onFocus:this._onBlur;for(let M=_;M;M=M.parentElement)C.call(this,h,M)},this._document=s,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(e,i=!1){const r=Iu(e);if(!this._platform.isBrowser||1!==r.nodeType)return qe(null);const s=IT(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new Mt.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=Iu(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Iu(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,_])=>this._originChanged(h,i,_)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Cd(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,d7),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,d7)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Qn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,d7),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,d7),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(qr),l.LFG(nB),l.LFG(X,8),l.LFG(aB,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $T="cdk-high-contrast-black-on-white",qT="cdk-high-contrast-white-on-black",sM="cdk-high-contrast-active";let WT=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(sM),e.remove($T),e.remove(qT),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(sM),e.add($T)):2===i&&(e.add(sM),e.add(qT))}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(qr),l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J3=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(WT))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[yd,O2]]}),n})();function lB(n,t){if(1&n&&l._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=l.oxw();l.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function cB(n,t){if(1&n&&(l.TgZ(0,"span",5),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.hij("(",e.group.label,")")}}const uB=["*"],pB=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function fB(){return!0}});let pt=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Qw()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(WT),l.LFG(pB,8),l.LFG(X))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[vd],vd]}),n})();function h7(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Et(t)}}}function Rp(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function wd(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Et(t)}}}function Op(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Aa(e):this.defaultTabIndex}}}function oM(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new Mt.x,this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}const mB=new l.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function gB(){return(0,l.f3M)(l.soG)}});class vc{constructor(){this._localeChanges=new Mt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const aM=new l.OlP("mat-date-formats"),_B=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function lM(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let vB=(()=>{class n extends vc{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return lM(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return lM(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return lM(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},i),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(_B.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(mB,8),l.LFG(qr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const yB={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let bB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:vc,useClass:vB}],imports:[[yd]]}),n})(),ZT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:aM,useValue:yB}],imports:[[bB]]}),n})(),Pp=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pt],pt]}),n})();class MB{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const QT={enterDuration:225,exitDuration:150},cM=bd({passive:!0}),XT=["mousedown","touchstart"],JT=["mouseup","mouseleave","touchend","touchcancel"];class eA{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Iu(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},QT),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function EB(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,_=e-r.top,C=s.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=h-u+"px",M.style.top=_-u+"px",M.style.height=2*u+"px",M.style.width=2*u+"px",null!=i.color&&(M.style.backgroundColor=i.color),M.style.transitionDuration=`${C}ms`,this._containerElement.appendChild(M),function xB(n){window.getComputedStyle(n).getPropertyValue("opacity")}(M),M.style.transform="scale(1)";const I=new MB(this,M,i);return I.state=0,this._activeRipples.add(I),i.persistent||(this._mostRecentTransientRipple=I),this._runTimeoutOutsideZone(()=>{const O=I===this._mostRecentTransientRipple;I.state=1,!i.persistent&&(!O||!this._isPointerDown)&&I.fadeOut()},C),I}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},QT),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Iu(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(XT))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(JT),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=jT(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!UT(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,cM)})})}_removeTriggerEvents(){this._triggerElement&&(XT.forEach(t=>{this._triggerElement.removeEventListener(t,this,cM)}),this._pointerUpEventsRegistered&&JT.forEach(t=>{this._triggerElement.removeEventListener(t,this,cM)}))}}const tA=new l.OlP("mat-ripple-global-options");let N2=(()=>{class n{constructor(e,i,r,s,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new eA(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(qr),l.Y36(tA,8),l.Y36(Ho,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),ka=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pt,yd],pt]}),n})(),nA=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ho,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&l.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),uM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pt]]}),n})();const iA=new l.OlP("MAT_OPTION_PARENT_COMPONENT"),rA=new l.OlP("MatOptgroup");let SB=0;class sA{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let IB=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+SB++,this.onSelectionChange=new l.vpe,this._stateChanges=new Mt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Et(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Ns(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new sA(this,e))}}return n.\u0275fac=function(e){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),oA=(()=>{class n extends IB{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(iA,8),l.Y36(rA,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&l.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(l.Ikx("id",i.id),l.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),l.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[l.qOj],ngContentSelectors:uB,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(l.F$t(),l.YNc(0,lB,1,2,"mat-pseudo-checkbox",0),l.TgZ(1,"span",1),l.Hsn(2),l.qZA(),l.YNc(3,cB,2,1,"span",2),l._UZ(4,"div",3)),2&e&&(l.Q6J("ngIf",i.multiple),l.xp6(3),l.Q6J("ngIf",i.group&&i.group._inert),l.xp6(1),l.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[nA,Mi,N2],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function dM(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[s]&&s++;return s}return 0}let f7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ka,Cn,pt,uM]]}),n})();const TB=["*",[["mat-card-footer"]]],AB=["*","mat-card-footer"];let lA=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ho,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:AB,decls:2,vars:0,template:function(e,i){1&e&&(l.F$t(TB),l.Hsn(0),l.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),cA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pt],pt]}),n})();var kB=P(1144);const RB=["addListener","removeListener"],OB=["addEventListener","removeEventListener"],PB=["on","off"];function Tu(n,t,e,i){if((0,vr.m)(e)&&(i=e,e=void 0),i)return Tu(n,t,e).pipe(rl(i));const[r,s]=function LB(n){return(0,vr.m)(n.addEventListener)&&(0,vr.m)(n.removeEventListener)}(n)?OB.map(u=>h=>n[u](t,h,e)):function NB(n){return(0,vr.m)(n.addListener)&&(0,vr.m)(n.removeListener)}(n)?RB.map(uA(n,t)):function FB(n){return(0,vr.m)(n.on)&&(0,vr.m)(n.off)}(n)?PB.map(uA(n,t)):[];if(!r&&(0,kB.z)(n))return(0,zn.z)(u=>Tu(u,t,e))((0,Fn.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Nn.y(u=>{const h=(..._)=>u.next(1<_.length?_:_[0]);return r(h),()=>s(h)})}function uA(n,t){return e=>i=>n[e](t,i)}const zB=["connectionContainer"],VB=["inputContainer"],BB=["label"];function HB(n,t){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15),l._UZ(3,"div",16),l._UZ(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15),l._UZ(7,"div",16),l._UZ(8,"div",17),l.qZA(),l.BQk())}function jB(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){return l.CHM(e),l.oxw().updateOutlineGap()}),l.Hsn(1,1),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function UB(n,t){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const e=l.oxw(2);l.xp6(3),l.Oqu(e._control.placeholder)}}function GB(n,t){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function $B(n,t){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function qB(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){return l.CHM(e),l.oxw().updateOutlineGap()}),l.YNc(2,UB,4,1,"ng-container",12),l.YNc(3,GB,1,0,"ng-content",12),l.YNc(4,$B,2,0,"span",22),l.qZA()}if(2&n){const e=l.oxw();l.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),l.uIk("for",e._control.id)("aria-owns",e._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function WB(n,t){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function YB(n,t){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function ZB(n,t){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState)}}function KB(n,t){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.Q6J("id",e._hintLabelId),l.xp6(1),l.Oqu(e.hintLabel)}}function QB(n,t){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,KB,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",e.hintLabel)}}const XB=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],JB=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],eH=new l.OlP("MatError"),tH={transitionMessages:fi("transitionMessages",[Pt("enter",Qe({opacity:1,transform:"translateY(0%)"})),Kt("void => enter",[Qe({opacity:0,transform:"translateY(-5px)"}),Zt("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let t4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n}),n})(),nH=0;const dA=new l.OlP("MatHint");let iH=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+nH++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(l.uIk("id",i.id)("align",null),l.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[l._Bn([{provide:dA,useExisting:n}])]}),n})(),n4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),rH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const sH=new l.OlP("MatPrefix"),oH=new l.OlP("MatSuffix");let hA=0;const lH=Rp(class{constructor(n){this._elementRef=n}},"primary"),cH=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),r4=new l.OlP("MatFormField");let hM=(()=>{class n extends lH{constructor(e,i,r,s,u,h,_){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Mt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+hA++,this._labelId="mat-form-field-label-"+hA++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Et(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Hn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Qn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Qn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Dn.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Hn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Hn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Qn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Tu(this._label.nativeElement,"transitionend").pipe((0,hn.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const M=i.querySelectorAll(`${r}, ${s}`);for(let I=0;I<M.length;I++)M[I].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const _=i.querySelectorAll(r),C=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const M=i.getBoundingClientRect();if(0===M.width&&0===M.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const I=this._getStartEnd(M),O=e.children,L=this._getStartEnd(O[0].getBoundingClientRect());let V=0;for(let Y=0;Y<O.length;Y++)V+=O[Y].offsetWidth;u=Math.abs(L-I)-5,h=V>0?.75*V+10:0}for(let M=0;M<_.length;M++)_[M].style.width=`${u}px`;for(let M=0;M<C.length;M++)C[M].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(_c,8),l.Y36(cH,8),l.Y36(qr),l.Y36(l.R0b),l.Y36(Ho,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,t4,5),l.Suo(r,t4,7),l.Suo(r,n4,5),l.Suo(r,n4,7),l.Suo(r,rH,5),l.Suo(r,eH,5),l.Suo(r,dA,5),l.Suo(r,sH,5),l.Suo(r,oH,5)),2&e){let s;l.iGM(s=l.CRH())&&(i._controlNonStatic=s.first),l.iGM(s=l.CRH())&&(i._controlStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildNonStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildStatic=s.first),l.iGM(s=l.CRH())&&(i._placeholderChild=s.first),l.iGM(s=l.CRH())&&(i._errorChildren=s),l.iGM(s=l.CRH())&&(i._hintChildren=s),l.iGM(s=l.CRH())&&(i._prefixChildren=s),l.iGM(s=l.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(l.Gf(zB,7),l.Gf(VB,5),l.Gf(BB,5)),2&e){let r;l.iGM(r=l.CRH())&&(i._connectionContainerRef=r.first),l.iGM(r=l.CRH())&&(i._inputContainerRef=r.first),l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&l.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:r4,useExisting:n}]),l.qOj],ngContentSelectors:JB,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(l.F$t(XB),l.TgZ(0,"div",0),l.TgZ(1,"div",1,2),l.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),l.YNc(3,HB,9,0,"ng-container",3),l.YNc(4,jB,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,qB,5,16,"label",8),l.qZA(),l.qZA(),l.YNc(10,WB,2,0,"div",9),l.qZA(),l.YNc(11,YB,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,ZB,2,1,"div",12),l.YNc(14,QB,5,2,"div",13),l.qZA(),l.qZA()),2&e&&(l.xp6(3),l.Q6J("ngIf","outline"==i.appearance),l.xp6(1),l.Q6J("ngIf",i._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",i._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",i._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=i.appearance),l.xp6(1),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},directives:[Mi,rM,qi,Wi],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[tH.transitionMessages]},changeDetection:0}),n})(),s4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Cn,pt,O2],pt]}),n})();const pA=bd({passive:!0});let uH=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ao.E;const i=Iu(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Mt.x,u="cdk-text-field-autofilled",h=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>s.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>s.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,pA),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,pA)}}),s}stopMonitoring(e){const i=Iu(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(qr),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[yd]]}),n})();const gA=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),dH=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let hH=0;const fH=oM(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let _A=(()=>{class n extends fH{constructor(e,i,r,s,u,h,_,C,M,I){super(h,s,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=C,this._formField=I,this._uid="mat-input-"+hH++,this.focused=!1,this.stateChanges=new Mt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(V=>ST().has(V));const O=this._elementRef.nativeElement,L=O.nodeName.toLowerCase();this._inputValueAccessor=_||O,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&M.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",V=>{const Y=V.target;!Y.value&&0===Y.selectionStart&&0===Y.selectionEnd&&(Y.setSelectionRange(1,1),Y.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!I,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Et(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(fc.required))&&void 0!==s&&s}set required(e){this._required=Et(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&ST().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Et(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){dH.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(qr),l.Y36(Rs,10),l.Y36(Cu,8),l.Y36(mc,8),l.Y36(Pp),l.Y36(gA,10),l.Y36(uH),l.Y36(l.R0b),l.Y36(r4,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(l.Ikx("disabled",i.disabled)("required",i.required),l.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:t4,useExisting:n}]),l.qOj,l.TTD]}),n})(),vA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Pp],imports:[[mA,s4,pt],mA,s4]}),n})();function o4(n){return(o4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function yA(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function gH(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function tn(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},i=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(e).filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),i.forEach(function(r){gH(n,r,e[r])})}return n}function fM(n,t){return function vH(n){if(Array.isArray(n))return n}(n)||function bH(n,t){var e=[],i=!0,r=!1,s=void 0;try{for(var h,u=n[Symbol.iterator]();!(i=(h=u.next()).done)&&(e.push(h.value),!t||e.length!==t);i=!0);}catch(_){r=!0,s=_}finally{try{!i&&null!=u.return&&u.return()}finally{if(r)throw s}}return e}(n,t)||function wH(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var mM={},CA={};try{"undefined"!=typeof window&&(mM=window),"undefined"!=typeof document&&(CA=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(n){}var DA=(mM.navigator||{}).userAgent,xA=void 0===DA?"":DA,Np=mM,nr=CA,Au=!!nr.documentElement&&!!nr.head&&"function"==typeof nr.addEventListener&&"function"==typeof nr.createElement,ku=(~xA.indexOf("MSIE")||xA.indexOf("Trident/"),"___FONT_AWESOME___"),TA="svg-inline--fa",OA=[1,2,3,4,5,6,7,8,9,10],OH=OA.concat([11,12,13,14,15,16,17,18,19,20]),F2={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},PA=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",F2.GROUP,F2.SWAP_OPACITY,F2.PRIMARY,F2.SECONDARY].concat(OA.map(function(n){return"".concat(n,"x")})).concat(OH.map(function(n){return"w-".concat(n)})),Np.FontAwesomeConfig||{});nr&&"function"==typeof nr.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var t=fM(n,2),i=t[1],r=function LH(n){return""===n||"false"!==n&&("true"===n||n)}(function FH(n){var t=nr.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}(t[0]));null!=r&&(PA[i]=r)});var vM=tn({},{familyPrefix:"fa",replacementClass:TA,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},PA);vM.autoReplaceSvg||(vM.observeMutations=!1);var Bt=tn({},vM);Np.FontAwesomeConfig=Bt;var Ru=Np||{};Ru[ku]||(Ru[ku]={}),Ru[ku].styles||(Ru[ku].styles={}),Ru[ku].hooks||(Ru[ku].hooks={}),Ru[ku].shims||(Ru[ku].shims=[]);var Sl=Ru[ku],NA=[];Au&&((nr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(nr.readyState)||nr.addEventListener("DOMContentLoaded",function n(){nr.removeEventListener("DOMContentLoaded",n),NA.map(function(t){return t()})}));var bM,yM="pending",FA="settled",g7="fulfilled",_7="rejected",jH=function(){},LA="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,UH="undefined"==typeof setImmediate?setTimeout:setImmediate,a4=[];function GH(){for(var n=0;n<a4.length;n++)a4[n][0](a4[n][1]);a4=[],bM=!1}function v7(n,t){a4.push([n,t]),bM||(bM=!0,UH(GH,0))}function zA(n){var t=n.owner,e=t._state,i=t._data,r=n[e],s=n.then;if("function"==typeof r){e=g7;try{i=r(i)}catch(u){l4(s,u)}}VA(s,i)||(e===g7&&CM(s,i),e===_7&&l4(s,i))}function VA(n,t){var e;try{if(n===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"===o4(t))){var i=t.then;if("function"==typeof i)return i.call(t,function(r){e||(e=!0,t===r?BA(n,r):CM(n,r))},function(r){e||(e=!0,l4(n,r))}),!0}}catch(r){return e||l4(n,r),!0}return!1}function CM(n,t){(n===t||!VA(n,t))&&BA(n,t)}function BA(n,t){n._state===yM&&(n._state=FA,n._data=t,v7(qH,n))}function l4(n,t){n._state===yM&&(n._state=FA,n._data=t,v7(WH,n))}function HA(n){n._then=n._then.forEach(zA)}function qH(n){n._state=g7,HA(n)}function WH(n){n._state=_7,HA(n),!n._handled&&LA&&global.process.emit("unhandledRejection",n._data,n)}function YH(n){global.process.emit("rejectionHandled",n)}function jo(n){if("function"!=typeof n)throw new TypeError("Promise resolver "+n+" is not a function");if(!(this instanceof jo))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function $H(n,t){function i(r){l4(t,r)}try{n(function e(r){CM(t,r)},i)}catch(r){i(r)}}(n,this)}jo.prototype={constructor:jo,_state:yM,_then:null,_data:void 0,_handled:!1,then:function(t,e){var i={owner:this,then:new this.constructor(jH),fulfilled:t,rejected:e};return(e||t)&&!this._handled&&(this._handled=!0,this._state===_7&&LA&&v7(YH,this)),this._state===g7||this._state===_7?v7(zA,i):this._then.push(i),i.then},catch:function(t){return this.then(null,t)}},jo.all=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.all().");return new jo(function(t,e){var i=[],r=0;function s(_){return r++,function(C){i[_]=C,--r||t(i)}}for(var h,u=0;u<n.length;u++)(h=n[u])&&"function"==typeof h.then?h.then(s(u),e):i[u]=h;r||t(i)})},jo.race=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.race().");return new jo(function(t,e){for(var r,i=0;i<n.length;i++)(r=n[i])&&"function"==typeof r.then?r.then(t,e):t(r)})},jo.resolve=function(n){return n&&"object"===o4(n)&&n.constructor===jo?n:new jo(function(t){t(n)})},jo.reject=function(n){return new jo(function(t,e){e(n)})};var Ou={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function c4(){for(var n=12,t="";n-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function UA(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function y7(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,": ").concat(n[e],";")},"")}function MM(n){return n.size!==Ou.size||n.x!==Ou.x||n.y!==Ou.y||n.rotate!==Ou.rotate||n.flipX||n.flipY}function GA(n){var t=n.transform,i=n.iconWidth,r={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*t.x,", ").concat(32*t.y,") "),u="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),h="rotate(".concat(t.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(s," ").concat(u," ").concat(h)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}var DM={x:0,y:0,width:"100%",height:"100%"};function $A(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}function ej(n){return"g"===n.tag?n.children:[n]}function xM(n){var t=n.icons,e=t.main,i=t.mask,r=n.prefix,s=n.iconName,u=n.transform,h=n.symbol,_=n.title,C=n.maskId,M=n.titleId,I=n.extra,O=n.watchable,L=void 0!==O&&O,V=i.found?i:e,Y=V.width,te=V.height,Oe="fak"===r,Be=Oe?"":"fa-w-".concat(Math.ceil(Y/te*16)),Le=[Bt.replacementClass,s?"".concat(Bt.familyPrefix,"-").concat(s):"",Be].filter(function(yi){return-1===I.classes.indexOf(yi)}).filter(function(yi){return""!==yi||!!yi}).concat(I.classes).join(" "),He={children:[],attributes:tn({},I.attributes,{"data-prefix":r,"data-icon":s,class:Le,role:I.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Y," ").concat(te)})},It=Oe&&!~I.classes.indexOf("fa-fw")?{width:"".concat(Y/te*16*.0625,"em")}:{};L&&(He.attributes["data-fa-i2svg"]=""),_&&He.children.push({tag:"title",attributes:{id:He.attributes["aria-labelledby"]||"title-".concat(M||c4())},children:[_]});var jt=tn({},He,{prefix:r,iconName:s,main:e,mask:i,maskId:C,transform:u,symbol:h,styles:tn({},It,I.styles)}),un=i.found&&e.found?function tj(n){var t=n.children,e=n.attributes,i=n.main,r=n.mask,s=n.maskId,_=i.icon,M=r.icon,I=GA({transform:n.transform,containerWidth:r.width,iconWidth:i.width}),O={tag:"rect",attributes:tn({},DM,{fill:"white"})},L=_.children?{children:_.children.map($A)}:{},V={tag:"g",attributes:tn({},I.inner),children:[$A(tn({tag:_.tag,attributes:tn({},_.attributes,I.path)},L))]},Y={tag:"g",attributes:tn({},I.outer),children:[V]},te="mask-".concat(s||c4()),Oe="clip-".concat(s||c4()),Be={tag:"mask",attributes:tn({},DM,{id:te,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[O,Y]},Le={tag:"defs",children:[{tag:"clipPath",attributes:{id:Oe},children:ej(M)},Be]};return t.push(Le,{tag:"rect",attributes:tn({fill:"currentColor","clip-path":"url(#".concat(Oe,")"),mask:"url(#".concat(te,")")},DM)}),{children:t,attributes:e}}(jt):function nj(n){var t=n.children,e=n.attributes,i=n.main,r=n.transform,u=y7(n.styles);if(u.length>0&&(e.style=u),MM(r)){var h=GA({transform:r,containerWidth:i.width,iconWidth:i.width});t.push({tag:"g",attributes:tn({},h.outer),children:[{tag:"g",attributes:tn({},h.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:tn({},i.icon.attributes,h.path)}]}]})}else t.push(i.icon);return{children:t,attributes:e}}(jt),ei=un.attributes;return jt.children=un.children,jt.attributes=ei,h?function rj(n){var e=n.iconName,i=n.children,s=n.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:tn({},n.attributes,{id:!0===s?"".concat(n.prefix,"-").concat(Bt.familyPrefix,"-").concat(e):s}),children:i}]}]}(jt):function ij(n){var t=n.children,e=n.main,i=n.mask,r=n.attributes,s=n.styles,u=n.transform;if(MM(u)&&e.found&&!i.found){var C={x:e.width/e.height/2,y:.5};r.style=y7(tn({},s,{"transform-origin":"".concat(C.x+u.x/16,"em ").concat(C.y+u.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}(jt)}var IM=function(t,e,i,r){var _,C,M,s=Object.keys(t),u=s.length,h=void 0!==r?function(t,e){return function(i,r,s,u){return t.call(e,i,r,s,u)}}(e,r):e;for(void 0===i?(_=1,M=t[s[0]]):(_=0,M=i);_<u;_++)M=h(M,t[C=s[_]],C,t);return M};function KA(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.skipHooks,r=void 0!==i&&i,s=Object.keys(t).reduce(function(u,h){var _=t[h];return _.icon?u[_.iconName]=_.icon:u[h]=_,u},{});"function"!=typeof Sl.hooks.addPack||r?Sl.styles[n]=tn({},Sl.styles[n]||{},s):Sl.hooks.addPack(n,s),"fas"===n&&KA("fa",t)}var QA=Sl.styles,lj=Sl.shims,tk=function(){var t=function(r){return IM(QA,function(s,u,h){return s[h]=IM(u,r,{}),s},{})};t(function(i,r,s){return r[3]&&(i[r[3]]=s),i}),t(function(i,r,s){var u=r[2];return i[s]=s,u.forEach(function(h){i[h]=s}),i});var e="far"in QA;IM(lj,function(i,r){var u=r[1];return"far"===u&&!e&&(u="fas"),i[r[0]]={prefix:u,iconName:r[2]},i},{})};function ik(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}function zp(n){var t=n.tag,e=n.attributes,i=void 0===e?{}:e,r=n.children,s=void 0===r?[]:r;return"string"==typeof n?UA(n):"<".concat(t," ").concat(function XH(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,'="').concat(UA(n[e]),'" ')},"").trim()}(i),">").concat(s.map(zp).join(""),"</").concat(t,">")}tk();function d4(n){this.name="MissingIcon",this.message=n||"Icon unavailable",this.stack=(new Error).stack}(d4.prototype=Object.create(Error.prototype)).constructor=d4;var w7={fill:"currentColor"},ck={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},RM=(tn({},w7,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),tn({},ck,{attributeName:"opacity"}));function PM(n){var t=n[0],e=n[1],s=fM(n.slice(4),1)[0];return{found:!0,width:t,height:e,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(Bt.familyPrefix,"-").concat(F2.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Bt.familyPrefix,"-").concat(F2.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Bt.familyPrefix,"-").concat(F2.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}tn({},w7,{cx:"256",cy:"364",r:"28"}),tn({},ck,{attributeName:"r",values:"28;14;28;28;14;28;"}),tn({},RM,{values:"1;0;1;1;0;1;"}),tn({},w7,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),tn({},RM,{values:"1;0;0;0;0;1;"}),tn({},w7,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),tn({},RM,{values:"0;0;1;1;0;0;"});var Lj=function(){function n(){(function pH(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function mH(n,t,e){t&&yA(n.prototype,t),e&&yA(n,e)}(n,[{key:"add",value:function(){for(var e=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var u=r.reduce(this._pullDefinitions,{});Object.keys(u).forEach(function(h){e.definitions[h]=tn({},e.definitions[h]||{},u[h]),KA(h,u[h]),tk()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var u=r[s],h=u.prefix,_=u.iconName,C=u.icon;e[h]||(e[h]={}),e[h][_]=C}),e}}]),n}();function h4(){Bt.autoAddCss&&!D7&&(function jA(n){if(n&&Au){var t=nr.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;for(var e=nr.head.childNodes,i=null,r=e.length-1;r>-1;r--){var s=e[r],u=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(i=s)}return nr.head.insertBefore(t,i),n}}(function FM(){var n="fa",t=TA,e=Bt.familyPrefix,i=Bt.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(e!==n||i!==t){var s=new RegExp("\\.".concat(n,"\\-"),"g"),u=new RegExp("\\--".concat(n,"\\-"),"g"),h=new RegExp("\\.".concat(t),"g");r=r.replace(s,".".concat(e,"-")).replace(u,"--".concat(e,"-")).replace(h,".".concat(i))}return r}()),D7=!0)}function M7(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return zp(i)})}}),Object.defineProperty(n,"node",{get:function(){if(Au){var i=nr.createElement("div");return i.innerHTML=n.html,i.children}}}),n}function LM(n){var t=n.prefix,e=void 0===t?"fa":t,i=n.iconName;if(i)return ik(pk.definitions,e,i)||ik(Sl.styles,e,i)}var pk=new Lj,D7=!1,mk_transform=function(t){return function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),u=s[0],h=s.slice(1).join("-");if(u&&"h"===h)return i.flipX=!0,i;if(u&&"v"===h)return i.flipY=!0,i;if(h=parseFloat(h),isNaN(h))return i;switch(u){case"grow":i.size=i.size+h;break;case"shrink":i.size=i.size-h;break;case"left":i.x=i.x-h;break;case"right":i.x=i.x+h;break;case"up":i.y=i.y-h;break;case"down":i.y=i.y+h;break;case"rotate":i.rotate=i.rotate+h}return i},e):e}(t)},gk=function zj(n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(t||{}).icon?t:LM(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:LM(r||{})),n(i,tn({},e,{mask:r}))}}(function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.transform,i=void 0===e?Ou:e,r=t.symbol,s=void 0!==r&&r,u=t.mask,h=void 0===u?null:u,_=t.maskId,C=void 0===_?null:_,M=t.title,I=void 0===M?null:M,O=t.titleId,L=void 0===O?null:O,V=t.classes,Y=void 0===V?[]:V,te=t.attributes,Oe=void 0===te?{}:te,Be=t.styles,Le=void 0===Be?{}:Be;if(n){var He=n.prefix,It=n.iconName,jt=n.icon;return M7(tn({type:"icon"},n),function(){return h4(),Bt.autoA11y&&(I?Oe["aria-labelledby"]="".concat(Bt.replacementClass,"-title-").concat(L||c4()):(Oe["aria-hidden"]="true",Oe.focusable="false")),xM({icons:{main:PM(jt),mask:h?PM(h.icon):{found:!1,width:null,height:null,icon:{}}},prefix:He,iconName:It,transform:tn({},Ou,i),symbol:s,title:I,maskId:C,titleId:L,extra:{attributes:Oe,styles:Le,classes:Y}})})}});const qj=["*"],Zj=n=>{const t={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(t).map(e=>t[e]?e:null).filter(e=>e)};let Xj=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jj=(()=>{class n{constructor(){this.definitions={}}addIcons(...e){for(const i of e){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const r of i.icon[2])"string"==typeof r&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...e){for(const i of e){const r=Object.keys(i).map(s=>i[s]);this.addIcons(...r)}}getIconDefinition(e,i){return e in this.definitions&&i in this.definitions[e]?this.definitions[e][i]:null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eU=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[l.TTD]}),n})(),tU=(()=>{class n{constructor(e,i){this.renderer=e,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(null!=e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),null!=e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[l.TTD],ngContentSelectors:qj,decls:1,vars:0,template:function(e,i){1&e&&(l.F$t(),l.Hsn(0))},encapsulation:2}),n})(),nU=(()=>{class n{constructor(e,i,r,s,u){this.sanitizer=e,this.config=i,this.iconLibrary=r,this.stackItem=s,this.classes=[],null!=u&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(e){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let i=null;if(i=null==this.icon?this.config.fallbackIcon:this.icon,e){const r=this.findIconDefinition(i);if(null!=r){const s=this.buildParams();this.renderIcon(r,s)}}}render(){this.ngOnChanges({})}findIconDefinition(e){const i=((n,t)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:t,iconName:n}:void 0)(e,this.config.defaultPrefix);if("icon"in i)return i;const r=this.iconLibrary.getIconDefinition(i.prefix,i.iconName);return null!=r?r:((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(i),null)}buildParams(){const e={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?mk_transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...Zj(e),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(e,i){const r=gk(e,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(r.html.join("\n"))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Es),l.Y36(Xj),l.Y36(Jj),l.Y36(eU,8),l.Y36(tU,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(e,i){2&e&&(l.Ikx("innerHTML",i.renderedIconHTML,l.oJD),l.uIk("title",i.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[l.TTD],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),iU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const rU=["emailInput"],sU=["passwordInput"];let oU=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.google=ho,this.github=D6,this.facebook=q0,this.email=new br("",[fc.required,fc.email]),this.hide=!0,this.emailInput=null,this.passwordInput=null}redirect(){this.router.navigate(["signup"])}loginHandler(){this.authService.loginWithEmail(this.emailInput.nativeElement.value,this.passwordInput.nativeElement.value).then(()=>{this.router.navigate(["nft-list"])}).catch(r=>{this.error=r})}signInWithGitHub(){this.authService.githubLogin().then(()=>{this.router.navigate(["nft-list"])}).catch(e=>{this.error=e})}signInWithFacebook(){this.authService.facebookLogin().then(()=>{this.router.navigate(["nft-list"])}).catch(e=>{this.error=e})}signInWithGoogle(){this.authService.googleLogin().then(()=>{this.router.navigate(["nft-list"])}).catch(e=>{this.error=e})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(gd),l.Y36(di))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],viewQuery:function(e,i){if(1&e&&(l.Gf(rU,5),l.Gf(sU,5)),2&e){let r;l.iGM(r=l.CRH())&&(i.emailInput=r.first),l.iGM(r=l.CRH())&&(i.passwordInput=r.first)}},decls:30,vars:5,consts:[[1,"background"],[1,"card-style"],[1,"d-flex","justify-content-center","m-3"],["appearance","legacy",1,"d-flex","justify-content-center","m-2"],["matInput","","placeholder","pat@example.com","fxFlex","50","required","",3,"formControl"],["emailInput",""],["appearance","legacy",1,"d-flex","justify-content-center"],["matInput","",3,"type"],["passwordInput",""],["align","end",1,"forgotpassword"],[1,"d-flex","justify-content-center","m-4"],["type","button",1,"button-17",3,"click"],[1,"d-flex","justify-content-center"],[1,"signup"],["type","button",3,"icon","click"],["type","button",1,"signup","m-3",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"mat-card",1),l.TgZ(2,"h2",2),l._uU(3,"Login"),l.qZA(),l.TgZ(4,"mat-form-field",3),l.TgZ(5,"mat-label"),l._uU(6,"Enter your email"),l.qZA(),l._UZ(7,"input",4,5),l.qZA(),l.TgZ(9,"mat-form-field",6),l.TgZ(10,"mat-label"),l._uU(11,"Enter your password"),l.qZA(),l._UZ(12,"input",7,8),l.TgZ(14,"mat-hint",9),l._uU(15,"Forgot password?"),l.qZA(),l.qZA(),l.TgZ(16,"div",10),l.TgZ(17,"button",11),l.NdJ("click",function(){return i.loginHandler()}),l._uU(18," LOGIN"),l.qZA(),l.qZA(),l.TgZ(19,"div",12),l.TgZ(20,"span",13),l._uU(21,"Sign in with"),l.qZA(),l.qZA(),l.TgZ(22,"div",12),l.TgZ(23,"fa-icon",14),l.NdJ("click",function(){return i.signInWithGitHub()}),l.qZA(),l.qZA(),l.TgZ(24,"div",12),l.TgZ(25,"fa-icon",14),l.NdJ("click",function(){return i.signInWithFacebook()}),l.qZA(),l.qZA(),l.TgZ(26,"div",12),l.TgZ(27,"fa-icon",14),l.NdJ("click",function(){return i.signInWithGoogle()}),l.qZA(),l.qZA(),l.TgZ(28,"span",15),l.NdJ("click",function(){return i.redirect()}),l._uU(29," Or Sign up"),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(7),l.Q6J("formControl",i.email),l.xp6(5),l.Q6J("type",i.hide?"password":"text"),l.xp6(11),l.Q6J("icon",i.github),l.xp6(2),l.Q6J("icon",i.facebook),l.xp6(2),l.Q6J("icon",i.google))},directives:[lA,hM,n4,_A,V1,t2,a0,Qf,iH,nU],styles:[".background[_ngcontent-%COMP%]{background-color:#3b2456;width:100vw;height:100vh;display:flex;justify-content:center;padding-top:4rem}.button-style[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #3B2456;padding:.5rem}.forgotpassword[_ngcontent-%COMP%]:hover{color:#3b2456}.button-17[_ngcontent-%COMP%]{align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-radius:24px;border-style:none;box-shadow:#0003 0 3px 5px -1px,#00000024 0 6px 10px,#0000001f 0 1px 18px;box-sizing:border-box;color:#3c4043;cursor:pointer;display:inline-flex;fill:currentcolor;font-family:Google Sans,Roboto,Arial,sans-serif;font-size:14px;font-weight:500;height:48px;justify-content:center;letter-spacing:.25px;line-height:normal;max-width:100%;overflow:visible;padding:2px 24px;position:relative;text-align:center;text-transform:none;transition:box-shadow .28s cubic-bezier(.4,0,.2,1),opacity 15ms linear 30ms,transform .27s cubic-bezier(0,0,.2,1) 0ms;user-select:none;-webkit-user-select:none;touch-action:manipulation;width:auto;will-change:transform,opacity;z-index:0}.button-17[_ngcontent-%COMP%]:hover{background:#F6F9FE;color:#3b2456}.button-17[_ngcontent-%COMP%]:active{box-shadow:0 4px 4px #3c40434d,0 8px 12px 6px #3c404326;outline:none}.button-17[_ngcontent-%COMP%]:focus{outline:none;border:2px solid #3B2456}.button-17[_ngcontent-%COMP%]:not(:disabled){box-shadow:#3c40434d 0 1px 3px,#3c404326 0 4px 8px 3px}.button-17[_ngcontent-%COMP%]:not(:disabled):hover{box-shadow:#3c40434d 0 2px 3px,#3c404326 0 6px 10px 4px}.button-17[_ngcontent-%COMP%]:not(:disabled):focus{box-shadow:#3c40434d 0 1px 3px,#3c404326 0 4px 8px 3px}.button-17[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:#3c40434d 0 4px 4px,#3c404326 0 8px 12px 6px}.button-17[_ngcontent-%COMP%]:disabled{box-shadow:#3c40434d 0 1px 3px,#3c404326 0 4px 8px 3px}.card-style[_ngcontent-%COMP%]{width:40%;height:70%;box-shadow:#3c40434d 0 1px 3px,#3c404326 0 4px 8px 3px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.signup[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:small}.signup[_ngcontent-%COMP%]:hover{color:#3b2456}"]}),n})();function zM(){return(0,Tn.e)((n,t)=>{let e,i=!1;n.subscribe(new dn.Q(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}P(2209);var rt,aU=P(3942),lU="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Pu={},VM=VM||{},Lt=lU||self;function x7(){}function BM(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function f4(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var HM="closure_uid_"+(1e9*Math.random()>>>0),uU=0;function dU(n,t,e){return n.call.apply(n.bind,arguments)}function hU(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Wr(n,t,e){return(Wr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dU:hU).apply(null,arguments)}function E7(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Yr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function Dd(){this.s=this.s,this.o=this.o}var pU={};Dd.prototype.s=!1,Dd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function cU(n){return Object.prototype.hasOwnProperty.call(n,HM)&&n[HM]||(n[HM]=++uU)}(this);delete pU[n]}},Dd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _k=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},vk=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&t.call(e,r[s],s,n)};function yk(n){return Array.prototype.concat.apply([],arguments)}function jM(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function S7(n){return/^[\s\xa0]*$/.test(n)}var Ls,bk=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Fs(n,t){return-1!=n.indexOf(t)}function UM(n,t){return n<t?-1:n>t?1:0}e:{var Ck=Lt.navigator;if(Ck){var wk=Ck.userAgent;if(wk){Ls=wk;break e}}Ls=""}function GM(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function Mk(n){const t={};for(const e in n)t[e]=n[e];return t}var Dk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xk(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<Dk.length;s++)e=Dk[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function $M(n){return $M[" "](n),n}$M[" "]=x7;var I7,n,_U=Fs(Ls,"Opera"),Vp=Fs(Ls,"Trident")||Fs(Ls,"MSIE"),Ek=Fs(Ls,"Edge"),qM=Ek||Vp,Sk=Fs(Ls,"Gecko")&&!(Fs(Ls.toLowerCase(),"webkit")&&!Fs(Ls,"Edge"))&&!(Fs(Ls,"Trident")||Fs(Ls,"MSIE"))&&!Fs(Ls,"Edge"),vU=Fs(Ls.toLowerCase(),"webkit")&&!Fs(Ls,"Edge");function Ik(){var n=Lt.document;return n?n.documentMode:void 0}e:{var WM="",YM=(n=Ls,Sk?/rv:([^\);]+)(\)|;)/.exec(n):Ek?/Edge\/([\d\.]+)/.exec(n):Vp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):vU?/WebKit\/(\S+)/.exec(n):_U?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(YM&&(WM=YM?YM[1]:""),Vp){var ZM=Ik();if(null!=ZM&&ZM>parseFloat(WM)){I7=String(ZM);break e}}I7=WM}var yU={};var CU=Lt.document&&Vp&&(Ik()||parseInt(I7,10))||void 0,wU=function(){if(!Lt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Lt.addEventListener("test",x7,t),Lt.removeEventListener("test",x7,t)}catch(e){}return n}();function ps(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function p4(n,t){if(ps.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Sk){e:{try{$M(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:MU[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&p4.Z.h.call(this)}}ps.prototype.h=function(){this.defaultPrevented=!0},Yr(p4,ps);var MU={2:"touch",3:"pen",4:"mouse"};p4.prototype.h=function(){p4.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var m4="closure_listenable_"+(1e6*Math.random()|0),DU=0;function xU(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++DU,this.ca=this.fa=!1}function T7(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function A7(n){this.src=n,this.g={},this.h=0}function QM(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=_k(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(T7(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function XM(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==t&&s.capture==!!e&&s.ia==i)return r}return-1}A7.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=XM(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new xU(t,this.src,s,!!i,r)).fa=e,n.push(t)),t};var JM="closure_lm_"+(1e6*Math.random()|0),eD={};function Ak(n,t,e,i,r){if(i&&i.once)return Rk(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Ak(n,t[s],e,i,r);return null}return e=rD(e),n&&n[m4]?n.N(t,e,f4(i)?!!i.capture:!!i,r):kk(n,t,e,!1,i,r)}function kk(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var u=f4(r)?!!r.capture:!!r,h=nD(n);if(h||(n[JM]=h=new A7(n)),(e=h.add(t,e,i,u,s)).proxy)return e;if(i=function EU(){var t=SU;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)wU||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(Pk(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function Rk(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Rk(n,t[s],e,i,r);return null}return e=rD(e),n&&n[m4]?n.O(t,e,f4(i)?!!i.capture:!!i,r):kk(n,t,e,!0,i,r)}function Ok(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)Ok(n,t[s],e,i,r);else i=f4(i)?!!i.capture:!!i,e=rD(e),n&&n[m4]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=XM(s=n.g[t],e,i,r))&&(T7(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=nD(n))&&(t=n.g[t.toString()],n=-1,t&&(n=XM(t,e,i,r)),(e=-1<n?t[n]:null)&&tD(e))}function tD(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[m4])QM(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(Pk(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=nD(t))?(QM(e,n),0==e.h&&(e.src=null,t[JM]=null)):T7(n)}}}function Pk(n){return n in eD?eD[n]:eD[n]="on"+n}function SU(n,t){if(n.ca)n=!0;else{t=new p4(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&tD(n),n=e.call(i,t)}return n}function nD(n){return(n=n[JM])instanceof A7?n:null}var iD="__closure_events_fn_"+(1e9*Math.random()>>>0);function rD(n){return"function"==typeof n?n:(n[iD]||(n[iD]=function(t){return n.handleEvent(t)}),n[iD])}function wr(){Dd.call(this),this.i=new A7(this),this.P=this,this.I=null}function Zr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new ps(t,n);else if(t instanceof ps)t.target=t.target||n;else{var r=t;xk(t=new ps(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var u=t.g=e[s];r=k7(u,i,!0,t)&&r}if(r=k7(u=t.g=n,i,!0,t)&&r,r=k7(u,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=k7(u=t.g=e[s],i,!1,t)&&r}function k7(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ca&&u.capture==e){var h=u.listener,_=u.ia||u.src;u.fa&&QM(n.i,u),r=!1!==h.call(_,i)&&r}}return r&&!i.defaultPrevented}Yr(wr,Dd),wr.prototype[m4]=!0,wr.prototype.removeEventListener=function(n,t,e,i){Ok(this,n,t,e,i)},wr.prototype.M=function(){if(wr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)T7(e[i]);delete n.g[t],n.h--}}this.I=null},wr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},wr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var sD=Lt.JSON.stringify;function IU(){var n=Fk;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var aD,Nk=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new AU,n=>n.reset());class AU{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function kU(n){Lt.setTimeout(()=>{throw n},0)}function oD(n,t){aD||function RU(){var n=Lt.Promise.resolve(void 0);aD=function(){n.then(OU)}}(),lD||(aD(),lD=!0),Fk.add(n,t)}var lD=!1,Fk=new class TU{constructor(){this.h=this.g=null}add(t,e){const i=Nk.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function OU(){for(var n;n=IU();){try{n.h.call(n.g)}catch(e){kU(e)}var t=Nk;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}lD=!1}function R7(n,t){wr.call(this),this.h=n||1,this.g=t||Lt,this.j=Wr(this.kb,this),this.l=Date.now()}function cD(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function uD(n,t,e){if("function"==typeof n)e&&(n=Wr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Wr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Lt.setTimeout(n,t||0)}function Lk(n){n.g=uD(()=>{n.g=null,n.i&&(n.i=!1,Lk(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Yr(R7,wr),(rt=R7.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Zr(this,"tick"),this.da&&(cD(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){R7.Z.M.call(this),cD(this),delete this.g};class PU extends Dd{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Lk(this)}M(){super.M(),this.g&&(Lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function g4(n){Dd.call(this),this.h=n,this.g={}}Yr(g4,Dd);var zk=[];function Vk(n,t,e,i){Array.isArray(e)||(e&&(zk[0]=e.toString()),e=zk);for(var r=0;r<e.length;r++){var s=Ak(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Bk(n){GM(n.g,function(t,e){this.g.hasOwnProperty(e)&&tD(t)},n),n.g={}}function O7(){this.g=!0}function Bp(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function zU(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<r.length;u++)r[u]=""}}}return sD(e)}catch(h){return t}}(n,e)+(i?" "+i:"")})}g4.prototype.M=function(){g4.Z.M.call(this),Bk(this)},g4.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},O7.prototype.Aa=function(){this.g=!1},O7.prototype.info=function(){};var L2={},Hk=null;function P7(){return Hk=Hk||new wr}function jk(n){ps.call(this,L2.Ma,n)}function _4(n){const t=P7();Zr(t,new jk(t,n))}function Uk(n,t){ps.call(this,L2.STAT_EVENT,n),this.stat=t}function zs(n){const t=P7();Zr(t,new Uk(t,n))}function Gk(n,t){ps.call(this,L2.Na,n),this.size=t}function v4(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Lt.setTimeout(function(){n()},t)}L2.Ma="serverreachability",Yr(jk,ps),L2.STAT_EVENT="statevent",Yr(Uk,ps),L2.Na="timingevent",Yr(Gk,ps);var N7={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},$k={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function dD(){}function Wk(){}dD.prototype.h=null;var pD,y4={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function hD(){ps.call(this,"d")}function fD(){ps.call(this,"c")}function F7(){}function b4(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new g4(this),this.P=VU,this.W=new R7(n=qM?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Yk}function Yk(){this.i=null,this.g="",this.h=!1}Yr(hD,ps),Yr(fD,ps),Yr(F7,dD),F7.prototype.g=function(){return new XMLHttpRequest},F7.prototype.i=function(){return{}},pD=new F7;var VU=45e3,mD={},L7={};function gD(n,t,e){n.K=1,n.v=j7(Nu(t)),n.s=e,n.U=!0,Zk(n,null)}function Zk(n,t){n.F=Date.now(),C4(n),n.A=Nu(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),rR(e.h,"t",i),n.C=0,e=n.l.H,n.h=new Yk,n.g=SR(n.l,e?t:null,!n.s),0<n.O&&(n.L=new PU(Wr(n.Ia,n,n.g),n.O)),Vk(n.V,n.g,"readystatechange",n.gb),t=n.H?Mk(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),_4(1),function NU(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var u="",h=s.split("&"),_=0;_<h.length;_++){var C=h[_].split("=");if(1<C.length){var M=C[0];C=C[1];var I=M.split("_");u=2<=I.length&&"type"==I[1]?u+(M+"=")+C+"&":u+(M+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Kk(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Qk(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=BU(n,e),r==L7){4==t&&(n.o=4,zs(14),i=!1),Bp(n.j,n.m,null,"[Incomplete Response]");break}if(r==mD){n.o=4,zs(15),Bp(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Bp(n.j,n.m,r,null),_D(n,r)}Kk(n)&&r!=L7&&r!=mD&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,zs(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),ID(t),t.L=!0,zs(11))):(Bp(n.j,n.m,e,"[Invalid Chunked Response]"),z2(n),w4(n))}function BU(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?L7:(e=Number(t.substring(e,i)),isNaN(e)?mD:(i+=1)+e>t.length?L7:(t=t.substr(i,e),n.C=i+e,t))}function C4(n){n.Y=Date.now()+n.P,Xk(n,n.P)}function Xk(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=v4(Wr(n.eb,n),t)}function z7(n){n.B&&(Lt.clearTimeout(n.B),n.B=null)}function w4(n){0==n.l.G||n.I||MR(n.l,n)}function z2(n){z7(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,cD(n.W),Bk(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function _D(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||bD(e.i,n)))if(e.I=n.N,!n.J&&bD(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(C){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=v4(Wr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;Y7(e),q7(e)}SD(e),zs(18)}if(1>=aR(e.i)&&e.ka){try{e.ka()}catch(C){}e.ka=void 0}}else H2(e,11)}else if((n.J||e.g==n)&&Y7(e),!S7(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let C=r[t];if(e.U=C[0],C=C[1],2==e.G)if("c"==C[0]){e.J=C[1],e.la=C[2];const M=C[3];null!=M&&(e.ma=M,e.h.info("VER="+e.ma));const I=C[4];null!=I&&(e.za=I,e.h.info("SVER="+e.za));const O=C[5];null!=O&&"number"==typeof O&&0<O&&(e.K=i=1.5*O,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const L=n.g;if(L){const V=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var s=i.i;!s.g&&(Fs(V,"spdy")||Fs(V,"quic")||Fs(V,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(CD(s,s.h),s.h=null))}if(i.D){const Y=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(i.sa=Y,pi(i.F,i.D,Y))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=ER(i,i.H?i.la:null,i.W),u.J){lR(i.i,u);var h=u,_=i.K;_&&h.setTimeout(_),h.B&&(z7(h),C4(h)),i.g=u}else CR(i);0<e.l.length&&W7(e)}else"stop"!=C[0]&&"close"!=C[0]||H2(e,7);else 3==e.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?H2(e,7):xD(e):"noop"!=C[0]&&e.j&&e.j.wa(C),e.A=0)}_4(4)}catch(C){}}function vD(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(BM(n)||"string"==typeof n)vk(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(BM(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function HU(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(BM(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}}function Hp(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Hp)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function yD(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];V2(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)V2(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function V2(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(rt=b4.prototype).setTimeout=function(n){this.P=n},rt.gb=function(n){n=n.target;const t=this.L;t&&3==Fu(n)?t.l():this.Ia(n)},rt.Ia=function(n){try{if(n==this.g)e:{const M=Fu(this.g);var t=this.g.Da();const I=this.g.ba();if(!(3>M)&&(3!=M||qM||this.g&&(this.h.h||this.g.ga()||gR(this.g)))){this.I||4!=M||7==t||_4(8==t||0>=I?3:2),z7(this);var e=this.g.ba();this.N=e;t:if(Kk(this)){var i=gR(this.g);n="";var r=i.length,s=4==Fu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){z2(this),w4(this);var u="";break t}this.h.i=new Lt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function FU(n,t,e,i,r,s,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.X,M,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S7(h)){var C=h;break t}}C=null}if(!(e=C)){this.i=!1,this.o=3,zs(12),z2(this),w4(this);break e}Bp(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_D(this,e)}this.U?(Qk(this,M,u),qM&&this.i&&3==M&&(Vk(this.V,this.W,"tick",this.fb),this.W.start())):(Bp(this.j,this.m,u,null),_D(this,u)),4==M&&z2(this),this.i&&!this.I&&(4==M?MR(this.l,this):(this.i=!1,C4(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,zs(12)):(this.o=0,zs(13)),z2(this),w4(this)}}}catch(M){}},rt.fb=function(){if(this.g){var n=Fu(this.g),t=this.g.ga();this.C<t.length&&(z7(this),Qk(this,n,t),this.i&&4!=n&&C4(this))}},rt.cancel=function(){this.I=!0,z2(this)},rt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function LU(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(_4(3),zs(17)),z2(this),this.o=2,w4(this)):Xk(this,this.Y-n)},(rt=Hp.prototype).R=function(){yD(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},rt.T=function(){return yD(this),this.g.concat()},rt.get=function(n,t){return V2(this.h,n)?this.h[n]:t},rt.set=function(n,t){V2(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},rt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],s=this.get(r);n.call(t,s,r,this)}};var Jk=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function B2(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof B2){this.g=void 0!==t?t:n.g,V7(this,n.j),this.s=n.s,B7(this,n.i),H7(this,n.m),this.l=n.l,t=n.h;var e=new x4;e.i=t.i,t.g&&(e.g=new Hp(t.g),e.h=t.h),eR(this,e),this.o=n.o}else n&&(e=String(n).match(Jk))?(this.g=!!t,V7(this,e[1]||"",!0),this.s=M4(e[2]||""),B7(this,e[3]||"",!0),H7(this,e[4]),this.l=M4(e[5]||"",!0),eR(this,e[6]||"",!0),this.o=M4(e[7]||"")):(this.g=!!t,this.h=new x4(null,this.g))}function Nu(n){return new B2(n)}function V7(n,t,e){n.j=e?M4(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function B7(n,t,e){n.i=e?M4(t,!0):t}function H7(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function eR(n,t,e){t instanceof x4?(n.h=t,function KU(n,t){t&&!n.j&&(xd(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(nR(this,i),rR(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=D4(t,YU)),n.h=new x4(t,n.g))}function pi(n,t,e){n.h.set(t,e)}function j7(n){return pi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function M4(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function D4(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,$U),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function $U(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}B2.prototype.toString=function(){var n=[],t=this.j;t&&n.push(D4(t,tR,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(D4(t,tR,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(D4(e,"/"==e.charAt(0)?WU:qU,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",D4(e,ZU)),n.join("")};var tR=/[#\/\?@]/g,qU=/[#\?:]/g,WU=/[#\?]/g,YU=/[#\?@]/g,ZU=/#/g;function x4(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function xd(n){n.g||(n.g=new Hp,n.h=0,n.i&&function jU(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function nR(n,t){xd(n),t=jp(n,t),V2(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,V2((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&yD(n)))}function iR(n,t){return xd(n),t=jp(n,t),V2(n.g.h,t)}function rR(n,t,e){nR(n,t),0<e.length&&(n.i=null,n.g.set(jp(n,t),jM(e)),n.h+=e.length)}function jp(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function sR(n){this.l=n||XU,n=Lt.PerformanceNavigationTiming?0<(n=Lt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Lt.g&&Lt.g.Ea&&Lt.g.Ea()&&Lt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=x4.prototype).add=function(n,t){xd(this),this.i=null,n=jp(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},rt.forEach=function(n,t){xd(this),this.g.forEach(function(e,i){vk(e,function(r){n.call(t,r,i,this)},this)},this)},rt.T=function(){xd(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],s=0;s<r.length;s++)e.push(t[i]);return e},rt.R=function(n){xd(this);var t=[];if("string"==typeof n)iR(this,n)&&(t=yk(t,this.g.get(jp(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=yk(t,n[e])}return t},rt.set=function(n,t){return xd(this),this.i=null,iR(this,n=jp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},rt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var u=r;""!==i[s]&&(u+="="+encodeURIComponent(String(i[s]))),n.push(u)}}return this.i=n.join("&")};var XU=10;function oR(n){return!!n.h||!!n.g&&n.g.size>=n.j}function aR(n){return n.h?1:n.g?n.g.size:0}function bD(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function CD(n,t){n.g?n.g.add(t):n.h=t}function lR(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function cR(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return jM(n.i)}function wD(){}function JU(){this.g=new wD}function eG(n,t,e){const i=e||"";try{vD(n,function(r,s){let u=r;f4(r)&&(u=sD(r)),t.push(i+s+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function U7(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function E4(n){this.l=n.$b||null,this.j=n.ib||!1}function G7(n,t){wr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=MD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sR.prototype.cancel=function(){if(this.i=cR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},wD.prototype.stringify=function(n){return Lt.JSON.stringify(n,void 0)},wD.prototype.parse=function(n){return Lt.JSON.parse(n,void 0)},Yr(E4,dD),E4.prototype.g=function(){return new G7(this.l,this.j)},E4.prototype.i=function(n){return function(){return n}}({}),Yr(G7,wr);var MD=0;function uR(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function S4(n){n.readyState=4,n.l=null,n.j=null,n.A=null,I4(n)}function I4(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=G7.prototype).open=function(n,t){if(this.readyState!=MD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,I4(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Lt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,S4(this)),this.readyState=MD},rt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,I4(this)),this.g&&(this.readyState=3,I4(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Lt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uR(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?S4(this):I4(this),3==this.readyState&&uR(this)}},rt.Ua=function(n){this.g&&(this.response=this.responseText=n,S4(this))},rt.Ta=function(n){this.g&&(this.response=n,S4(this))},rt.ha=function(){this.g&&S4(this)},rt.setRequestHeader=function(n,t){this.v.append(n,t)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(G7.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var nG=Lt.JSON.parse;function ir(n){wr.call(this),this.headers=new Hp,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dR,this.K=this.L=!1}Yr(ir,wr);var dR="",iG=/^https?$/i,rG=["POST","PUT"];function oG(n){return"content-type"==n.toLowerCase()}function hR(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,fR(n),$7(n)}function fR(n){n.D||(n.D=!0,Zr(n,"complete"),Zr(n,"error"))}function pR(n){if(n.h&&void 0!==VM&&(!n.C[1]||4!=Fu(n)||2!=n.ba()))if(n.v&&4==Fu(n))uD(n.Fa,0,n);else if(Zr(n,"readystatechange"),4==Fu(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(Jk)[1]||null;if(!r&&Lt.self&&Lt.self.location){var s=Lt.self.location.protocol;r=s.substr(0,s.length-1)}i=!iG.test(r?r.toLowerCase():"")}e=i}if(e)Zr(n,"complete"),Zr(n,"success");else{n.m=6;try{var u=2<Fu(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",fR(n)}}finally{$7(n)}}}function $7(n,t){if(n.g){mR(n);const e=n.g,i=n.C[0]?x7:null;n.g=null,n.C=null,t||Zr(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function mR(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Lt.clearTimeout(n.A),n.A=null)}function Fu(n){return n.g?n.g.readyState:0}function gR(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case dR:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function DD(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function aG(n){let t="";return GM(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):pi(n,t,e))}function T4(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function _R(n){this.za=0,this.l=[],this.h=new O7,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=T4("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=T4("baseRetryDelayMs",5e3,n),this.$a=T4("retryDelaySeedMs",1e4,n),this.Ya=T4("forwardChannelMaxRetries",2,n),this.ra=T4("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new sR(n&&n.concurrentRequestLimit),this.Ca=new JU,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function xD(n){if(vR(n),3==n.G){var t=n.V++,e=Nu(n.F);pi(e,"SID",n.J),pi(e,"RID",t),pi(e,"TYPE","terminate"),A4(n,e),(t=new b4(n,n.h,t,void 0)).K=2,t.v=j7(Nu(e)),e=!1,Lt.navigator&&Lt.navigator.sendBeacon&&(e=Lt.navigator.sendBeacon(t.v.toString(),"")),!e&&Lt.Image&&((new Image).src=t.v,e=!0),e||(t.g=SR(t.l,null),t.g.ea(t.v)),t.F=Date.now(),C4(t)}xR(n)}function q7(n){n.g&&(ID(n),n.g.cancel(),n.g=null)}function vR(n){q7(n),n.u&&(Lt.clearTimeout(n.u),n.u=null),Y7(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Lt.clearTimeout(n.m),n.m=null)}function ED(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&W7(n)}function W7(n){oR(n.i)||n.m||(n.m=!0,oD(n.Ha,n),n.C=0)}function yR(n,t){var e;e=t?t.m:n.V++;const i=Nu(n.F);pi(i,"SID",n.J),pi(i,"RID",e),pi(i,"AID",n.U),A4(n,i),n.o&&n.s&&DD(i,n.o,n.s),e=new b4(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=bR(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),CD(n.i,e),gD(e,i,t)}function A4(n,t){n.j&&vD({},function(e,i){pi(t,i,e)})}function bR(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Wr(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const u=["count="+e];-1==s?0<e?(s=r[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);let h=!0;for(let _=0;_<e;_++){let C=r[_].h;const M=r[_].g;if(C-=s,0>C)s=Math.max(0,r[_].h-100),h=!1;else try{eG(M,u,"req"+C+"_")}catch(I){i&&i(M)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function CR(n){n.g||n.u||(n.Y=1,oD(n.Ga,n),n.A=0)}function SD(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=v4(Wr(n.Ga,n),DR(n,n.A)),n.A++,0))}function ID(n){null!=n.B&&(Lt.clearTimeout(n.B),n.B=null)}function wR(n){n.g=new b4(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Nu(n.oa);pi(t,"RID","rpc"),pi(t,"SID",n.J),pi(t,"CI",n.N?"0":"1"),pi(t,"AID",n.U),A4(n,t),pi(t,"TYPE","xmlhttp"),n.o&&n.s&&DD(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=j7(Nu(t)),e.s=null,e.U=!0,Zk(e,n)}function Y7(n){null!=n.v&&(Lt.clearTimeout(n.v),n.v=null)}function MR(n,t){var e=null;if(n.g==t){Y7(n),ID(n),n.g=null;var i=2}else{if(!bD(n.i,t))return;e=t.D,lR(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Zr(i=P7(),new Gk(i,e,t,r)),W7(n)}else CR(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function lG(n,t){return!(aR(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=v4(Wr(n.Ha,n,t),DR(n,n.C)),n.C++,0)))}(n,t)||2==i&&SD(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:H2(n,5);break;case 4:H2(n,10);break;case 3:H2(n,6);break;default:H2(n,2)}}function DR(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function H2(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Wr(n.jb,n);e||(e=new B2("//www.google.com/images/cleardot.gif"),Lt.location&&"http"==Lt.location.protocol||V7(e,"https"),j7(e)),function tG(n,t){const e=new O7;if(Lt.Image){const i=new Image;i.onload=E7(U7,e,i,"TestLoadImage: loaded",!0,t),i.onerror=E7(U7,e,i,"TestLoadImage: error",!1,t),i.onabort=E7(U7,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=E7(U7,e,i,"TestLoadImage: timeout",!1,t),Lt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else zs(2);n.G=0,n.j&&n.j.va(t),xR(n),vR(n)}function xR(n){n.G=0,n.I=-1,n.j&&((0!=cR(n.i).length||0!=n.l.length)&&(n.i.i.length=0,jM(n.l),n.l.length=0),n.j.ua())}function ER(n,t,e){let i=function UU(n){return n instanceof B2?Nu(n):new B2(n,void 0)}(e);if(""!=i.i)t&&B7(i,t+"."+i.i),H7(i,i.m);else{const r=Lt.location;i=function GU(n,t,e,i){var r=new B2(null,void 0);return n&&V7(r,n),t&&B7(r,t),e&&H7(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&GM(n.aa,function(r,s){pi(i,s,r)}),e=n.sa,(t=n.D)&&e&&pi(i,t,e),pi(i,"VER",n.ma),A4(n,i),i}function SR(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ir(e&&n.Ba&&!n.qa?new E4({ib:!0}):n.qa)).L=n.H,t}function IR(){}function Z7(){if(Vp&&!(10<=Number(CU)))throw Error("Environmental error: no available transport.")}function Uo(n,t){wr.call(this),this.g=new _R(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!S7(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!S7(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Up(this)}function TR(n){hD.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function AR(){fD.call(this),this.status=1}function Up(n){this.g=n}(rt=ir.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pD.g(),this.C=function qk(n){return n.h||(n.h=n.i())}(this.u?this.u:pD),this.g.onreadystatechange=Wr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void hR(this,s)}n=e||"";const r=new Hp(this.headers);i&&vD(i,function(s,u){r.set(u,s)}),i=function mU(n){e:{var t=oG;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Lt.FormData&&n instanceof Lt.FormData,!(0<=_k(rG,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,u){this.g.setRequestHeader(u,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mR(this),0<this.B&&((this.K=function sG(n){return Vp&&function bU(){return function gU(n){var t=yU;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=bk(String(I7)).split("."),e=bk("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",s=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=UM(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||UM(0==r[2].length,0==s[2].length)||UM(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wr(this.pa,this)):this.A=uD(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){hR(this,s)}},rt.pa=function(){void 0!==VM&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zr(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Zr(this,"complete"),Zr(this,"abort"),$7(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$7(this,!0)),ir.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?pR(this):this.cb())},rt.cb=function(){pR(this)},rt.ba=function(){try{return 2<Fu(this)?this.g.status:-1}catch(n){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},rt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),nG(t)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=_R.prototype).ma=8,rt.G=1,rt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},rt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new b4(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=Mk(s),xk(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=bR(this,r,t),pi(e=Nu(this.F),"RID",n),pi(e,"CVER",22),this.D&&pi(e,"X-HTTP-Session-Id",this.D),A4(this,e),this.o&&s&&DD(e,this.o,s),CD(this.i,r),this.Ra&&pi(e,"TYPE","init"),this.ja?(pi(e,"$req",t),pi(e,"SID","null"),r.$=!0,gD(r,e,null)):gD(r,e,t),this.G=2}}else 3==this.G&&(n?yR(this,n):0==this.l.length||oR(this.i)||yR(this))},rt.Ga=function(){if(this.u=null,wR(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=v4(Wr(this.bb,this),n)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,zs(10),q7(this),wR(this))},rt.ab=function(){null!=this.v&&(this.v=null,q7(this),SD(this),zs(19))},rt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),zs(2)):(this.h.info("Failed to ping google.com"),zs(1))},(rt=IR.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},Z7.prototype.g=function(n,t){return new Uo(n,t)},Yr(Uo,wr),Uo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),oD(Wr(n.hb,n,t))),zs(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=ER(n,null,n.W),W7(n)},Uo.prototype.close=function(){xD(this.g)},Uo.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,ED(this.g,t)}else this.v?((t={}).__data__=sD(n),ED(this.g,t)):ED(this.g,n)},Uo.prototype.M=function(){this.g.j=null,delete this.j,xD(this.g),delete this.g,Uo.Z.M.call(this)},Yr(TR,hD),Yr(AR,fD),Yr(Up,IR),Up.prototype.xa=function(){Zr(this.g,"a")},Up.prototype.wa=function(n){Zr(this.g,new TR(n))},Up.prototype.va=function(n){Zr(this.g,new AR(n))},Up.prototype.ua=function(){Zr(this.g,"b")},Z7.prototype.createWebChannel=Z7.prototype.g,Uo.prototype.send=Uo.prototype.u,Uo.prototype.open=Uo.prototype.m,Uo.prototype.close=Uo.prototype.close,N7.NO_ERROR=0,N7.TIMEOUT=8,N7.HTTP_ERROR=6,$k.COMPLETE="complete",Wk.EventType=y4,y4.OPEN="a",y4.CLOSE="b",y4.ERROR="c",y4.MESSAGE="d",wr.prototype.listen=wr.prototype.N,ir.prototype.listenOnce=ir.prototype.O,ir.prototype.getLastError=ir.prototype.La,ir.prototype.getLastErrorCode=ir.prototype.Da,ir.prototype.getStatus=ir.prototype.ba,ir.prototype.getResponseJson=ir.prototype.Qa,ir.prototype.getResponseText=ir.prototype.ga,ir.prototype.send=ir.prototype.ea;var cG=Pu.createWebChannelTransport=function(){return new Z7},uG=Pu.getStatEventTarget=function(){return P7()},TD=Pu.ErrorCode=N7,dG=Pu.EventType=$k,hG=Pu.Event=L2,kR=Pu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},fG=Pu.FetchXmlHttpFactory=E4,K7=Pu.WebChannel=Wk,pG=Pu.XhrIo=ir;const RR="@firebase/firestore";class Kr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Kr.UNAUTHENTICATED=new Kr(null),Kr.GOOGLE_CREDENTIALS=new Kr("google-credentials-uid"),Kr.FIRST_PARTY=new Kr("first-party-uid"),Kr.MOCK_USER=new Kr("mock-user");let Gp="9.6.5";const Ed=new Dl.Yd("@firebase/firestore");function AD(){return Ed.logLevel}function Ve(n,...t){if(Ed.logLevel<=Dl.in.DEBUG){const e=t.map(kD);Ed.debug(`Firestore (${Gp}): ${n}`,...e)}}function rr(n,...t){if(Ed.logLevel<=Dl.in.ERROR){const e=t.map(kD);Ed.error(`Firestore (${Gp}): ${n}`,...e)}}function k4(n,...t){if(Ed.logLevel<=Dl.in.WARN){const e=t.map(kD);Ed.warn(`Firestore (${Gp}): ${n}`,...e)}}function kD(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function _t(n="Unexpected state"){const t=`FIRESTORE (${Gp}) INTERNAL ASSERTION FAILED: `+n;throw rr(t),new Error(t)}function Tt(n,t){n||_t()}function Ze(n,t){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends $t.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class OR{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class _G{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Kr.UNAUTHENTICATED))}shutdown(){}}class vG{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class yG{constructor(t){this.t=t,this.currentUser=Kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=C=>this.i!==r?(r=this.i,e(C)):Promise.resolve();let u=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Mr,t.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const C=u;t.enqueueRetryable((0,ve.Z)(function*(){yield C.promise,yield s(i.currentUser)}))},_=C=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(C=>_(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?_(C):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Mr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Tt("string"==typeof i.accessToken),new OR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Tt(null===t||"string"==typeof t),new Kr(t)}}class bG{constructor(t,e,i){this.type="FirstParty",this.user=Kr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class CG{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new bG(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PR{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wG{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null}start(t,e){this.o=r=>{t.enqueueRetryable(()=>{return null!=(s=r).error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`),e(s.token);var s})};const i=r=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.g.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.g.getImmediate({optional:!0});r?i(r):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Tt("string"==typeof e.token),new PR(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Go{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.p(i),this.T=i=>e.writeSequenceNumber(i))}p(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function MG(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}Go.I=-1;class NR{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=MG(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function nn(n,t){return n<t?-1:n>t?1:0}function $p(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function FR(n){return n+"\0"}class Dr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ke(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ke(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ke(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ke(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Dr.fromMillis(Date.now())}static fromDate(t){return Dr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Dr(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?nn(this.nanoseconds,t.nanoseconds):nn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Vt(t)}static min(){return new Vt(new Dr(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function LR(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function j2(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function zR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class R4{constructor(t,e,i){void 0===e?e=0:e>t.length&&_t(),void 0===i?i=t.length-e:i>t.length-e&&_t(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===R4.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof R4?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),u=e.get(r);if(s<u)return-1;if(s>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class xn extends R4{construct(t,e,i){return new xn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ke(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new xn(e)}static emptyPath(){return new xn([])}}const DG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qr extends R4{construct(t,e,i){return new Qr(t,e,i)}static isValidIdentifier(t){return DG.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new ke(ue.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new ke(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new ke(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=_,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(s(),r++)}if(s(),u)throw new ke(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qr(e)}static emptyPath(){return new Qr([])}}class qp{constructor(t){this.fields=t,t.sort(Qr.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return $p(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class mr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new mr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new mr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return nn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}mr.EMPTY_BYTE_STRING=new mr("");const EG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sd(n){if(Tt(!!n),"string"==typeof n){let t=0;const e=EG.exec(n);if(Tt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:sr(n.seconds),nanos:sr(n.nanos)}}function sr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Wp(n){return"string"==typeof n?mr.fromBase64String(n):mr.fromUint8Array(n)}function RD(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function VR(n){const t=n.mapValue.fields.__previous_value__;return RD(t)?VR(t):t}function O4(n){const t=Sd(n.mapValue.fields.__local_write_time__.timestampValue);return new Dr(t.seconds,t.nanos)}function U2(n){return null==n}function Q7(n){return 0===n&&1/n==-1/0}function BR(n){return"number"==typeof n&&Number.isInteger(n)&&!Q7(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(xn.fromString(t))}static fromName(t){return new mt(xn.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===xn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return xn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new xn(t.slice()))}}function G2(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?RD(n)?4:10:_t()}function yc(n,t){if(n===t)return!0;const e=G2(n);if(e!==G2(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return O4(n).isEqual(O4(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Sd(i.timestampValue),u=Sd(r.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Wp(n.bytesValue).isEqual(Wp(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return sr(i.geoPointValue.latitude)===sr(r.geoPointValue.latitude)&&sr(i.geoPointValue.longitude)===sr(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return sr(i.integerValue)===sr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=sr(i.doubleValue),u=sr(r.doubleValue);return s===u?Q7(s)===Q7(u):isNaN(s)&&isNaN(u)}return!1}(n,t);case 9:return $p(n.arrayValue.values||[],t.arrayValue.values||[],yc);case 10:return function(i,r){const s=i.mapValue.fields||{},u=r.mapValue.fields||{};if(LR(s)!==LR(u))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===u[h]||!yc(s[h],u[h])))return!1;return!0}(n,t);default:return _t()}var r}function P4(n,t){return void 0!==(n.values||[]).find(e=>yc(e,t))}function Yp(n,t){if(n===t)return 0;const e=G2(n),i=G2(t);if(e!==i)return nn(e,i);switch(e){case 0:return 0;case 1:return nn(n.booleanValue,t.booleanValue);case 2:return function(r,s){const u=sr(r.integerValue||r.doubleValue),h=sr(s.integerValue||s.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return HR(n.timestampValue,t.timestampValue);case 4:return HR(O4(n),O4(t));case 5:return nn(n.stringValue,t.stringValue);case 6:return function(r,s){const u=Wp(r),h=Wp(s);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const u=r.split("/"),h=s.split("/");for(let _=0;_<u.length&&_<h.length;_++){const C=nn(u[_],h[_]);if(0!==C)return C}return nn(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const u=nn(sr(r.latitude),sr(s.latitude));return 0!==u?u:nn(sr(r.longitude),sr(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const u=r.values||[],h=s.values||[];for(let _=0;_<u.length&&_<h.length;++_){const C=Yp(u[_],h[_]);if(C)return C}return nn(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){const u=r.fields||{},h=Object.keys(u),_=s.fields||{},C=Object.keys(_);h.sort(),C.sort();for(let M=0;M<h.length&&M<C.length;++M){const I=nn(h[M],C[M]);if(0!==I)return I;const O=Yp(u[h[M]],_[C[M]]);if(0!==O)return O}return nn(h.length,C.length)}(n.mapValue,t.mapValue);default:throw _t()}}function HR(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return nn(n,t);const e=Sd(n),i=Sd(t),r=nn(e.seconds,i.seconds);return 0!==r?r:nn(e.nanos,i.nanos)}function OD(n){return PD(n)}function PD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Sd(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Wp(n.bytesValue).toBase64():"referenceValue"in n?mt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const u of i.values||[])s?s=!1:r+=",",r+=PD(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",u=!0;for(const h of r)u?u=!1:s+=",",s+=`${h}:${PD(i.fields[h])}`;return s+"}"}(n.mapValue):_t();var t}function X7(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function ND(n){return!!n&&"integerValue"in n}function FD(n){return!!n&&"arrayValue"in n}function jR(n){return!!n&&"nullValue"in n}function UR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function J7(n){return!!n&&"mapValue"in n}function N4(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return j2(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=N4(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=N4(n.arrayValue.values[e]);return t}return Object.assign({},n)}class ms{constructor(t){this.value=t}static empty(){return new ms({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!J7(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=N4(e)}setAll(t){let e=Qr.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const _=this.getFieldsMap(e);this.applyChanges(_,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=N4(u):r.push(h.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());J7(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return yc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];J7(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){j2(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new ms(N4(this.value))}}function GR(n){const t=[];return j2(n.fields,(e,i)=>{const r=new Qr([e]);if(J7(i)){const s=GR(i.mapValue).fields;if(0===s.length)t.push(r);else for(const u of s)t.push(r.child(u))}else t.push(r)}),new qp(t)}class mi{constructor(t,e,i,r,s){this.key=t,this.documentType=e,this.version=i,this.data=r,this.documentState=s}static newInvalidDocument(t){return new mi(t,0,Vt.min(),ms.empty(),0)}static newFoundDocument(t,e,i){return new mi(t,1,e,i,0)}static newNoDocument(t,e){return new mi(t,2,e,ms.empty(),0)}static newUnknownDocument(t,e){return new mi(t,3,e,ms.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ms.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ms.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof mi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new mi(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class SG{constructor(t,e=null,i=[],r=[],s=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=u,this.endAt=h,this.R=null}}function $R(n,t=null,e=[],i=[],r=null,s=null,u=null){return new SG(n,t,e,i,r,s,u)}function F4(n){const t=Ze(n);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>function TG(n){return n.field.canonicalString()+n.op.toString()+OD(n.value)}(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),U2(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=n9(t.startAt)),t.endAt&&(e+="|ub:",e+=n9(t.endAt)),t.R=e}return t.R}function e9(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!LG(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!yc(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!YR(n.startAt,t.startAt)&&YR(n.endAt,t.endAt)}function t9(n){return mt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Vs extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.P(t,e,i):new AG(t,e,i):"array-contains"===e?new OG(t,i):"in"===e?new PG(t,i):"not-in"===e?new NG(t,i):"array-contains-any"===e?new FG(t,i):new Vs(t,e,i)}static P(t,e,i){return"in"===e?new kG(t,i):new RG(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(Yp(e,this.value)):null!==e&&G2(this.value)===G2(e)&&this.v(Yp(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return _t()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class AG extends Vs{constructor(t,e,i){super(t,e,i),this.key=mt.fromName(i.referenceValue)}matches(t){const e=mt.comparator(t.key,this.key);return this.v(e)}}class kG extends Vs{constructor(t,e){super(t,"in",e),this.keys=qR(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class RG extends Vs{constructor(t,e){super(t,"not-in",e),this.keys=qR(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function qR(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>mt.fromName(i.referenceValue))}class OG extends Vs{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return FD(e)&&P4(e.arrayValue,this.value)}}class PG extends Vs{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&P4(this.value.arrayValue,e)}}class NG extends Vs{constructor(t,e){super(t,"not-in",e)}matches(t){if(P4(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!P4(this.value.arrayValue,e)}}class FG extends Vs{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!FD(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>P4(this.value.arrayValue,i))}}class L4{constructor(t,e){this.position=t,this.before=e}}function n9(n){return`${n.before?"b":"a"}:${n.position.map(t=>OD(t)).join(",")}`}class Zp{constructor(t,e="asc"){this.field=t,this.dir=e}}function LG(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function WR(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],u=n.position[r];if(i=s.field.isKeyField()?mt.comparator(mt.fromName(u.referenceValue),e.key):Yp(u,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return n.before?i<=0:i<0}function YR(n,t){if(null===n)return null===t;if(null===t||n.before!==t.before||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!yc(n.position[e],t.position[e]))return!1;return!0}class Lu{constructor(t,e=null,i=[],r=[],s=null,u="F",h=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=u,this.startAt=h,this.endAt=_,this.S=null,this.D=null}}function ZR(n,t,e,i,r,s,u,h){return new Lu(n,t,e,i,r,s,u,h)}function Kp(n){return new Lu(n)}function r9(n){return!U2(n.limit)&&"F"===n.limitType}function s9(n){return!U2(n.limit)&&"L"===n.limitType}function LD(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function zD(n){for(const t of n.filters)if(t.V())return t.field;return null}function VD(n){return null!==n.collectionGroup}function Qp(n){const t=Ze(n);if(null===t.S){t.S=[];const e=zD(t),i=LD(t);if(null!==e&&null===i)e.isKeyField()||t.S.push(new Zp(e)),t.S.push(new Zp(Qr.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.S.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Zp(Qr.keyField(),s))}}}return t.S}function Ra(n){const t=Ze(n);if(!t.D)if("F"===t.limitType)t.D=$R(t.path,t.collectionGroup,Qp(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Qp(t))e.push(new Zp(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new L4(t.endAt.position,!t.endAt.before):null,r=t.startAt?new L4(t.startAt.position,!t.startAt.before):null;t.D=$R(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.D}function KR(n,t,e){return new Lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function z4(n,t){return e9(Ra(n),Ra(t))&&n.limitType===t.limitType}function QR(n){return`${F4(Ra(n))}|lt:${n.limitType}`}function BD(n){return`Query(target=${function IG(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${OD(i.value)}`;var i}).join(", ")}]`),U2(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: "+n9(n.startAt)),n.endAt&&(t+=", endAt: "+n9(n.endAt)),`Target(${t})`}(Ra(n))}; limitType=${n.limitType})`}function V4(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):mt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!WR(e.startAt,Qp(e),i)||e.endAt&&WR(e.endAt,Qp(e),i)));var e,i}function XR(n){return(t,e)=>{let i=!1;for(const r of Qp(n)){const s=zG(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function zG(n,t,e){const i=n.field.isKeyField()?mt.comparator(t.key,e.key):function(r,s,u){const h=s.data.field(r),_=u.data.field(r);return null!==h&&null!==_?Yp(h,_):_t()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return _t()}}function JR(n,t){if(n.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Q7(t)?"-0":t}}function eO(n){return{integerValue:""+n}}function tO(n,t){return BR(t)?eO(t):JR(n,t)}class o9{constructor(){this._=void 0}}function VG(n,t,e){return n instanceof Xp?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof $2?iO(n,t):n instanceof q2?rO(n,t):function(i,r){const s=nO(i,r),u=sO(s)+sO(i.N);return ND(s)&&ND(i.N)?eO(u):JR(i.k,u)}(n,t)}function BG(n,t,e){return n instanceof $2?iO(n,t):n instanceof q2?rO(n,t):e}function nO(n,t){return n instanceof Jp?ND(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Xp extends o9{}class $2 extends o9{constructor(t){super(),this.elements=t}}function iO(n,t){const e=oO(t);for(const i of n.elements)e.some(r=>yc(r,i))||e.push(i);return{arrayValue:{values:e}}}class q2 extends o9{constructor(t){super(),this.elements=t}}function rO(n,t){let e=oO(t);for(const i of n.elements)e=e.filter(r=>!yc(r,i));return{arrayValue:{values:e}}}class Jp extends o9{constructor(t,e){super(),this.k=t,this.N=e}}function sO(n){return sr(n.integerValue||n.doubleValue)}function oO(n){return FD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class B4{constructor(t,e){this.field=t,this.transform=e}}class jG{constructor(t,e){this.version=t,this.transformResults=e}}class or{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new or}static exists(t){return new or(void 0,t)}static updateTime(t){return new or(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function a9(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class l9{}function UG(n,t,e){n instanceof H4?function(i,r,s){const u=i.value.clone(),h=uO(i.fieldTransforms,r,s.transformResults);u.setAll(h),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Id?function(i,r,s){if(!a9(i.precondition,r))return void r.convertToUnknownDocument(s.version);const u=uO(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(cO(i)),h.setAll(u),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function HD(n,t,e){var r;n instanceof H4?function(i,r,s){if(!a9(i.precondition,r))return;const u=i.value.clone(),h=dO(i.fieldTransforms,s,r);u.setAll(h),r.convertToFoundDocument(lO(r),u).setHasLocalMutations()}(n,t,e):n instanceof Id?function(i,r,s){if(!a9(i.precondition,r))return;const u=dO(i.fieldTransforms,s,r),h=r.data;h.setAll(cO(i)),h.setAll(u),r.convertToFoundDocument(lO(r),h).setHasLocalMutations()}(n,t,e):a9(n.precondition,r=t)&&r.convertToNoDocument(Vt.min())}function GG(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=nO(i.transform,r||null);null!=s&&(null==e&&(e=ms.empty()),e.set(i.field,s))}return e||null}function aO(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&$p(e,i,(r,s)=>function HG(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof $2&&i instanceof $2||e instanceof q2&&i instanceof q2?$p(e.elements,i.elements,yc):e instanceof Jp&&i instanceof Jp?yc(e.N,i.N):e instanceof Xp&&i instanceof Xp);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function lO(n){return n.isFoundDocument()?n.version:Vt.min()}class H4 extends l9{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Id extends l9{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}}function cO(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function uO(n,t,e){const i=new Map;Tt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],u=s.transform,h=t.data.field(s.field);i.set(s.field,BG(u,h,e[r]))}return i}function dO(n,t,e){const i=new Map;for(const r of n){const s=r.transform,u=e.data.field(r.field);i.set(r.field,VG(s,u,t))}return i}class j4 extends l9{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class jD extends l9{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class $G{constructor(t){this.count=t}}var ar,cn;function hO(n){switch(n){default:return _t();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function fO(n){if(void 0===n)return rr("GRPC error has no .code"),ue.UNKNOWN;switch(n){case ar.OK:return ue.OK;case ar.CANCELLED:return ue.CANCELLED;case ar.UNKNOWN:return ue.UNKNOWN;case ar.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case ar.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case ar.INTERNAL:return ue.INTERNAL;case ar.UNAVAILABLE:return ue.UNAVAILABLE;case ar.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case ar.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case ar.NOT_FOUND:return ue.NOT_FOUND;case ar.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case ar.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case ar.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case ar.ABORTED:return ue.ABORTED;case ar.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case ar.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case ar.DATA_LOSS:return ue.DATA_LOSS;default:return _t()}}(cn=ar||(ar={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";class gr{constructor(t,e){this.comparator=t,this.root=e||Xr.EMPTY}insert(t,e){return new gr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Xr.BLACK,null,null))}remove(t){return new gr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new c9(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new c9(this.root,t,this.comparator,!1)}getReverseIterator(){return new c9(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new c9(this.root,t,this.comparator,!0)}}class c9{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xr{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=null!=i?i:Xr.RED,this.left=null!=r?r:Xr.EMPTY,this.right=null!=s?s:Xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Xr(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Xr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const t=this.left.check();if(t!==this.right.check())throw _t();return t+(this.isRed()?0:1)}}Xr.EMPTY=null,Xr.RED=!0,Xr.BLACK=!1,Xr.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Xr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ri{constructor(t){this.comparator=t,this.data=new gr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new pO(this.data.getIterator())}getIteratorFrom(t){return new pO(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ri)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ri(this.comparator);return e.data=t,e}}class pO{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const qG=new gr(mt.comparator);function Oa(){return qG}const WG=new gr(mt.comparator);function UD(){return WG}const YG=new gr(mt.comparator);function mO(){return YG}const ZG=new Ri(mt.comparator);function An(...n){let t=ZG;for(const e of n)t=t.add(e);return t}const KG=new Ri(nn);function u9(){return KG}class U4{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,G4.createSynthesizedTargetChangeForCurrentChange(t,e)),new U4(Vt.min(),i,u9(),Oa(),An())}}class G4{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new G4(mr.EMPTY_BYTE_STRING,e,An(),An(),An())}}class d9{constructor(t,e,i,r){this.$=t,this.removedTargetIds=e,this.key=i,this.O=r}}class gO{constructor(t,e){this.targetId=t,this.M=e}}class _O{constructor(t,e,i=mr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class vO{constructor(){this.F=0,this.L=bO(),this.B=mr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(t){t.approximateByteSize()>0&&(this.q=!0,this.B=t)}G(){let t=An(),e=An(),i=An();return this.L.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:_t()}}),new G4(this.B,this.U,t,e,i)}H(){this.q=!1,this.L=bO()}J(t,e){this.q=!0,this.L=this.L.insert(t,e)}Y(t){this.q=!0,this.L=this.L.remove(t)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class QG{constructor(t){this.et=t,this.nt=new Map,this.st=Oa(),this.it=yO(),this.rt=new Ri(nn)}ot(t){for(const e of t.$)t.O&&t.O.isFoundDocument()?this.ct(e,t.O):this.at(e,t.key,t.O);for(const e of t.removedTargetIds)this.at(e,t.key,t.O)}ut(t){this.forEachTarget(t,e=>{const i=this.ht(e);switch(t.state){case 0:this.lt(e)&&i.W(t.resumeToken);break;case 1:i.Z(),i.K||i.H(),i.W(t.resumeToken);break;case 2:i.Z(),i.K||this.removeTarget(e);break;case 3:this.lt(e)&&(i.tt(),i.W(t.resumeToken));break;case 4:this.lt(e)&&(this.ft(e),i.W(t.resumeToken));break;default:_t()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.nt.forEach((i,r)=>{this.lt(r)&&e(r)})}dt(t){const e=t.targetId,i=t.M.count,r=this.wt(e);if(r){const s=r.target;if(t9(s))if(0===i){const u=new mt(s.path);this.at(e,u,mi.newNoDocument(u,Vt.min()))}else Tt(1===i);else this._t(e)!==i&&(this.ft(e),this.rt=this.rt.add(e))}}gt(t){const e=new Map;this.nt.forEach((s,u)=>{const h=this.wt(u);if(h){if(s.current&&t9(h.target)){const _=new mt(h.target.path);null!==this.st.get(_)||this.yt(u,_)||this.at(u,_,mi.newNoDocument(_,t))}s.j&&(e.set(u,s.G()),s.H())}});let i=An();this.it.forEach((s,u)=>{let h=!0;u.forEachWhile(_=>{const C=this.wt(_);return!C||2===C.purpose||(h=!1,!1)}),h&&(i=i.add(s))});const r=new U4(t,e,this.rt,this.st,i);return this.st=Oa(),this.it=yO(),this.rt=new Ri(nn),r}ct(t,e){if(!this.lt(t))return;const i=this.yt(t,e.key)?2:0;this.ht(t).J(e.key,i),this.st=this.st.insert(e.key,e),this.it=this.it.insert(e.key,this.Tt(e.key).add(t))}at(t,e,i){if(!this.lt(t))return;const r=this.ht(t);this.yt(t,e)?r.J(e,1):r.Y(e),this.it=this.it.insert(e,this.Tt(e).delete(t)),i&&(this.st=this.st.insert(e,i))}removeTarget(t){this.nt.delete(t)}_t(t){const e=this.ht(t).G();return this.et.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}X(t){this.ht(t).X()}ht(t){let e=this.nt.get(t);return e||(e=new vO,this.nt.set(t,e)),e}Tt(t){let e=this.it.get(t);return e||(e=new Ri(nn),this.it=this.it.insert(t,e)),e}lt(t){const e=null!==this.wt(t);return e||Ve("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.nt.get(t);return e&&e.K?null:this.et.Et(t)}ft(t){this.nt.set(t,new vO),this.et.getRemoteKeysForTarget(t).forEach(e=>{this.at(t,e,null)})}yt(t,e){return this.et.getRemoteKeysForTarget(t).has(e)}}function yO(){return new gr(mt.comparator)}function bO(){return new gr(mt.comparator)}const XG={asc:"ASCENDING",desc:"DESCENDING"},JG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class e${constructor(t,e){this.databaseId=t,this.C=e}}function $4(n,t){return n.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function CO(n,t){return n.C?t.toBase64():t.toUint8Array()}function t$(n,t){return $4(n,t.toTimestamp())}function xr(n){return Tt(!!n),Vt.fromTimestamp(function(t){const e=Sd(t);return new Dr(e.seconds,e.nanos)}(n))}function GD(n,t){return(e=n,new xn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function wO(n){const t=xn.fromString(n);return Tt(PO(t)),t}function q4(n,t){return GD(n.databaseId,t.path)}function bc(n,t){const e=wO(t);if(e.get(1)!==n.databaseId.projectId)throw new ke(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ke(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new mt(DO(e))}function $D(n,t){return GD(n.databaseId,t)}function MO(n){const t=wO(n);return 4===t.length?xn.emptyPath():DO(t)}function W4(n){return new xn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DO(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function xO(n,t,e){return{name:q4(n,t),fields:e.value.mapValue.fields}}function EO(n,t,e){const i=bc(n,t.name),r=xr(t.updateTime),s=new ms({mapValue:{fields:t.fields}}),u=mi.newFoundDocument(i,r,s);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function h9(n,t){let e;if(t instanceof H4)e={update:xO(n,t.key,t.value)};else if(t instanceof j4)e={delete:q4(n,t.key)};else if(t instanceof Id)e={update:xO(n,t.key,t.data),updateMask:u$(t.fieldMask)};else{if(!(t instanceof jD))return _t();e={verify:q4(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const u=s.transform;if(u instanceof Xp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof $2)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof q2)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Jp)return{fieldPath:s.field.canonicalString(),increment:u.N};throw _t()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:t$(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:_t()),e;var r}function SO(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?or.updateTime(xr(r.updateTime)):void 0!==r.exists?or.exists(r.exists):or.none():or.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,u){let h=null;"setToServerValue"in u?(Tt("REQUEST_TIME"===u.setToServerValue),h=new Xp):"appendMissingElements"in u?h=new $2(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new q2(u.removeAllFromArray.values||[]):"increment"in u?h=new Jp(s,u.increment):_t();const _=Qr.fromServerFormat(u.fieldPath);return new B4(_,h)}(n,r)):[];var r;if(t.update){const r=bc(n,t.update.name),s=new ms({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new qp((t.updateMask.fieldPaths||[]).map(C=>Qr.fromServerFormat(C)));return new Id(r,s,u,e,i)}return new H4(r,s,e,i)}if(t.delete){const r=bc(n,t.delete);return new j4(r,e)}if(t.verify){const r=bc(n,t.verify);return new jD(r,e)}return _t()}function IO(n,t){return{documents:[$D(n,t.path)]}}function TO(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=$D(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=$D(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(h){if(0===h.length)return;const _=h.map(C=>function(M){if("=="===M.op){if(UR(M.value))return{unaryFilter:{field:em(M.field),op:"IS_NAN"}};if(jR(M.value))return{unaryFilter:{field:em(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(UR(M.value))return{unaryFilter:{field:em(M.field),op:"IS_NOT_NAN"}};if(jR(M.value))return{unaryFilter:{field:em(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:em(M.field),op:a$(M.op),value:M.value}}}(C));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(h){if(0!==h.length)return h.map(_=>{return{field:em((C=_).field),direction:o$(C.dir)};var C})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const u=(_=t.limit,n.C||U2(_)?_:{value:_});var _;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=RO(t.startAt)),t.endAt&&(e.structuredQuery.endAt=RO(t.endAt)),e}function AO(n){let t=MO(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Tt(1===i);const M=e.from[0];M.allDescendants?r=M.collectionId:t=t.child(M.collectionId)}let s=[];e.where&&(s=kO(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(M=>{return new Zp(tm((I=M).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let h=null;e.limit&&(h=function(M){let I;return I="object"==typeof M?M.value:M,U2(I)?null:I}(e.limit));let _=null;e.startAt&&(_=OO(e.startAt));let C=null;return e.endAt&&(C=OO(e.endAt)),ZR(t,r,u,s,h,"F",_,C)}function kO(n){return n?void 0!==n.unaryFilter?[c$(n)]:void 0!==n.fieldFilter?[l$(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>kO(t)).reduce((t,e)=>t.concat(e)):_t():[]}function RO(n){return{before:n.before,values:n.position}}function OO(n){return new L4(n.values||[],!!n.before)}function o$(n){return XG[n]}function a$(n){return JG[n]}function em(n){return{fieldPath:n.canonicalString()}}function tm(n){return Qr.fromServerFormat(n.fieldPath)}function l$(n){return Vs.create(tm(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(n.fieldFilter.op),n.fieldFilter.value)}function c$(n){switch(n.unaryFilter.op){case"IS_NAN":const t=tm(n.unaryFilter.field);return Vs.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=tm(n.unaryFilter.field);return Vs.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=tm(n.unaryFilter.field);return Vs.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=tm(n.unaryFilter.field);return Vs.create(r,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}function u$(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function PO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Tl(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=NO(t)),t=d$(n.get(e),t);return NO(t)}function d$(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function NO(n){return n+"\x01\x01"}function zu(n){const t=n.length;if(Tt(t>=2),2===t)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),xn.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const u=n.indexOf("\x01",s);switch((u<0||u>e)&&_t(),n.charAt(u+1)){case"\x01":const h=n.substring(s,u);let _;0===r.length?_=h:(r+=h,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(s,u),r+="\0";break;case"\x11":r+=n.substring(s,u+1);break;default:_t()}s=u+2}return new xn(i)}class h${constructor(t,e){this.seconds=t,this.nanoseconds=e}}class $o{constructor(t,e,i){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=i}}$o.store="owner",$o.key="owner";class Td{constructor(t,e,i){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=i}}Td.store="mutationQueues",Td.keyPath="userId";class Xn{constructor(t,e,i,r,s){this.userId=t,this.batchId=e,this.localWriteTimeMs=i,this.baseMutations=r,this.mutations=s}}Xn.store="mutations",Xn.keyPath="batchId",Xn.userMutationsIndex="userMutationsIndex",Xn.userMutationsKeyPath=["userId","batchId"];class gs{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,Tl(e)]}static key(t,e,i){return[t,Tl(e),i]}}gs.store="documentMutations",gs.PLACEHOLDER=new gs;class f${constructor(t,e){this.path=t,this.readTime=e}}class p${constructor(t,e){this.path=t,this.version=e}}class Oi{constructor(t,e,i,r,s,u){this.unknownDocument=t,this.noDocument=e,this.document=i,this.hasCommittedMutations=r,this.readTime=s,this.parentPath=u}}Oi.store="remoteDocuments",Oi.readTimeIndex="readTimeIndex",Oi.readTimeIndexPath="readTime",Oi.collectionReadTimeIndex="collectionReadTimeIndex",Oi.collectionReadTimeIndexPath=["parentPath","readTime"];class Cc{constructor(t){this.byteSize=t}}Cc.store="remoteDocumentGlobal",Cc.key="remoteDocumentGlobalKey";class go{constructor(t,e,i,r,s,u,h){this.targetId=t,this.canonicalId=e,this.readTime=i,this.resumeToken=r,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=u,this.query=h}}go.store="targets",go.keyPath="targetId",go.queryTargetsIndexName="queryTargetsIndex",go.queryTargetsKeyPath=["canonicalId","targetId"];class Jr{constructor(t,e,i){this.targetId=t,this.path=e,this.sequenceNumber=i}}Jr.store="targetDocuments",Jr.keyPath=["targetId","path"],Jr.documentTargetsIndex="documentTargetsIndex",Jr.documentTargetsKeyPath=["path","targetId"];class qo{constructor(t,e,i,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=i,this.targetCount=r}}qo.key="targetGlobalKey",qo.store="targetGlobal";class W2{constructor(t,e){this.collectionId=t,this.parent=e}}W2.store="collectionParents",W2.keyPath=["collectionId","parent"];class Vu{constructor(t,e,i,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=i,this.inForeground=r}}Vu.store="clientMetadata",Vu.keyPath="clientId";class nm{constructor(t,e,i){this.bundleId=t,this.createTime=e,this.version=i}}nm.store="bundles",nm.keyPath="bundleId";class im{constructor(t,e,i){this.name=t,this.readTime=e,this.bundledQuery=i}}im.store="namedQueries",im.keyPath="name";const m$=[Td.store,Xn.store,gs.store,Oi.store,go.store,$o.store,qo.store,Jr.store,Vu.store,Cc.store,W2.store,nm.store,im.store],FO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Ae{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Ae((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Ae?e:Ae.resolve(e)}catch(e){return Ae.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Ae.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Ae.reject(e)}static resolve(t){return new Ae((e,i)=>{e(t)})}static reject(t){return new Ae((e,i)=>{i(t)})}static waitFor(t){return new Ae((e,i)=>{let r=0,s=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++s,u&&s===r&&e()},_=>i(_))}),u=!0,s===r&&e()})}static or(t){let e=Ae.resolve(!1);for(const i of t)e=e.next(r=>r?Ae.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}}class f9{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.It=new Mr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{e.error?this.It.reject(new Y4(t,e.error)):this.It.resolve()},this.transaction.onerror=i=>{const r=qD(i.target.error);this.It.reject(new Y4(t,r))}}static open(t,e,i,r){try{return new f9(e,t.transaction(r,i))}catch(s){throw new Y4(e,s)}}get At(){return this.It.promise}abort(t){t&&this.It.reject(t),this.aborted||(Ve("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new _$(e)}}class Al{constructor(t,e,i){this.name=t,this.version=e,this.Rt=i,12.2===Al.bt((0,$t.z$)())&&rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ve("SimpleDb","Removing database:",t),Z2(window.indexedDB.deleteDatabase(t)).toPromise()}static Pt(){if(!(0,$t.hl)())return!1;if(Al.vt())return!0;const t=(0,$t.z$)(),e=Al.bt(t),i=0<e&&e<10,r=Al.Vt(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static vt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.St)}static Dt(t,e){return t.store(e)}static bt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Vt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Ct(t){var e=this;return(0,ve.Z)(function*(){return e.db||(Ve("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=u=>{i(u.target.result)},s.onblocked=()=>{r(new Y4(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new ke(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new ke(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Y4(t,h))},s.onupgradeneeded=u=>{Ve("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.Rt.Nt(u.target.result,s.transaction,u.oldVersion,e.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.kt&&(e.db.onversionchange=i=>e.kt(i)),e.db})()}xt(t){this.kt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,ve.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{s.db=yield s.Ct(t);const _=f9.open(s.db,t,u?"readonly":"readwrite",i),C=r(_).catch(M=>(_.abort(M),Ae.reject(M))).toPromise();return C.catch(()=>{}),yield _.At,C}catch(_){const C="FirebaseError"!==_.name&&h<3;if(Ve("SimpleDb","Transaction failed with error:",_.message,"Retrying:",C),s.close(),!C)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class g${constructor(t){this.$t=t,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(t){this.$t=t}done(){this.Ot=!0}Lt(t){this.Mt=t}delete(){return Z2(this.$t.delete())}}class Y4 extends ke{constructor(t,e){super(ue.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Y2(n){return"IndexedDbTransactionError"===n.name}class _${constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ve("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Z2(i)}add(t){return Ve("SimpleDb","ADD",this.store.name,t,t),Z2(this.store.add(t))}get(t){return Z2(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ve("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ve("SimpleDb","DELETE",this.store.name,t),Z2(this.store.delete(t))}count(){return Ve("SimpleDb","COUNT",this.store.name),Z2(this.store.count())}Bt(t,e){const i=this.cursor(this.options(t,e)),r=[];return this.Ut(i,(s,u)=>{r.push(u)}).next(()=>r)}qt(t,e){Ve("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Kt=!1;const r=this.cursor(i);return this.Ut(r,(s,u,h)=>h.delete())}jt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Ut(r,e)}Qt(t){const e=this.cursor({});return new Ae((i,r)=>{e.onerror=s=>{const u=qD(s.target.error);r(u)},e.onsuccess=s=>{const u=s.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}Ut(t,e){const i=[];return new Ae((r,s)=>{t.onerror=u=>{s(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const _=new g$(h),C=e(h.primaryKey,h.value,_);if(C instanceof Ae){const M=C.catch(I=>(_.done(),Ae.reject(I)));i.push(M)}_.isDone?r():null===_.Ft?h.continue():h.continue(_.Ft)}}).next(()=>Ae.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Kt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Z2(n){return new Ae((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=qD(i.target.error);e(r)}})}let zO=!1;function qD(n){const t=Al.bt((0,$t.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zO||(zO=!0,setTimeout(()=>{throw i},0)),i}}return n}class VO extends LO{constructor(t,e){super(),this.Wt=t,this.currentSequenceNumber=e}}function _o(n,t){const e=Ze(n);return Al.Dt(e.Wt,t)}class WD{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&UG(s,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&HD(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&HD(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Vt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),An())}isEqual(t){return this.batchId===t.batchId&&$p(this.mutations,t.mutations,(e,i)=>aO(e,i))&&$p(this.baseMutations,t.baseMutations,(e,i)=>aO(e,i))}}class YD{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Tt(t.mutations.length===i.length);let r=mO();const s=t.mutations;for(let u=0;u<s.length;u++)r=r.insert(s[u].key,i[u].version);return new YD(t,e,i,r)}}class Ad{constructor(t,e,i,r,s=Vt.min(),u=Vt.min(),h=mr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new Ad(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Ad(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Ad(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class BO{constructor(t){this.Gt=t}}function ZD(n,t){if(t.document)return EO(n.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=mt.fromSegments(t.noDocument.path),i=sm(t.noDocument.readTime),r=mi.newNoDocument(e,i);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=mt.fromSegments(t.unknownDocument.path),i=sm(t.unknownDocument.version);return mi.newUnknownDocument(e,i)}return _t()}function HO(n,t,e){const i=KD(e),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){const s={name:q4(h=n.Gt,(_=t).key),fields:_.data.value.mapValue.fields,updateTime:$4(h,_.version.toTimestamp())};return new Oi(null,null,s,t.hasCommittedMutations,i,r)}var h,_;if(t.isNoDocument()){const s=t.key.path.toArray(),u=rm(t.version),h=t.hasCommittedMutations;return new Oi(null,new f$(s,u),null,h,i,r)}if(t.isUnknownDocument()){const s=t.key.path.toArray(),u=rm(t.version);return new Oi(new p$(s,u),null,null,!0,i,r)}return _t()}function KD(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function jO(n){const t=new Dr(n[0],n[1]);return Vt.fromTimestamp(t)}function rm(n){const t=n.toTimestamp();return new h$(t.seconds,t.nanoseconds)}function sm(n){const t=new Dr(n.seconds,n.nanoseconds);return Vt.fromTimestamp(t)}function om(n,t){const e=(t.baseMutations||[]).map(s=>SO(n.Gt,s));for(let s=0;s<t.mutations.length-1;++s){const u=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(u.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>SO(n.Gt,s)),r=Dr.fromMillis(t.localWriteTimeMs);return new WD(t.batchId,r,e,i)}function Z4(n){const t=sm(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?sm(n.lastLimboFreeSnapshotVersion):Vt.min();let i;var r;return void 0!==n.query.documents?(Tt(1===(r=n.query).documents.length),i=Ra(Kp(MO(r.documents[0])))):i=Ra(AO(n.query)),new Ad(i,n.targetId,0,n.lastListenSequenceNumber,t,e,mr.fromBase64String(n.resumeToken))}function UO(n,t){const e=rm(t.snapshotVersion),i=rm(t.lastLimboFreeSnapshotVersion);let r;r=t9(t.target)?IO(n.Gt,t.target):TO(n.Gt,t.target);const s=t.resumeToken.toBase64();return new go(t.targetId,F4(t.target),e,s,t.sequenceNumber,i,r)}function QD(n){const t=AO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?KR(t,t.limit,"L"):t}class v${getBundleMetadata(t,e){return GO(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:sm(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return GO(t).put({bundleId:(i=e).id,createTime:rm(xr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return $O(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:QD(r.bundledQuery),readTime:sm(r.readTime)};var r})}saveNamedQuery(t,e){return $O(t).put({name:(i=e).name,readTime:rm(xr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function GO(n){return _o(n,nm.store)}function $O(n){return _o(n,im.store)}class y${constructor(){this.zt=new XD}addToCollectionParentIndex(t,e){return this.zt.add(e),Ae.resolve()}getCollectionParents(t,e){return Ae.resolve(this.zt.getEntries(e))}}class XD{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ri(xn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ri(xn.comparator)).toArray()}}class b${constructor(){this.Ht=new XD}addToCollectionParentIndex(t,e){if(!this.Ht.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ht.add(e)});const s={collectionId:i,parent:Tl(r)};return qO(t).put(s)}return Ae.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[FR(e),""],!1,!0);return qO(t).Bt(r).next(s=>{for(const u of s){if(u.collectionId!==e)break;i.push(zu(u.parent))}return i})}}function qO(n){return _o(n,W2.store)}const WO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new vo(t,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function YO(n,t,e){const i=n.store(Xn.store),r=n.store(gs.store),s=[],u=IDBKeyRange.only(e.batchId);let h=0;const _=i.jt({range:u},(M,I,O)=>(h++,O.delete()));s.push(_.next(()=>{Tt(1===h)}));const C=[];for(const M of e.mutations){const I=gs.key(t,M.key.path,e.batchId);s.push(r.delete(I)),C.push(M.key)}return Ae.waitFor(s).next(()=>C)}function p9(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw _t();t=n.noDocument}return JSON.stringify(t).length}vo.DEFAULT_COLLECTION_PERCENTILE=10,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vo.DEFAULT=new vo(41943040,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vo.DISABLED=new vo(-1,0,0);class JD{constructor(t,e,i,r){this.userId=t,this.k=e,this.Jt=i,this.referenceDelegate=r,this.Yt={}}static Xt(t,e,i,r){Tt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new JD(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kd(t).jt({index:Xn.userMutationsIndex,range:i},(r,s,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=am(t),u=kd(t);return u.add({}).next(h=>{Tt("number"==typeof h);const _=new WD(h,e,i,r),C=function(O,L,V){const Y=V.baseMutations.map(Oe=>h9(O.Gt,Oe)),te=V.mutations.map(Oe=>h9(O.Gt,Oe));return new Xn(L,V.batchId,V.localWriteTime.toMillis(),Y,te)}(this.k,this.userId,_),M=[];let I=new Ri((O,L)=>nn(O.canonicalString(),L.canonicalString()));for(const O of r){const L=gs.key(this.userId,O.key.path,h);I=I.add(O.key.path.popLast()),M.push(u.put(C)),M.push(s.put(L,gs.PLACEHOLDER))}return I.forEach(O=>{M.push(this.Jt.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.Yt[h]=_.keys()}),Ae.waitFor(M).next(()=>_)})}lookupMutationBatch(t,e){return kd(t).get(e).next(i=>i?(Tt(i.userId===this.userId),om(this.k,i)):null)}Zt(t,e){return this.Yt[e]?Ae.resolve(this.Yt[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Yt[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return kd(t).jt({index:Xn.userMutationsIndex,range:r},(u,h,_)=>{h.userId===this.userId&&(Tt(h.batchId>=i),s=om(this.k,h)),_.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return kd(t).jt({index:Xn.userMutationsIndex,range:e,reverse:!0},(r,s,u)=>{i=s.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kd(t).Bt(Xn.userMutationsIndex,e).next(i=>i.map(r=>om(this.k,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=gs.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return am(t).jt({range:r},(u,h,_)=>{const[C,M,I]=u,O=zu(M);if(C===this.userId&&e.path.isEqual(O))return kd(t).get(I).next(L=>{if(!L)throw _t();Tt(L.userId===this.userId),s.push(om(this.k,L))});_.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ri(nn);const r=[];return e.forEach(s=>{const u=gs.prefixForPath(this.userId,s.path),h=IDBKeyRange.lowerBound(u),_=am(t).jt({range:h},(C,M,I)=>{const[O,L,V]=C,Y=zu(L);O===this.userId&&s.path.isEqual(Y)?i=i.add(V):I.done()});r.push(_)}),Ae.waitFor(r).next(()=>this.te(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=gs.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(s);let h=new Ri(nn);return am(t).jt({range:u},(_,C,M)=>{const[I,O,L]=_,V=zu(O);I===this.userId&&i.isPrefixOf(V)?V.length===r&&(h=h.add(L)):M.done()}).next(()=>this.te(t,h))}te(t,e){const i=[],r=[];return e.forEach(s=>{r.push(kd(t).get(s).next(u=>{if(null===u)throw _t();Tt(u.userId===this.userId),i.push(om(this.k,u))}))}),Ae.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return YO(t.Wt,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.ee(e.batchId)}),Ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}ee(t){delete this.Yt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Ae.resolve();const i=IDBKeyRange.lowerBound(gs.prefixForUser(this.userId)),r=[];return am(t).jt({range:i},(s,u,h)=>{if(s[0]===this.userId){const _=zu(s[1]);r.push(_)}else h.done()}).next(()=>{Tt(0===r.length)})})}containsKey(t,e){return ZO(t,this.userId,e)}ne(t){return KO(t).get(this.userId).next(e=>e||new Td(this.userId,-1,""))}}function ZO(n,t,e){const i=gs.prefixForPath(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let u=!1;return am(n).jt({range:s,Kt:!0},(h,_,C)=>{const[M,I,O]=h;M===t&&I===r&&(u=!0),C.done()}).next(()=>u)}function kd(n){return _o(n,Xn.store)}function am(n){return _o(n,gs.store)}function KO(n){return _o(n,Td.store)}class K2{constructor(t){this.se=t}next(){return this.se+=2,this.se}static ie(){return new K2(0)}static re(){return new K2(-1)}}class C${constructor(t,e){this.referenceDelegate=t,this.k=e}allocateTargetId(t){return this.oe(t).next(e=>{const i=new K2(e.highestTargetId);return e.highestTargetId=i.next(),this.ce(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.oe(t).next(e=>Vt.fromTimestamp(new Dr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.oe(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.oe(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.ce(t,r)))}addTargetData(t,e){return this.ae(t,e).next(()=>this.oe(t).next(i=>(i.targetCount+=1,this.ue(e,i),this.ce(t,i))))}updateTargetData(t,e){return this.ae(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>lm(t).delete(e.targetId)).next(()=>this.oe(t)).next(i=>(Tt(i.targetCount>0),i.targetCount-=1,this.ce(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return lm(t).jt((u,h)=>{const _=Z4(h);_.sequenceNumber<=e&&null===i.get(_.targetId)&&(r++,s.push(this.removeTargetData(t,_)))}).next(()=>Ae.waitFor(s)).next(()=>r)}forEachTarget(t,e){return lm(t).jt((i,r)=>{const s=Z4(r);e(s)})}oe(t){return QO(t).get(qo.key).next(e=>(Tt(null!==e),e))}ce(t,e){return QO(t).put(qo.key,e)}ae(t,e){return lm(t).put(UO(this.k,e))}ue(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.oe(t).next(e=>e.targetCount)}getTargetData(t,e){const i=F4(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return lm(t).jt({range:r,index:go.queryTargetsIndexName},(u,h,_)=>{const C=Z4(h);e9(e,C.target)&&(s=C,_.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Rd(t);return e.forEach(u=>{const h=Tl(u.path);r.push(s.put(new Jr(i,h))),r.push(this.referenceDelegate.addReference(t,i,u))}),Ae.waitFor(r)}removeMatchingKeys(t,e,i){const r=Rd(t);return Ae.forEach(e,s=>{const u=Tl(s.path);return Ae.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Rd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Rd(t);let s=An();return r.jt({range:i,Kt:!0},(u,h,_)=>{const C=zu(u[1]),M=new mt(C);s=s.add(M)}).next(()=>s)}containsKey(t,e){const i=Tl(e.path),r=IDBKeyRange.bound([i],[FR(i)],!1,!0);let s=0;return Rd(t).jt({index:Jr.documentTargetsIndex,Kt:!0,range:r},([u,h],_,C)=>{0!==u&&(s++,C.done())}).next(()=>s>0)}Et(t,e){return lm(t).get(e).next(i=>i?Z4(i):null)}}function lm(n){return _o(n,go.store)}function QO(n){return _o(n,qo.store)}function Rd(n){return _o(n,Jr.store)}function Q2(n){return ex.apply(this,arguments)}function ex(){return ex=(0,ve.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==FO)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}),ex.apply(this,arguments)}function XO([n,t],[e,i]){const r=nn(n,e);return 0===r?nn(t,i):r}class w${constructor(t){this.he=t,this.buffer=new Ri(XO),this.le=0}fe(){return++this.le}de(t){const e=[t,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();XO(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class M${constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.we=!1,this._e=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(t)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(t){var e=this;const i=this.we?3e5:6e4;Ve("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,ve.Z)(function*(){e._e=null,e.we=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){Y2(r)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Q2(r)}yield e.me(t)}))}}class D${constructor(t,e){this.ge=t,this.params=e}calculateTargetCount(t,e){return this.ge.ye(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Ae.resolve(Go.I);const i=new w$(e);return this.ge.forEachTarget(t,r=>i.de(r.sequenceNumber)).next(()=>this.ge.pe(t,r=>i.de(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.ge.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.ge.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(WO)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WO):this.Te(t,e))}getCacheSize(t){return this.ge.getCacheSize(t)}Te(t,e){let i,r,s,u,h,_,C;const M=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,u=Date.now(),this.nthSequenceNumber(t,r))).next(I=>(i=I,h=Date.now(),this.removeTargets(t,i,e))).next(I=>(s=I,_=Date.now(),this.removeOrphanedDocuments(t,i))).next(I=>(C=Date.now(),AD()<=Dl.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-M}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${s} targets in `+(_-h)+`ms\n\tRemoved ${I} documents in `+(C-_)+`ms\nTotal Duration: ${C-M}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:I})))}}class x${constructor(t,e){this.db=t,this.garbageCollector=new D$(this,e)}ye(t){const e=this.Ee(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Ee(t){let e=0;return this.pe(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}pe(t,e){return this.Ie(t,(i,r)=>e(r))}addReference(t,e,i){return m9(t,i)}removeReference(t,e,i){return m9(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return m9(t,e)}Ae(t,e){return function(i,r){let s=!1;return KO(i).Qt(u=>ZO(i,u,r).next(h=>(h&&(s=!0),Ae.resolve(!h)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Ie(t,(u,h)=>{if(h<=e){const _=this.Ae(t,u).next(C=>{if(!C)return s++,i.getEntry(t,u).next(()=>(i.removeEntry(u),Rd(t).delete([0,Tl(u.path)])))});r.push(_)}}).next(()=>Ae.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return m9(t,e)}Ie(t,e){const i=Rd(t);let r,s=Go.I;return i.jt({index:Jr.documentTargetsIndex},([u,h],{path:_,sequenceNumber:C})=>{0===u?(s!==Go.I&&e(new mt(zu(r)),s),s=C,r=_):s=Go.I}).next(()=>{s!==Go.I&&e(new mt(zu(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function m9(n,t){return Rd(n).put((i=n.currentSequenceNumber,new Jr(0,Tl(t.path),i)));var i}class cm{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0!==r){for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e])}else this.inner[i]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),!0;return!1}forEach(t){j2(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return zR(this.inner)}}class JO{constructor(){this.changes=new cm(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:Vt.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:mi.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Ae.resolve(i.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class E${constructor(t,e){this.k=t,this.Jt=e}addEntry(t,e,i){return Od(t).put(g9(e),i)}removeEntry(t,e){const i=Od(t),r=g9(e);return i.delete(r)}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Re(t,i)))}getEntry(t,e){return Od(t).get(g9(e)).next(i=>this.be(e,i))}Pe(t,e){return Od(t).get(g9(e)).next(i=>({document:this.be(e,i),size:p9(i)}))}getEntries(t,e){let i=Oa();return this.ve(t,e,(r,s)=>{const u=this.be(r,s);i=i.insert(r,u)}).next(()=>i)}Ve(t,e){let i=Oa(),r=new gr(mt.comparator);return this.ve(t,e,(s,u)=>{const h=this.be(s,u);i=i.insert(s,h),r=r.insert(s,p9(u))}).next(()=>({documents:i,Se:r}))}ve(t,e,i){if(e.isEmpty())return Ae.resolve();const r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),s=e.getIterator();let u=s.getNext();return Od(t).jt({range:r},(h,_,C)=>{const M=mt.fromSegments(h);for(;u&&mt.comparator(u,M)<0;)i(u,null),u=s.getNext();u&&u.isEqual(M)&&(i(u,_),u=s.hasNext()?s.getNext():null),u?C.Lt(u.path.toArray()):C.done()}).next(()=>{for(;u;)i(u,null),u=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,e,i){let r=Oa();const s=e.path.length+1,u={};if(i.isEqual(Vt.min())){const h=e.path.toArray();u.range=IDBKeyRange.lowerBound(h)}else{const h=e.path.toArray(),_=KD(i);u.range=IDBKeyRange.lowerBound([h,_],!0),u.index=Oi.collectionReadTimeIndex}return Od(t).jt(u,(h,_,C)=>{if(h.length!==s)return;const M=ZD(this.k,_);e.path.isPrefixOf(M.key.path)?V4(e,M)&&(r=r.insert(M.key,M)):C.done()}).next(()=>r)}newChangeBuffer(t){return new S$(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return eP(t).get(Cc.key).next(e=>(Tt(!!e),e))}Re(t,e){return eP(t).put(Cc.key,e)}be(t,e){if(e){const i=ZD(this.k,e);if(!i.isNoDocument()||!i.version.isEqual(Vt.min()))return i}return mi.newInvalidDocument(t)}}class S$ extends JO{constructor(t,e){super(),this.De=t,this.trackRemovals=e,this.Ce=new cm(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Ri((s,u)=>nn(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const h=this.Ce.get(s);if(u.document.isValidDocument()){const _=HO(this.De.k,u.document,this.getReadTime(s));r=r.add(s.path.popLast()),i+=p9(_)-h,e.push(this.De.addEntry(t,s,_))}else if(i-=h,this.trackRemovals){const _=HO(this.De.k,mi.newNoDocument(s,Vt.min()),this.getReadTime(s));e.push(this.De.addEntry(t,s,_))}else e.push(this.De.removeEntry(t,s))}),r.forEach(s=>{e.push(this.De.Jt.addToCollectionParentIndex(t,s))}),e.push(this.De.updateMetadata(t,i)),Ae.waitFor(e)}getFromCache(t,e){return this.De.Pe(t,e).next(i=>(this.Ce.set(e,i.size),i.document))}getAllFromCache(t,e){return this.De.Ve(t,e).next(({documents:i,Se:r})=>(r.forEach((s,u)=>{this.Ce.set(s,u)}),i))}}function eP(n){return _o(n,Cc.store)}function Od(n){return _o(n,Oi.store)}function g9(n){return n.path.toArray()}class I${constructor(t){this.k=t}Nt(t,e,i,r){Tt(i<r&&i>=0&&r<=11);const s=new f9("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore($o.store),(h=t).createObjectStore(Td.store,{keyPath:Td.keyPath}),h.createObjectStore(Xn.store,{keyPath:Xn.keyPath,autoIncrement:!0}).createIndex(Xn.userMutationsIndex,Xn.userMutationsKeyPath,{unique:!0}),h.createObjectStore(gs.store),tP(t),function(h){h.createObjectStore(Oi.store)}(t));let u=Ae.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore(Jr.store),h.deleteObjectStore(go.store),h.deleteObjectStore(qo.store)}(t),tP(t)),u=u.next(()=>function(h){const _=h.store(qo.store),C=new qo(0,0,Vt.min().toTimestamp(),0);return _.put(qo.key,C)}(s))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,_){return _.store(Xn.store).Bt().next(C=>{h.deleteObjectStore(Xn.store),h.createObjectStore(Xn.store,{keyPath:Xn.keyPath,autoIncrement:!0}).createIndex(Xn.userMutationsIndex,Xn.userMutationsKeyPath,{unique:!0});const M=_.store(Xn.store),I=C.map(O=>M.put(O));return Ae.waitFor(I)})}(t,s))),u=u.next(()=>{!function(h){h.createObjectStore(Vu.store,{keyPath:Vu.keyPath})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Ne(s))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore(Cc.store)}(t),this.ke(s)))),i<7&&r>=7&&(u=u.next(()=>this.xe(s))),i<8&&r>=8&&(u=u.next(()=>this.$e(t,s))),i<9&&r>=9&&(u=u.next(()=>{(function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")})(t),function(h){const _=h.objectStore(Oi.store);_.createIndex(Oi.readTimeIndex,Oi.readTimeIndexPath,{unique:!1}),_.createIndex(Oi.collectionReadTimeIndex,Oi.collectionReadTimeIndexPath,{unique:!1})}(e)})),i<10&&r>=10&&(u=u.next(()=>this.Oe(s))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore(nm.store,{keyPath:nm.keyPath})})(t),function(h){h.createObjectStore(im.store,{keyPath:im.keyPath})}(t)})),u}ke(t){let e=0;return t.store(Oi.store).jt((i,r)=>{e+=p9(r)}).next(()=>{const i=new Cc(e);return t.store(Cc.store).put(Cc.key,i)})}Ne(t){const e=t.store(Td.store),i=t.store(Xn.store);return e.Bt().next(r=>Ae.forEach(r,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.Bt(Xn.userMutationsIndex,u).next(h=>Ae.forEach(h,_=>{Tt(_.userId===s.userId);const C=om(this.k,_);return YO(t,s.userId,C).next(()=>{})}))}))}xe(t){const e=t.store(Jr.store),i=t.store(Oi.store);return t.store(qo.store).get(qo.key).next(r=>{const s=[];return i.jt((u,h)=>{const _=new xn(u),C=[0,Tl(_)];s.push(e.get(C).next(M=>M?Ae.resolve():e.put(new Jr(0,Tl(_),r.highestListenSequenceNumber))))}).next(()=>Ae.waitFor(s))})}$e(t,e){t.createObjectStore(W2.store,{keyPath:W2.keyPath});const i=e.store(W2.store),r=new XD,s=u=>{if(r.add(u)){const h=u.lastSegment(),_=u.popLast();return i.put({collectionId:h,parent:Tl(_)})}};return e.store(Oi.store).jt({Kt:!0},(u,h)=>{const _=new xn(u);return s(_.popLast())}).next(()=>e.store(gs.store).jt({Kt:!0},([u,h,_],C)=>{const M=zu(h);return s(M.popLast())}))}Oe(t){const e=t.store(go.store);return e.jt((i,r)=>{const s=Z4(r),u=UO(this.k,s);return e.put(u)})}}function tP(n){n.createObjectStore(Jr.store,{keyPath:Jr.keyPath}).createIndex(Jr.documentTargetsIndex,Jr.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(go.store,{keyPath:go.keyPath}).createIndex(go.queryTargetsIndexName,go.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(qo.store)}const tx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class nx{constructor(t,e,i,r,s,u,h,_,C,M){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Me=s,this.window=u,this.document=h,this.Fe=C,this.Le=M,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=I=>Promise.resolve(),!nx.Pt())throw new ke(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new x$(this,r),this.Ge=e+"main",this.k=new BO(_),this.ze=new Al(this.Ge,11,new I$(this.k)),this.He=new C$(this.referenceDelegate,this.k),this.Jt=new b$,this.Je=new E$(this.k,this.Jt),this.Ye=new v$,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===M&&rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(ue.FAILED_PRECONDITION,tx);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.He.getHighestSequenceNumber(t))}).then(t=>{this.Be=new Go(t,this.Fe)}).then(()=>{this.Ue=!0}).catch(t=>(this.ze&&this.ze.close(),Promise.reject(t)))}sn(t){var e=this;return this.We=function(){var i=(0,ve.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ze.xt(function(){var e=(0,ve.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Me.enqueueAndForget((0,ve.Z)(function*(){e.started&&(yield e.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>_9(t).put(new Vu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(t).next(e=>{e||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(t)).next(e=>this.isPrimary&&!e?this.cn(t).next(()=>!1):!!e&&this.an(t).next(()=>!0))).catch(t=>{if(Y2(t))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Me.enqueueRetryable(()=>this.We(t)),this.isPrimary=t})}rn(t){return K4(t).get($o.key).next(e=>Ae.resolve(this.un(e)))}hn(t){return _9(t).delete(this.clientId)}ln(){var t=this;return(0,ve.Z)(function*(){if(t.isPrimary&&!t.fn(t.Qe,18e5)){t.Qe=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=_o(i,Vu.store);return r.Bt().next(s=>{const u=t.dn(s,18e5),h=s.filter(_=>-1===u.indexOf(_));return Ae.forEach(h,_=>r.delete(_.clientId)).next(()=>h)})}).catch(()=>[]);if(t.Xe)for(const i of e)t.Xe.removeItem(t.wn(i.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(t){return!!t&&t.ownerId===this.clientId}on(t){return this.Le?Ae.resolve(!0):K4(t).get($o.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)){if(this.un(e)&&this.networkEnabled)return!0;if(!this.un(e)){if(!e.allowTabSynchronization)throw new ke(ue.FAILED_PRECONDITION,tx);return!1}}return!(!this.networkEnabled||!this.inForeground)||_9(t).Bt().next(i=>void 0===this.dn(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ve("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ve.Z)(function*(){t.Ue=!1,t.mn(),t.je&&(t.je.cancel(),t.je=null),t.gn(),t.yn(),yield t.ze.runTransaction("shutdown","readwrite",[$o.store,Vu.store],e=>{const i=new VO(e,Go.I);return t.cn(i).next(()=>t.hn(i))}),t.ze.close(),t.pn()})()}dn(t,e){return t.filter(i=>this.fn(i.updateTimeMs,e)&&!this._n(i.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",t=>_9(t).Bt().next(e=>this.dn(e,18e5).map(i=>i.clientId)))}get started(){return this.Ue}getMutationQueue(t){return JD.Xt(t,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(t,e,i){let s;return Ve("IndexedDbPersistence","Starting transaction:",t),this.ze.runTransaction(t,"readonly"===e?"readonly":"readwrite",m$,u=>(s=new VO(u,this.Be?this.Be.next():Go.I),"readwrite-primary"===e?this.rn(s).next(h=>!!h||this.on(s)).next(h=>{if(!h)throw rr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new ke(ue.FAILED_PRECONDITION,FO);return i(s)}).next(h=>this.an(s).next(()=>h)):this.En(s).next(()=>i(s)))).then(u=>(s.raiseOnCommittedEvent(),u))}En(t){return K4(t).get($o.key).next(e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ke(ue.FAILED_PRECONDITION,tx)})}an(t){const e=new $o(this.clientId,this.allowTabSynchronization,Date.now());return K4(t).put($o.key,e)}static Pt(){return Al.Pt()}cn(t){const e=K4(t);return e.get($o.key).next(i=>this.un(i)?(Ve("IndexedDbPersistence","Releasing primary lease."),e.delete($o.key)):Ae.resolve())}fn(t,e){const i=Date.now();return!(t<i-e||t>i&&(rr(`Detected an update time that is in the future: ${t} > ${i}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.qe=()=>{this.mn(),(0,$t.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(t){var e;try{const i=null!==(null===(e=this.Xe)||void 0===e?void 0:e.getItem(this.wn(t)));return Ve("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return rr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(t){rr("Failed to set zombie client id.",t)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(t){}}wn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function K4(n){return _o(n,$o.store)}function _9(n){return _o(n,Vu.store)}function ix(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class T${constructor(t,e){this.progress=t,this.In=e}}class nP{constructor(t,e,i){this.Je=t,this.An=e,this.Jt=i}Rn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.bn(t,e,i))}bn(t,e,i){return this.Je.getEntry(t,e).next(r=>{for(const s of i)s.applyToLocalView(r);return r})}Pn(t,e){t.forEach((i,r)=>{for(const s of e)s.applyToLocalView(r)})}vn(t,e){return this.Je.getEntries(t,e).next(i=>this.Vn(t,i).next(()=>i))}Vn(t,e){return this.An.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.Pn(e,i))}getDocumentsMatchingQuery(t,e,i){return mt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.Sn(t,e.path):VD(e)?this.Dn(t,e,i):this.Cn(t,e,i);var r}Sn(t,e){return this.Rn(t,new mt(e)).next(i=>{let r=UD();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Dn(t,e,i){const r=e.collectionGroup;let s=UD();return this.Jt.getCollectionParents(t,r).next(u=>Ae.forEach(u,h=>{const _=(C=e,M=h.child(r),new Lu(M,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,M;return this.Cn(t,_,i).next(C=>{C.forEach((M,I)=>{s=s.insert(M,I)})})}).next(()=>s))}Cn(t,e,i){let r,s;return this.Je.getDocumentsMatchingQuery(t,e,i).next(u=>(r=u,this.An.getAllMutationBatchesAffectingQuery(t,e))).next(u=>(s=u,this.Nn(t,s,r).next(h=>{r=h;for(const _ of s)for(const C of _.mutations){const M=C.key;let I=r.get(M);null==I&&(I=mi.newInvalidDocument(M),r=r.insert(M,I)),HD(C,I,_.localWriteTime),I.isFoundDocument()||(r=r.remove(M))}}))).next(()=>(r.forEach((u,h)=>{V4(e,h)||(r=r.remove(u))}),r))}Nn(t,e,i){let r=An();for(const u of e)for(const h of u.mutations)h instanceof Id&&null===i.get(h.key)&&(r=r.add(h.key));let s=i;return this.Je.getEntries(t,r).next(u=>(u.forEach((h,_)=>{_.isFoundDocument()&&(s=s.insert(h,_))}),s))}}class rx{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.kn=i,this.xn=r}static $n(t,e){let i=An(),r=An();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new rx(t,e.fromCache,i,r)}}class iP{On(t){this.Mn=t}getDocumentsMatchingQuery(t,e,i,r){return 0===(s=e).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||i.isEqual(Vt.min())?this.Fn(t,e):this.Mn.vn(t,r).next(s=>{const u=this.Ln(e,s);return(r9(e)||s9(e))&&this.Bn(e.limitType,u,r,i)?this.Fn(t,e):(AD()<=Dl.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),BD(e)),this.Mn.getDocumentsMatchingQuery(t,e,i).next(h=>(u.forEach(_=>{h=h.insert(_.key,_)}),h)))});var s}Ln(t,e){let i=new Ri(XR(t));return e.forEach((r,s)=>{V4(t,s)&&(i=i.add(s))}),i}Bn(t,e,i,r){if(i.size!==e.size)return!0;const s="F"===t?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Fn(t,e){return AD()<=Dl.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",BD(e)),this.Mn.getDocumentsMatchingQuery(t,e,Vt.min())}}class A${constructor(t,e,i,r){this.persistence=t,this.Un=e,this.k=r,this.qn=new gr(nn),this.Kn=new cm(s=>F4(s),e9),this.jn=Vt.min(),this.An=t.getMutationQueue(i),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new nP(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.qn))}}function rP(n,t,e,i){return new A$(n,t,e,i)}function sP(n,t){return sx.apply(this,arguments)}function sx(){return sx=(0,ve.Z)(function*(n,t){const e=Ze(n);let i=e.An,r=e.Wn;const s=yield e.persistence.runTransaction("Handle user change","readonly",u=>{let h;return e.An.getAllMutationBatches(u).next(_=>(h=_,i=e.persistence.getMutationQueue(t),r=new nP(e.Qn,i,e.persistence.getIndexManager()),i.getAllMutationBatches(u))).next(_=>{const C=[],M=[];let I=An();for(const O of h){C.push(O.batchId);for(const L of O.mutations)I=I.add(L.key)}for(const O of _){M.push(O.batchId);for(const L of O.mutations)I=I.add(L.key)}return r.vn(u,I).next(O=>({Gn:O,removedBatchIds:C,addedBatchIds:M}))})});return e.An=i,e.Wn=r,e.Un.On(e.Wn),s}),sx.apply(this,arguments)}function k$(n,t){const e=Ze(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Qn.newChangeBuffer({trackRemovals:!0});return function(u,h,_,C){const M=_.batch,I=M.keys();let O=Ae.resolve();return I.forEach(L=>{O=O.next(()=>C.getEntry(h,L)).next(V=>{const Y=_.docVersions.get(L);Tt(null!==Y),V.version.compareTo(Y)<0&&(M.applyToRemoteDocument(V,_),V.isValidDocument()&&C.addEntry(V,_.commitVersion))})}),O.next(()=>u.An.removeMutationBatch(h,M))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.An.performConsistencyCheck(i)).next(()=>e.Wn.vn(i,r))})}function oP(n){const t=Ze(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.He.getLastRemoteSnapshotVersion(e))}function R$(n,t){const e=Ze(n),i=t.snapshotVersion;let r=e.qn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=e.Qn.newChangeBuffer({trackRemovals:!0});r=e.qn;const h=[];t.targetChanges.forEach((C,M)=>{const I=r.get(M);if(!I)return;h.push(e.He.removeMatchingKeys(s,C.removedDocuments,M).next(()=>e.He.addMatchingKeys(s,C.addedDocuments,M)));let O=I.withSequenceNumber(s.currentSequenceNumber);var L,V,Y;t.targetMismatches.has(M)?O=O.withResumeToken(mr.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):C.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(C.resumeToken,i)),r=r.insert(M,O),V=O,Y=C,(0===(L=I).resumeToken.approximateByteSize()||V.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8||Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0)&&h.push(e.He.updateTargetData(s,O))});let _=Oa();if(t.documentUpdates.forEach((C,M)=>{t.resolvedLimboDocuments.has(C)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(s,C))}),h.push(aP(s,u,t.documentUpdates,i,void 0).next(C=>{_=C})),!i.isEqual(Vt.min())){const C=e.He.getLastRemoteSnapshotVersion(s).next(M=>e.He.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(C)}return Ae.waitFor(h).next(()=>u.apply(s)).next(()=>e.Wn.Vn(s,_)).next(()=>_)}).then(s=>(e.qn=r,s))}function aP(n,t,e,i,r){let s=An();return e.forEach(u=>s=s.add(u)),t.getEntries(n,s).next(u=>{let h=Oa();return e.forEach((_,C)=>{const M=u.get(_),I=(null==r?void 0:r.get(_))||i;C.isNoDocument()&&C.version.isEqual(Vt.min())?(t.removeEntry(_,I),h=h.insert(_,C)):!M.isValidDocument()||C.version.compareTo(M.version)>0||0===C.version.compareTo(M.version)&&M.hasPendingWrites?(t.addEntry(C,I),h=h.insert(_,C)):Ve("LocalStore","Ignoring outdated watch update for ",_,". Current version:",M.version," Watch version:",C.version)}),h})}function O$(n,t){const e=Ze(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.An.getNextMutationBatchAfterBatchId(i,t)))}function um(n,t){const e=Ze(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.He.getTargetData(i,t).next(s=>s?(r=s,Ae.resolve(r)):e.He.allocateTargetId(i).next(u=>(r=new Ad(t,u,0,i.currentSequenceNumber),e.He.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.qn.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.qn=e.qn.insert(i.targetId,i),e.Kn.set(t,i.targetId)),i})}function dm(n,t,e){return ox.apply(this,arguments)}function ox(){return ox=(0,ve.Z)(function*(n,t,e){const i=Ze(n),r=i.qn.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Y2(u))throw u;Ve("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.qn=i.qn.remove(t),i.Kn.delete(r.target)}),ox.apply(this,arguments)}function v9(n,t,e){const i=Ze(n);let r=Vt.min(),s=An();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,_,C){const M=Ze(h),I=M.Kn.get(C);return void 0!==I?Ae.resolve(M.qn.get(I)):M.He.getTargetData(_,C)}(i,u,Ra(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.He.getMatchingKeysForTargetId(u,h.targetId).next(_=>{s=_})}).next(()=>i.Un.getDocumentsMatchingQuery(u,t,e?r:Vt.min(),e?s:An())).next(h=>({documents:h,zn:s})))}function lP(n,t){const e=Ze(n),i=Ze(e.He),r=e.qn.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.Et(s,t).next(u=>u?u.target:null))}function cP(n){const t=Ze(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(i,r,s){const u=Ze(i);let h=Oa(),_=KD(s);const C=Od(r),M=IDBKeyRange.lowerBound(_,!0);return C.jt({index:Oi.readTimeIndex,range:M},(I,O)=>{const L=ZD(u.k,O);h=h.insert(L.key,L),_=O.readTime}).next(()=>({In:h,readTime:jO(_)}))}(t.Qn,e,t.jn)).then(({In:e,readTime:i})=>(t.jn=i,e))}function ax(){return ax=(0,ve.Z)(function*(n){const t=Ze(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(i){const r=Od(i);let s=Vt.min();return r.jt({index:Oi.readTimeIndex,reverse:!0},(u,h,_)=>{h.readTime&&(s=jO(h.readTime)),_.done()}).next(()=>s)}(e)).then(e=>{t.jn=e})}),ax.apply(this,arguments)}function lx(){return lx=(0,ve.Z)(function*(n,t,e,i){const r=Ze(n);let s=An(),u=Oa(),h=mO();for(const M of e){const I=t.Hn(M.metadata.name);M.document&&(s=s.add(I)),u=u.insert(I,t.Jn(M)),h=h.insert(I,t.Yn(M.metadata.readTime))}const _=r.Qn.newChangeBuffer({trackRemovals:!0}),C=yield um(r,(M=i,Ra(Kp(xn.fromString(`__bundle__/docs/${M}`)))));var M;return r.persistence.runTransaction("Apply bundle documents","readwrite",M=>aP(M,_,u,Vt.min(),h).next(I=>(_.apply(M),I)).next(I=>r.He.removeMatchingKeysForTargetId(M,C.targetId).next(()=>r.He.addMatchingKeys(M,s,C.targetId)).next(()=>r.Wn.Vn(M,I)).next(()=>I)))}),lx.apply(this,arguments)}function F$(n,t){return cx.apply(this,arguments)}function cx(){return cx=(0,ve.Z)(function*(n,t,e=An()){const i=yield um(n,Ra(QD(t.bundledQuery))),r=Ze(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const u=xr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ye.saveNamedQuery(s,t);const h=i.withResumeToken(mr.EMPTY_BYTE_STRING,u);return r.qn=r.qn.insert(h.targetId,h),r.He.updateTargetData(s,h).next(()=>r.He.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.He.addMatchingKeys(s,e,i.targetId)).next(()=>r.Ye.saveNamedQuery(s,t))})}),cx.apply(this,arguments)}class L${constructor(t){this.k=t,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(t,e){return Ae.resolve(this.Xn.get(e))}saveBundleMetadata(t,e){var i;return this.Xn.set(e.id,{id:(i=e).id,version:i.version,createTime:xr(i.createTime)}),Ae.resolve()}getNamedQuery(t,e){return Ae.resolve(this.Zn.get(e))}saveNamedQuery(t,e){return this.Zn.set(e.name,{name:(i=e).name,query:QD(i.bundledQuery),readTime:xr(i.readTime)}),Ae.resolve();var i}}class ux{constructor(){this.ts=new Ri(Er.es),this.ns=new Ri(Er.ss)}isEmpty(){return this.ts.isEmpty()}addReference(t,e){const i=new Er(t,e);this.ts=this.ts.add(i),this.ns=this.ns.add(i)}rs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.os(new Er(t,e))}cs(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new mt(new xn([])),i=new Er(e,t),r=new Er(e,t+1),s=[];return this.ns.forEachInRange([i,r],u=>{this.os(u),s.push(u.key)}),s}hs(){this.ts.forEach(t=>this.os(t))}os(t){this.ts=this.ts.delete(t),this.ns=this.ns.delete(t)}ls(t){const e=new mt(new xn([])),i=new Er(e,t),r=new Er(e,t+1);let s=An();return this.ns.forEachInRange([i,r],u=>{s=s.add(u.key)}),s}containsKey(t){const e=new Er(t,0),i=this.ts.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Er{constructor(t,e){this.key=t,this.fs=e}static es(t,e){return mt.comparator(t.key,e.key)||nn(t.fs,e.fs)}static ss(t,e){return nn(t.fs,e.fs)||mt.comparator(t.key,e.key)}}class z${constructor(t,e){this.Jt=t,this.referenceDelegate=e,this.An=[],this.ds=1,this.ws=new Ri(Er.es)}checkEmpty(t){return Ae.resolve(0===this.An.length)}addMutationBatch(t,e,i,r){const s=this.ds;this.ds++;const u=new WD(s,e,i,r);this.An.push(u);for(const h of r)this.ws=this.ws.add(new Er(h.key,s)),this.Jt.addToCollectionParentIndex(t,h.key.path.popLast());return Ae.resolve(u)}lookupMutationBatch(t,e){return Ae.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.gs(e+1),s=r<0?0:r;return Ae.resolve(this.An.length>s?this.An[s]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(t){return Ae.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Er(e,0),r=new Er(e,Number.POSITIVE_INFINITY),s=[];return this.ws.forEachInRange([i,r],u=>{const h=this._s(u.fs);s.push(h)}),Ae.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ri(nn);return e.forEach(r=>{const s=new Er(r,0),u=new Er(r,Number.POSITIVE_INFINITY);this.ws.forEachInRange([s,u],h=>{i=i.add(h.fs)})}),Ae.resolve(this.ys(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;mt.isDocumentKey(s)||(s=s.child(""));const u=new Er(new mt(s),0);let h=new Ri(nn);return this.ws.forEachWhile(_=>{const C=_.key.path;return!!i.isPrefixOf(C)&&(C.length===r&&(h=h.add(_.fs)),!0)},u),Ae.resolve(this.ys(h))}ys(t){const e=[];return t.forEach(i=>{const r=this._s(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Tt(0===this.ps(e.batchId,"removed")),this.An.shift();let i=this.ws;return Ae.forEach(e.mutations,r=>{const s=new Er(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ws=i})}ee(t){}containsKey(t,e){const i=new Er(e,0),r=this.ws.firstAfterOrEqual(i);return Ae.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Ae.resolve()}ps(t,e){return this.gs(t)}gs(t){return 0===this.An.length?0:t-this.An[0].batchId}_s(t){const e=this.gs(t);return e<0||e>=this.An.length?null:this.An[e]}}class V${constructor(t,e){this.Jt=t,this.Ts=e,this.docs=new gr(mt.comparator),this.size=0}addEntry(t,e,i){const r=e.key,s=this.docs.get(r),u=s?s.size:0,h=this.Ts(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:h,readTime:i}),this.size+=h-u,this.Jt.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Ae.resolve(i?i.document.mutableCopy():mi.newInvalidDocument(e))}getEntries(t,e){let i=Oa();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():mi.newInvalidDocument(r))}),Ae.resolve(i)}getDocumentsMatchingQuery(t,e,i){let r=Oa();const s=new mt(e.path.child("")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:h,value:{document:_,readTime:C}}=u.getNext();if(!e.path.isPrefixOf(h.path))break;C.compareTo(i)<=0||V4(e,_)&&(r=r.insert(_.key,_.mutableCopy()))}return Ae.resolve(r)}Es(t,e){return Ae.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new B$(this)}getSize(t){return Ae.resolve(this.size)}}class B$ extends JO{constructor(t){super(),this.De=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.document.isValidDocument()?e.push(this.De.addEntry(t,r.document,this.getReadTime(i))):this.De.removeEntry(i)}),Ae.waitFor(e)}getFromCache(t,e){return this.De.getEntry(t,e)}getAllFromCache(t,e){return this.De.getEntries(t,e)}}class H${constructor(t){this.persistence=t,this.Is=new cm(e=>F4(e),e9),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.As=0,this.Rs=new ux,this.targetCount=0,this.bs=K2.ie()}forEachTarget(t,e){return this.Is.forEach((i,r)=>e(r)),Ae.resolve()}getLastRemoteSnapshotVersion(t){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ae.resolve(this.As)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.As&&(this.As=e),Ae.resolve()}ae(t){this.Is.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.bs=new K2(e),this.highestTargetId=e),t.sequenceNumber>this.As&&(this.As=t.sequenceNumber)}addTargetData(t,e){return this.ae(e),this.targetCount+=1,Ae.resolve()}updateTargetData(t,e){return this.ae(e),Ae.resolve()}removeTargetData(t,e){return this.Is.delete(e.target),this.Rs.us(e.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Is.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Is.delete(u),s.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),Ae.waitFor(s).next(()=>r)}getTargetCount(t){return Ae.resolve(this.targetCount)}getTargetData(t,e){const i=this.Is.get(e)||null;return Ae.resolve(i)}addMatchingKeys(t,e,i){return this.Rs.rs(e,i),Ae.resolve()}removeMatchingKeys(t,e,i){this.Rs.cs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(u=>{s.push(r.markPotentiallyOrphaned(t,u))}),Ae.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Rs.us(e),Ae.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Rs.ls(e);return Ae.resolve(i)}containsKey(t,e){return Ae.resolve(this.Rs.containsKey(e))}}class j${constructor(t,e){this.Ps={},this.Be=new Go(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new H$(this),this.Jt=new y$,this.Je=new V$(this.Jt,i=>this.referenceDelegate.vs(i)),this.k=new BO(e),this.Ye=new L$(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(t){let e=this.Ps[t.toKey()];return e||(e=new z$(this.Jt,this.referenceDelegate),this.Ps[t.toKey()]=e),e}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(t,e,i){Ve("MemoryPersistence","Starting transaction:",t);const r=new U$(this.Be.next());return this.referenceDelegate.Vs(),i(r).next(s=>this.referenceDelegate.Ss(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ds(t,e){return Ae.or(Object.values(this.Ps).map(i=>()=>i.containsKey(t,e)))}}class U$ extends LO{constructor(t){super(),this.currentSequenceNumber=t}}class dx{constructor(t){this.persistence=t,this.Cs=new ux,this.Ns=null}static ks(t){return new dx(t)}get xs(){if(this.Ns)return this.Ns;throw _t()}addReference(t,e,i){return this.Cs.addReference(i,e),this.xs.delete(i.toString()),Ae.resolve()}removeReference(t,e,i){return this.Cs.removeReference(i,e),this.xs.add(i.toString()),Ae.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),Ae.resolve()}removeTarget(t,e){this.Cs.us(e.targetId).forEach(r=>this.xs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.xs.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Vs(){this.Ns=new Set}Ss(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.xs,i=>{const r=mt.fromPath(i);return this.$s(t,r).next(s=>{s||e.removeEntry(r)})}).next(()=>(this.Ns=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.xs.delete(e.toString()):this.xs.add(e.toString())})}vs(t){return 0}$s(t,e){return Ae.or([()=>Ae.resolve(this.Cs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ds(t,e)])}}function uP(n,t){return`firestore_clients_${n}_${t}`}function dP(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function hx(n,t){return`firestore_targets_${n}_${t}`}class y9{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Os(t,e,i){const r=JSON.parse(i);let s,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new ke(r.error.code,r.error.message))),u?new y9(t,e,r.state,s):(rr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Ms(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Q4{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Os(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new ke(i.error.code,i.error.message))),s?new Q4(t,i.state,r):(rr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Ms(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class b9{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Os(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=u9();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=BR(i.activeTargetIds[u]),s=s.add(i.activeTargetIds[u]);return r?new b9(t,s):(rr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class fx{constructor(t,e){this.clientId=t,this.onlineState=e}static Os(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new fx(e.clientId,e.onlineState):(rr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class px{constructor(){this.activeTargetIds=u9()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ls(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ms(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class mx{constructor(t,e,i,r,s){this.window=t,this.Me=e,this.persistenceKey=i,this.Bs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new gr(nn),this.started=!1,this.js=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Qs=uP(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new px),this.Gs=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(h){return`firestore_bundle_loaded_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ve.Z)(function*(){const e=yield t.syncEngine.Tn();for(const r of e){if(r===t.Bs)continue;const s=t.getItem(uP(t.persistenceKey,r));if(s){const u=b9.Os(r,s);u&&(t.Ks=t.Ks.insert(u.clientId,u))}}t.Xs();const i=t.storage.getItem(t.Js);if(i){const r=t.Zs(i);r&&t.ti(r)}for(const r of t.js)t.qs(r);t.js=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ws,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(t){let e=!1;return this.Ks.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ni(t,"pending")}updateMutationState(t,e,i){this.ni(t,e,i),this.si(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(hx(this.persistenceKey,t));if(i){const r=Q4.Os(t,i);r&&(e=r.state)}}return this.ii.Fs(t),this.Xs(),e}removeLocalQueryTarget(t){this.ii.Ls(t),this.Xs()}isLocalQueryTarget(t){return this.ii.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(hx(this.persistenceKey,t))}updateQueryState(t,e,i){this.ri(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.si(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.oi(t)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ve("SharedClientState","READ",t,e),e}setItem(t,e){Ve("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ve("SharedClientState","REMOVE",t),this.storage.removeItem(t)}qs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ve("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Qs)return void rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,ve.Z)(function*(){if(e.started){if(null!==i.key)if(e.Gs.test(i.key)){if(null==i.newValue){const r=e.ai(i.key);return e.ui(r,null)}{const r=e.hi(i.key,i.newValue);if(r)return e.ui(r.clientId,r)}}else if(e.zs.test(i.key)){if(null!==i.newValue){const r=e.li(i.key,i.newValue);if(r)return e.fi(r)}}else if(e.Hs.test(i.key)){if(null!==i.newValue){const r=e.di(i.key,i.newValue);if(r)return e.wi(r)}}else if(i.key===e.Js){if(null!==i.newValue){const r=e.Zs(i.newValue);if(r)return e.ti(r)}}else if(i.key===e.Ws){const r=function(s){let u=Go.I;if(null!=s)try{const h=JSON.parse(s);Tt("number"==typeof h),u=h}catch(h){rr("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==Go.I&&e.sequenceNumberHandler(r)}else if(i.key===e.Ys)return e.syncEngine._i()}else e.js.push(i)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(t,e,i){const r=new y9(this.currentUser,t,e,i),s=dP(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Ms())}si(t){const e=dP(this.persistenceKey,this.currentUser,t);this.removeItem(e)}oi(t){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:t}))}ri(t,e,i){const r=hx(this.persistenceKey,t),s=new Q4(t,e,i);this.setItem(r,s.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(t){const e=this.Gs.exec(t);return e?e[1]:null}hi(t,e){const i=this.ai(t);return b9.Os(i,e)}li(t,e){const i=this.zs.exec(t),r=Number(i[1]);return y9.Os(new Kr(void 0!==i[2]?i[2]:null),r,e)}di(t,e){const i=this.Hs.exec(t),r=Number(i[1]);return Q4.Os(r,e)}Zs(t){return fx.Os(t)}fi(t){var e=this;return(0,ve.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.mi(t.batchId,t.state,t.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}wi(t){return this.syncEngine.gi(t.targetId,t.state,t.error)}ui(t,e){const i=e?this.Ks.insert(t,e):this.Ks.remove(t),r=this.ei(this.Ks),s=this.ei(i),u=[],h=[];return s.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{s.has(_)||h.push(_)}),this.syncEngine.yi(u,h).then(()=>{this.Ks=i})}ti(t){this.Ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ei(t){let e=u9();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class hP{constructor(){this.pi=new px,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.pi.Fs(t),this.Ti[t]||"not-current"}updateQueryState(t,e,i){this.Ti[t]=e}removeLocalQueryTarget(t){this.pi.Ls(t)}isLocalQueryTarget(t){return this.pi.activeTargetIds.has(t)}clearQueryState(t){delete this.Ti[t]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(t){return this.pi.activeTargetIds.has(t)}start(){return this.pi=new px,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class G${Ei(t){}shutdown(){}}class fP{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(t){this.Pi.push(t)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Pi)t(0)}bi(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Pi)t(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const $$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class q${constructor(t){this.Vi=t.Vi,this.Si=t.Si}Di(t){this.Ci=t}Ni(t){this.ki=t}onMessage(t){this.xi=t}close(){this.Si()}send(t){this.Vi(t)}$i(){this.Ci()}Oi(t){this.ki(t)}Mi(t){this.xi(t)}}class W$ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(t,e,i,r,s){const u=this.Ui(t,e);Ve("RestConnection","Sending: ",u,i);const h={};return this.qi(h,r,s),this.Ki(t,u,h,i).then(_=>(Ve("RestConnection","Received: ",_),_),_=>{throw k4("RestConnection",`${t} failed with error: `,_,"url: ",u,"request:",i),_})}ji(t,e,i,r,s){return this.Bi(t,e,i,r,s)}qi(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Gp,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}Ui(t,e){return`${this.Fi}/v1/${e}:${$$[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Ki(t,e,i,r){return new Promise((s,u)=>{const h=new pG;h.listenOnce(dG.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case TD.NO_ERROR:const C=h.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(C)),s(C);break;case TD.TIMEOUT:Ve("Connection",'RPC "'+t+'" timed out'),u(new ke(ue.DEADLINE_EXCEEDED,"Request time out"));break;case TD.HTTP_ERROR:const M=h.getStatus();if(Ve("Connection",'RPC "'+t+'" failed with status:',M,"response text:",h.getResponseText()),M>0){const I=h.getResponseJson().error;if(I&&I.status&&I.message){const O=function(L){const V=L.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(V)>=0?V:ue.UNKNOWN}(I.status);u(new ke(O,I.message))}else u(new ke(ue.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ke(ue.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{Ve("Connection",'RPC "'+t+'" completed.')}});const _=JSON.stringify(r);h.send(e,"POST",_,i,15)})}Qi(t,e,i){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=cG(),u=uG(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new fG({})),this.qi(h.initMessageHeaders,e,i),(0,$t.uI)()||(0,$t.b$)()||(0,$t.d)()||(0,$t.w1)()||(0,$t.Mn)()||(0,$t.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Ve("Connection","Creating WebChannel: "+_,h);const C=s.createWebChannel(_,h);let M=!1,I=!1;const O=new q$({Vi:V=>{I?Ve("Connection","Not sending because WebChannel is closed:",V):(M||(Ve("Connection","Opening WebChannel transport."),C.open(),M=!0),Ve("Connection","WebChannel sending:",V),C.send(V))},Si:()=>C.close()}),L=(V,Y,te)=>{V.listen(Y,Oe=>{try{te(Oe)}catch(Be){setTimeout(()=>{throw Be},0)}})};return L(C,K7.EventType.OPEN,()=>{I||Ve("Connection","WebChannel transport opened.")}),L(C,K7.EventType.CLOSE,()=>{I||(I=!0,Ve("Connection","WebChannel transport closed"),O.Oi())}),L(C,K7.EventType.ERROR,V=>{I||(I=!0,k4("Connection","WebChannel transport errored:",V),O.Oi(new ke(ue.UNAVAILABLE,"The operation could not be completed")))}),L(C,K7.EventType.MESSAGE,V=>{var Y;if(!I){const te=V.data[0];Tt(!!te);const Oe=te,Be=Oe.error||(null===(Y=Oe[0])||void 0===Y?void 0:Y.error);if(Be){Ve("Connection","WebChannel received error:",Be);const Le=Be.status;let He=function(jt){const un=ar[jt];if(void 0!==un)return fO(un)}(Le),It=Be.message;void 0===He&&(He=ue.INTERNAL,It="Unknown error status: "+Le+" with message "+Be.message),I=!0,O.Oi(new ke(He,It)),C.close()}else Ve("Connection","WebChannel received:",te),O.Mi(te)}}),L(u,hG.STAT_EVENT,V=>{V.stat===kR.PROXY?Ve("Connection","Detected buffering proxy"):V.stat===kR.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.$i()},0),O}}function pP(){return"undefined"!=typeof window?window:null}function C9(){return"undefined"!=typeof document?document:null}function X4(n){return new e$(n,!0)}class gx{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Me=t,this.timerId=e,this.Wi=i,this.Gi=r,this.zi=s,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(t){this.cancel();const e=Math.floor(this.Hi+this.tr()),i=Math.max(0,Date.now()-this.Yi),r=Math.max(0,e-i);r>0&&Ve("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,r,()=>(this.Yi=Date.now(),t())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class mP{constructor(t,e,i,r,s,u,h,_){this.Me=t,this.nr=i,this.sr=r,this.ir=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new gx(t,e)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var t=this;return(0,ve.Z)(function*(){t.hr()&&(yield t.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(t){this.yr(),this.stream.send(t)}mr(){var t=this;return(0,ve.Z)(function*(){if(t.lr())return t.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(t,e){var i=this;return(0,ve.Z)(function*(){i.yr(),i.pr(),i.ur.cancel(),i.rr++,4!==t?i.ur.reset():e&&e.code===ue.RESOURCE_EXHAUSTED?(rr(e.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),i.ur.Xi()):e&&e.code===ue.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Tr(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Ni(e)})()}Tr(){}auth(){this.state=1;const t=this.Er(this.rr),e=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.rr===e&&this.Ir(i,r)},i=>{t(()=>{const r=new ke(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ar(r)})})}Ir(t,e){const i=this.Er(this.rr);this.stream=this.Rr(t,e),this.stream.Di(()=>{i(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(r=>{i(()=>this.Ar(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}dr(){var t=this;this.state=5,this.ur.Zi((0,ve.Z)(function*(){t.state=0,t.start()}))}Ar(t){return Ve("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Er(t){return e=>{this.Me.enqueueAndForget(()=>this.rr===t?e():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Y$ extends mP{constructor(t,e,i,r,s,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.k=s}Rr(t,e){return this.ir.Qi("Listen",t,e)}onMessage(t){this.ur.reset();const e=function i$(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:_t(),r=t.targetChange.targetIds||[],s=function(_,C){return _.C?(Tt(void 0===C||"string"==typeof C),mr.fromBase64String(C||"")):(Tt(void 0===C||C instanceof Uint8Array),mr.fromUint8Array(C||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(_){const C=void 0===_.code?ue.UNKNOWN:fO(_.code);return new ke(C,_.message||"")}(u);e=new _O(i,r,s,h||null)}else if("documentChange"in t){const i=t.documentChange,r=bc(n,i.document.name),s=xr(i.document.updateTime),u=new ms({mapValue:{fields:i.document.fields}}),h=mi.newFoundDocument(r,s,u);e=new d9(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=bc(n,i.document),s=i.readTime?xr(i.readTime):Vt.min(),u=mi.newNoDocument(r,s);e=new d9([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=bc(n,i.document);e=new d9([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return _t();{const i=t.filter,s=new $G(i.count||0);e=new gO(i.targetId,s)}}var _;return e}(this.k,t),i=function(r){if(!("targetChange"in r))return Vt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Vt.min():s.readTime?xr(s.readTime):Vt.min()}(t);return this.listener.br(e,i)}Pr(t){const e={};e.database=W4(this.k),e.addTarget=function(r,s){let u;const h=s.target;return u=t9(h)?{documents:IO(r,h)}:{query:TO(r,h)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=CO(r,s.resumeToken):s.snapshotVersion.compareTo(Vt.min())>0&&(u.readTime=$4(r,s.snapshotVersion.toTimestamp())),u}(this.k,t);const i=function s$(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _t()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.gr(e)}vr(t){const e={};e.database=W4(this.k),e.removeTarget=t,this.gr(e)}}class Z$ extends mP{constructor(t,e,i,r,s,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.k=s,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(t,e){return this.ir.Qi("Write",t,e)}onMessage(t){if(Tt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vr){this.ur.reset();const e=function r$(n,t){return n&&n.length>0?(Tt(void 0!==t),n.map(e=>function(i,r){let s=xr(i.updateTime?i.updateTime:r);return s.isEqual(Vt.min())&&(s=xr(r)),new jG(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=xr(t.commitTime);return this.listener.Cr(i,e)}return Tt(!t.writeResults||0===t.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const t={};t.database=W4(this.k),this.gr(t)}Dr(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>h9(this.k,i))};this.gr(e)}}class K$ extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.ir=i,this.k=r,this.$r=!1}Or(){if(this.$r)throw new ke(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(t,e,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.ir.Bi(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(ue.UNKNOWN,r.toString())})}ji(t,e,i){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.ir.ji(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(ue.UNKNOWN,r.toString())})}terminate(){this.$r=!0}}class Q${constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(t){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Ur("Offline")))}set(t){this.jr(),this.Mr=0,"Online"===t&&(this.Lr=!1),this.Ur(t)}Ur(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}qr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(rr(e),this.Lr=!1):Ve("OnlineStateTracker",e)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class X${constructor(t,e,i,r,s){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=s,this.Hr.Ei(h=>{i.enqueueAndForget((0,ve.Z)(function*(){var _;Pd(u)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ve.Z)(function*(C){const M=Ze(C);M.Gr.add(4),yield hm(M),M.Jr.set("Unknown"),M.Gr.delete(4),yield J4(M)}),function(C){return _.apply(this,arguments)})(u))}))}),this.Jr=new Q$(i,r)}}function J4(n){return _x.apply(this,arguments)}function _x(){return _x=(0,ve.Z)(function*(n){if(Pd(n))for(const t of n.zr)yield t(!0)}),_x.apply(this,arguments)}function hm(n){return vx.apply(this,arguments)}function vx(){return vx=(0,ve.Z)(function*(n){for(const t of n.zr)yield t(!1)}),vx.apply(this,arguments)}function w9(n,t){const e=Ze(n);e.Wr.has(t.targetId)||(e.Wr.set(t.targetId,t),Cx(e)?bx(e):pm(e).lr()&&yx(e,t))}function eg(n,t){const e=Ze(n),i=pm(e);e.Wr.delete(t),i.lr()&&gP(e,t),0===e.Wr.size&&(i.lr()?i._r():Pd(e)&&e.Jr.set("Unknown"))}function yx(n,t){n.Yr.X(t.targetId),pm(n).Pr(t)}function gP(n,t){n.Yr.X(t),pm(n).vr(t)}function bx(n){n.Yr=new QG({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.Wr.get(t)||null}),pm(n).start(),n.Jr.Br()}function Cx(n){return Pd(n)&&!pm(n).hr()&&n.Wr.size>0}function Pd(n){return 0===Ze(n).Gr.size}function _P(n){n.Yr=void 0}function J$(n){return wx.apply(this,arguments)}function wx(){return wx=(0,ve.Z)(function*(n){n.Wr.forEach((t,e)=>{yx(n,t)})}),wx.apply(this,arguments)}function eq(n,t){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,ve.Z)(function*(n,t){_P(n),Cx(n)?(n.Jr.Kr(t),bx(n)):n.Jr.set("Unknown")}),Mx.apply(this,arguments)}function tq(n,t,e){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,ve.Z)(function*(n,t,e){if(n.Jr.set("Online"),t instanceof _O&&2===t.state&&t.cause)try{yield(i=(0,ve.Z)(function*(r,s){const u=s.cause;for(const h of s.targetIds)r.Wr.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.Wr.delete(h),r.Yr.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Ve("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield M9(n,i)}else if(t instanceof d9?n.Yr.ot(t):t instanceof gO?n.Yr.dt(t):n.Yr.ut(t),!e.isEqual(Vt.min()))try{const i=yield oP(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const u=r.Yr.gt(s);return u.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const C=r.Wr.get(_);C&&r.Wr.set(_,C.withResumeToken(h.resumeToken,s))}}),u.targetMismatches.forEach(h=>{const _=r.Wr.get(h);if(!_)return;r.Wr.set(h,_.withResumeToken(mr.EMPTY_BYTE_STRING,_.snapshotVersion)),gP(r,h);const C=new Ad(_.target,h,1,_.sequenceNumber);yx(r,C)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Ve("RemoteStore","Failed to raise snapshot:",i),yield M9(n,i)}var i}),Dx.apply(this,arguments)}function M9(n,t,e){return xx.apply(this,arguments)}function xx(){return xx=(0,ve.Z)(function*(n,t,e){if(!Y2(t))throw t;n.Gr.add(1),yield hm(n),n.Jr.set("Offline"),e||(e=()=>oP(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield e(),n.Gr.delete(1),yield J4(n)}))}),xx.apply(this,arguments)}function vP(n,t){return t().catch(e=>M9(n,e,t))}function fm(n){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,ve.Z)(function*(n){const t=Ze(n),e=Nd(t);let i=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;nq(t);)try{const r=yield O$(t.localStore,i);if(null===r){0===t.Qr.length&&e._r();break}i=r.batchId,iq(t,r)}catch(r){yield M9(t,r)}yP(t)&&bP(t)}),Ex.apply(this,arguments)}function nq(n){return Pd(n)&&n.Qr.length<10}function iq(n,t){n.Qr.push(t);const e=Nd(n);e.lr()&&e.Sr&&e.Dr(t.mutations)}function yP(n){return Pd(n)&&!Nd(n).hr()&&n.Qr.length>0}function bP(n){Nd(n).start()}function rq(n){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,ve.Z)(function*(n){Nd(n).kr()}),Sx.apply(this,arguments)}function sq(n){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,ve.Z)(function*(n){const t=Nd(n);for(const e of n.Qr)t.Dr(e.mutations)}),Ix.apply(this,arguments)}function oq(n,t,e){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,ve.Z)(function*(n,t,e){const i=n.Qr.shift(),r=YD.from(i,t,e);yield vP(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield fm(n)}),Tx.apply(this,arguments)}function aq(n,t){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,ve.Z)(function*(n,t){var e;t&&Nd(n).Sr&&(yield(e=(0,ve.Z)(function*(i,r){if(hO(s=r.code)&&s!==ue.ABORTED){const u=i.Qr.shift();Nd(i).wr(),yield vP(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield fm(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),yP(n)&&bP(n)}),Ax.apply(this,arguments)}function CP(n,t){return kx.apply(this,arguments)}function kx(){return kx=(0,ve.Z)(function*(n,t){const e=Ze(n);e.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const i=Pd(e);e.Gr.add(3),yield hm(e),i&&e.Jr.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.Gr.delete(3),yield J4(e)}),kx.apply(this,arguments)}function Rx(n,t){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,ve.Z)(function*(n,t){const e=Ze(n);t?(e.Gr.delete(2),yield J4(e)):t||(e.Gr.add(2),yield hm(e),e.Jr.set("Unknown"))}),Ox.apply(this,arguments)}function pm(n){return n.Xr||(n.Xr=function(t,e,i){const r=Ze(t);return r.Or(),new Y$(e,r.ir,r.authCredentials,r.appCheckCredentials,r.k,i)}(n.datastore,n.asyncQueue,{Di:J$.bind(null,n),Ni:eq.bind(null,n),br:tq.bind(null,n)}),n.zr.push(function(){var t=(0,ve.Z)(function*(e){e?(n.Xr.wr(),Cx(n)?bx(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),_P(n))});return function(e){return t.apply(this,arguments)}}())),n.Xr}function Nd(n){return n.Zr||(n.Zr=function(t,e,i){const r=Ze(t);return r.Or(),new Z$(e,r.ir,r.authCredentials,r.appCheckCredentials,r.k,i)}(n.datastore,n.asyncQueue,{Di:rq.bind(null,n),Ni:aq.bind(null,n),Nr:sq.bind(null,n),Cr:oq.bind(null,n)}),n.zr.push(function(){var t=(0,ve.Z)(function*(e){e?(n.Zr.wr(),yield fm(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(e){return t.apply(this,arguments)}}())),n.Zr}class Px{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,s){const u=Date.now()+i,h=new Px(t,e,u,r,s);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(ue.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mm(n,t){if(rr("AsyncQueue",`${t}: ${n}`),Y2(n))return new ke(ue.UNAVAILABLE,`${t}: ${n}`);throw n}class gm{constructor(t){this.comparator=t?(e,i)=>t(e,i)||mt.comparator(e.key,i.key):(e,i)=>mt.comparator(e.key,i.key),this.keyedMap=UD(),this.sortedSet=new gr(this.comparator)}static emptySet(t){return new gm(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof gm)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new gm;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class wP{constructor(){this.eo=new gr(mt.comparator)}track(t){const e=t.doc.key,i=this.eo.get(e);i?0!==t.type&&3===i.type?this.eo=this.eo.insert(e,t):3===t.type&&1!==i.type?this.eo=this.eo.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.eo=this.eo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.eo=this.eo.remove(e):1===t.type&&2===i.type?this.eo=this.eo.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.eo=this.eo.insert(e,{type:2,doc:t.doc}):_t():this.eo=this.eo.insert(e,t)}no(){const t=[];return this.eo.inorderTraversal((e,i)=>{t.push(i)}),t}}class _m{constructor(t,e,i,r,s,u,h,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=_}static fromInitialDocuments(t,e,i,r){const s=[];return e.forEach(u=>{s.push({type:0,doc:u})}),new _m(t,e,gm.emptySet(e),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&z4(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class lq{constructor(){this.so=void 0,this.listeners=[]}}class cq{constructor(){this.queries=new cm(t=>QR(t),z4),this.onlineState="Unknown",this.io=new Set}}function Nx(n,t){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,ve.Z)(function*(n,t){const e=Ze(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new lq),r)try{s.so=yield e.onListen(i)}catch(u){const h=mm(u,`Initialization of query '${BD(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,s),s.listeners.push(t),t.ro(e.onlineState),s.so&&t.oo(s.so)&&Vx(e)}),Fx.apply(this,arguments)}function Lx(n,t){return zx.apply(this,arguments)}function zx(){return zx=(0,ve.Z)(function*(n,t){const e=Ze(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const u=s.listeners.indexOf(t);u>=0&&(s.listeners.splice(u,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),zx.apply(this,arguments)}function uq(n,t){const e=Ze(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.oo(r)&&(i=!0);u.so=r}}i&&Vx(e)}function dq(n,t,e){const i=Ze(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function Vx(n){n.io.forEach(t=>{t.next()})}class Bx{constructor(t,e,i){this.query=t,this.co=e,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=i||{}}oo(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new _m(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.ao?this.ho(t)&&(this.co.next(t),e=!0):this.lo(t,this.onlineState)&&(this.fo(t),e=!0),this.uo=t,e}onError(t){this.co.error(t)}ro(t){this.onlineState=t;let e=!1;return this.uo&&!this.ao&&this.lo(this.uo,t)&&(this.fo(this.uo),e=!0),e}lo(t,e){return!t.fromCache||!(this.options.wo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}ho(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(t){t=_m.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.ao=!0,this.co.next(t)}}class hq{constructor(t,e){this.payload=t,this.byteLength=e}_o(){return"metadata"in this.payload}}class MP{constructor(t){this.k=t}Hn(t){return bc(this.k,t)}Jn(t){return t.metadata.exists?EO(this.k,t.document,!1):mi.newNoDocument(this.Hn(t.metadata.name),this.Yn(t.metadata.readTime))}Yn(t){return xr(t)}}class fq{constructor(t,e,i){this.mo=t,this.localStore=e,this.k=i,this.queries=[],this.documents=[],this.progress=DP(t)}yo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}po(t){const e=new Map,i=new MP(this.k);for(const r of t)if(r.metadata.queries){const s=i.Hn(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||An()).add(s);e.set(u,h)}}return e}complete(){var t=this;return(0,ve.Z)(function*(){const e=yield function N$(n,t,e,i){return lx.apply(this,arguments)}(t.localStore,new MP(t.k),t.documents,t.mo.id),i=t.po(t.documents);for(const r of t.queries)yield F$(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",new T$(Object.assign({},t.progress),e)})()}}function DP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class xP{constructor(t){this.key=t}}class EP{constructor(t){this.key=t}}class SP{constructor(t,e){this.query=t,this.To=e,this.Eo=null,this.current=!1,this.Io=An(),this.mutatedKeys=An(),this.Ao=XR(t),this.Ro=new gm(this.Ao)}get bo(){return this.To}Po(t,e){const i=e?e.vo:new wP,r=e?e.Ro:this.Ro;let s=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const _=r9(this.query)&&r.size===this.query.limit?r.last():null,C=s9(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((M,I)=>{const O=r.get(M),L=V4(this.query,I)?I:null,V=!!O&&this.mutatedKeys.has(O.key),Y=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let te=!1;O&&L?O.data.isEqual(L.data)?V!==Y&&(i.track({type:3,doc:L}),te=!0):this.Vo(O,L)||(i.track({type:2,doc:L}),te=!0,(_&&this.Ao(L,_)>0||C&&this.Ao(L,C)<0)&&(h=!0)):!O&&L?(i.track({type:0,doc:L}),te=!0):O&&!L&&(i.track({type:1,doc:O}),te=!0,(_||C)&&(h=!0)),te&&(L?(u=u.add(L),s=Y?s.add(M):s.delete(M)):(u=u.delete(M),s=s.delete(M)))}),r9(this.query)||s9(this.query))for(;u.size>this.query.limit;){const M=r9(this.query)?u.last():u.first();u=u.delete(M.key),s=s.delete(M.key),i.track({type:1,doc:M})}return{Ro:u,vo:i,Bn:h,mutatedKeys:s}}Vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Ro;this.Ro=t.Ro,this.mutatedKeys=t.mutatedKeys;const s=t.vo.no();s.sort((C,M)=>function(I,O){const L=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return L(I)-L(O)}(C.type,M.type)||this.Ao(C.doc,M.doc)),this.So(i);const u=e?this.Do():[],h=0===this.Io.size&&this.current?1:0,_=h!==this.Eo;return this.Eo=h,0!==s.length||_?{snapshot:new _m(this.query,t.Ro,r,s,t.mutatedKeys,0===h,_,!1),Co:u}:{Co:u}}ro(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new wP,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(t){return!this.To.has(t)&&!!this.Ro.has(t)&&!this.Ro.get(t).hasLocalMutations}So(t){t&&(t.addedDocuments.forEach(e=>this.To=this.To.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.To=this.To.delete(e)),this.current=t.current)}Do(){if(!this.current)return[];const t=this.Io;this.Io=An(),this.Ro.forEach(i=>{this.No(i.key)&&(this.Io=this.Io.add(i.key))});const e=[];return t.forEach(i=>{this.Io.has(i)||e.push(new EP(i))}),this.Io.forEach(i=>{t.has(i)||e.push(new xP(i))}),e}ko(t){this.To=t.zn,this.Io=An();const e=this.Po(t.documents);return this.applyChanges(e,!0)}xo(){return _m.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class pq{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class mq{constructor(t){this.key=t,this.$o=!1}}class gq{constructor(t,e,i,r,s,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.Oo={},this.Mo=new cm(h=>QR(h),z4),this.Fo=new Map,this.Lo=new Set,this.Bo=new gr(mt.comparator),this.Uo=new Map,this.qo=new ux,this.Ko={},this.jo=new Map,this.Qo=K2.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function _q(n,t){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,ve.Z)(function*(n,t){const e=uE(n);let i,r;const s=e.Mo.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.xo();else{const u=yield um(e.localStore,Ra(t)),h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield jx(e,t,i,"current"===h),e.isPrimaryClient&&w9(e.remoteStore,u)}return r}),Hx.apply(this,arguments)}function jx(n,t,e,i){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,ve.Z)(function*(n,t,e,i){n.Go=(M,I,O)=>{return(L=(0,ve.Z)(function*(V,Y,te,Oe){let Be=Y.view.Po(te);Be.Bn&&(Be=yield v9(V.localStore,Y.query,!1).then(({documents:It})=>Y.view.Po(It,Be)));const Le=Oe&&Oe.targetChanges.get(Y.targetId),He=Y.view.applyChanges(Be,V.isPrimaryClient,Le);return Jx(V,Y.targetId,He.Co),He.snapshot}),function(V,Y,te,Oe){return L.apply(this,arguments)})(n,M,I,O);var L};const r=yield v9(n.localStore,t,!0),s=new SP(t,r.zn),u=s.Po(r.documents),h=G4.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),_=s.applyChanges(u,n.isPrimaryClient,h);Jx(n,e,_.Co);const C=new pq(t,e,s);return n.Mo.set(t,C),n.Fo.has(e)?n.Fo.get(e).push(t):n.Fo.set(e,[t]),_.snapshot}),Ux.apply(this,arguments)}function vq(n,t){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,ve.Z)(function*(n,t){const e=Ze(n),i=e.Mo.get(t),r=e.Fo.get(i.targetId);if(r.length>1)return e.Fo.set(i.targetId,r.filter(s=>!z4(s,t))),void e.Mo.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield dm(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),eg(e.remoteStore,i.targetId),vm(e,i.targetId)}).catch(Q2))):(vm(e,i.targetId),yield dm(e.localStore,i.targetId,!0))}),Gx.apply(this,arguments)}function $x(){return $x=(0,ve.Z)(function*(n,t,e){const i=dE(n);try{const r=yield function(s,u){const h=Ze(s),_=Dr.now(),C=u.reduce((I,O)=>I.add(O.key),An());let M;return h.persistence.runTransaction("Locally write mutations","readwrite",I=>h.Wn.vn(I,C).next(O=>{M=O;const L=[];for(const V of u){const Y=GG(V,M.get(V.key));null!=Y&&L.push(new Id(V.key,Y,GR(Y.value.mapValue),or.exists(!0)))}return h.An.addMutationBatch(I,_,L,u)})).then(I=>(I.applyToLocalDocumentSet(M),{batchId:I.batchId,changes:M}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,u,h){let _=s.Ko[s.currentUser.toKey()];_||(_=new gr(nn)),_=_.insert(u,h),s.Ko[s.currentUser.toKey()]=_}(i,r.batchId,e),yield Bu(i,r.changes),yield fm(i.remoteStore)}catch(r){const s=mm(r,"Failed to persist write");e.reject(s)}}),$x.apply(this,arguments)}function IP(n,t){return qx.apply(this,arguments)}function qx(){return qx=(0,ve.Z)(function*(n,t){const e=Ze(n);try{const i=yield R$(e.localStore,t);t.targetChanges.forEach((r,s)=>{const u=e.Uo.get(s);u&&(Tt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.$o=!0:r.modifiedDocuments.size>0?Tt(u.$o):r.removedDocuments.size>0&&(Tt(u.$o),u.$o=!1))}),yield Bu(e,i,t)}catch(i){yield Q2(i)}}),qx.apply(this,arguments)}function TP(n,t,e){const i=Ze(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.Mo.forEach((s,u)=>{const h=u.view.ro(t);h.snapshot&&r.push(h.snapshot)}),function(s,u){const h=Ze(s);h.onlineState=u;let _=!1;h.queries.forEach((C,M)=>{for(const I of M.listeners)I.ro(u)&&(_=!0)}),_&&Vx(h)}(i.eventManager,t),r.length&&i.Oo.br(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function bq(n,t,e){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,ve.Z)(function*(n,t,e){const i=Ze(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Uo.get(t),s=r&&r.key;if(s){let u=new gr(mt.comparator);u=u.insert(s,mi.newNoDocument(s,Vt.min()));const h=An().add(s),_=new U4(Vt.min(),new Map,new Ri(nn),u,h);yield IP(i,_),i.Bo=i.Bo.remove(s),i.Uo.delete(t),eE(i)}else yield dm(i.localStore,t,!1).then(()=>vm(i,t,e)).catch(Q2)}),Wx.apply(this,arguments)}function Cq(n,t){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,ve.Z)(function*(n,t){const e=Ze(n),i=t.batch.batchId;try{const r=yield k$(e.localStore,t);Xx(e,i,null),Qx(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Bu(e,r)}catch(r){yield Q2(r)}}),Yx.apply(this,arguments)}function wq(n,t,e){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,ve.Z)(function*(n,t,e){const i=Ze(n);try{const r=yield function(s,u){const h=Ze(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let C;return h.An.lookupMutationBatch(_,u).next(M=>(Tt(null!==M),C=M.keys(),h.An.removeMutationBatch(_,M))).next(()=>h.An.performConsistencyCheck(_)).next(()=>h.Wn.vn(_,C))})}(i.localStore,t);Xx(i,t,e),Qx(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Bu(i,r)}catch(r){yield Q2(r)}}),Zx.apply(this,arguments)}function Kx(){return Kx=(0,ve.Z)(function*(n,t){const e=Ze(n);Pd(e.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const u=Ze(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.An.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.jo.get(i)||[];r.push(t),e.jo.set(i,r)}catch(i){const r=mm(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),Kx.apply(this,arguments)}function Qx(n,t){(n.jo.get(t)||[]).forEach(e=>{e.resolve()}),n.jo.delete(t)}function Xx(n,t,e){const i=Ze(n);let r=i.Ko[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Ko[i.currentUser.toKey()]=r}}function vm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Fo.get(t))n.Mo.delete(i),e&&n.Oo.zo(i,e);n.Fo.delete(t),n.isPrimaryClient&&n.qo.us(t).forEach(i=>{n.qo.containsKey(i)||AP(n,i)})}function AP(n,t){n.Lo.delete(t.path.canonicalString());const e=n.Bo.get(t);null!==e&&(eg(n.remoteStore,e),n.Bo=n.Bo.remove(t),n.Uo.delete(e),eE(n))}function Jx(n,t,e){for(const i of e)i instanceof xP?(n.qo.addReference(i.key,t),Dq(n,i)):i instanceof EP?(Ve("SyncEngine","Document no longer in limbo: "+i.key),n.qo.removeReference(i.key,t),n.qo.containsKey(i.key)||AP(n,i.key)):_t()}function Dq(n,t){const e=t.key,i=e.path.canonicalString();n.Bo.get(e)||n.Lo.has(i)||(Ve("SyncEngine","New document in limbo: "+e),n.Lo.add(i),eE(n))}function eE(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const t=n.Lo.values().next().value;n.Lo.delete(t);const e=new mt(xn.fromString(t)),i=n.Qo.next();n.Uo.set(i,new mq(e)),n.Bo=n.Bo.insert(e,i),w9(n.remoteStore,new Ad(Ra(Kp(e.path)),i,2,Go.I))}}function Bu(n,t,e){return tE.apply(this,arguments)}function tE(){return tE=(0,ve.Z)(function*(n,t,e){const i=Ze(n),r=[],s=[],u=[];var h;i.Mo.isEmpty()||(i.Mo.forEach((h,_)=>{u.push(i.Go(_,t,e).then(C=>{if(C){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,C.fromCache?"not-current":"current"),r.push(C);const M=rx.$n(_.targetId,C);s.push(M)}}))}),yield Promise.all(u),i.Oo.br(r),yield(h=(0,ve.Z)(function*(_,C){const M=Ze(_);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Ae.forEach(C,O=>Ae.forEach(O.kn,L=>M.persistence.referenceDelegate.addReference(I,O.targetId,L)).next(()=>Ae.forEach(O.xn,L=>M.persistence.referenceDelegate.removeReference(I,O.targetId,L)))))}catch(I){if(!Y2(I))throw I;Ve("LocalStore","Failed to update sequence numbers: "+I)}for(const I of C){const O=I.targetId;if(!I.fromCache){const L=M.qn.get(O),Y=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);M.qn=M.qn.insert(O,Y)}}}),function(_,C){return h.apply(this,arguments)})(i.localStore,s))}),tE.apply(this,arguments)}function xq(n,t){return nE.apply(this,arguments)}function nE(){return nE=(0,ve.Z)(function*(n,t){const e=Ze(n);if(!e.currentUser.isEqual(t)){Ve("SyncEngine","User change. New user:",t.toKey());const i=yield sP(e.localStore,t);e.currentUser=t,(r=e).jo.forEach(u=>{u.forEach(h=>{h.reject(new ke(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.jo.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Bu(e,i.Gn)}var r}),nE.apply(this,arguments)}function Eq(n,t){const e=Ze(n),i=e.Uo.get(t);if(i&&i.$o)return An().add(i.key);{let r=An();const s=e.Fo.get(t);if(!s)return r;for(const u of s){const h=e.Mo.get(u);r=r.unionWith(h.view.bo)}return r}}function Sq(n,t){return iE.apply(this,arguments)}function iE(){return iE=(0,ve.Z)(function*(n,t){const e=Ze(n),i=yield v9(e.localStore,t.query,!0),r=t.view.ko(i);return e.isPrimaryClient&&Jx(e,t.targetId,r.Co),r}),iE.apply(this,arguments)}function Iq(n){return rE.apply(this,arguments)}function rE(){return rE=(0,ve.Z)(function*(n){const t=Ze(n);return cP(t.localStore).then(e=>Bu(t,e))}),rE.apply(this,arguments)}function Tq(n,t,e,i){return sE.apply(this,arguments)}function sE(){return sE=(0,ve.Z)(function*(n,t,e,i){const r=Ze(n),s=yield function(u,h){const _=Ze(u),C=Ze(_.An);return _.persistence.runTransaction("Lookup mutation documents","readonly",M=>C.Zt(M,h).next(I=>I?_.Wn.vn(M,I):Ae.resolve(null)))}(r.localStore,t);var h;null!==s?("pending"===e?yield fm(r.remoteStore):"acknowledged"===e||"rejected"===e?(Xx(r,t,i||null),Qx(r,t),h=t,Ze(Ze(r.localStore).An).ee(h)):_t(),yield Bu(r,s)):Ve("SyncEngine","Cannot apply mutation batch with id: "+t)}),sE.apply(this,arguments)}function oE(){return oE=(0,ve.Z)(function*(n,t){const e=Ze(n);if(uE(e),dE(e),!0===t&&!0!==e.Wo){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield kP(e,i.toArray());e.Wo=!0,yield Rx(e.remoteStore,!0);for(const s of r)w9(e.remoteStore,s)}else if(!1===t&&!1!==e.Wo){const i=[];let r=Promise.resolve();e.Fo.forEach((s,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(vm(e,u),dm(e.localStore,u,!0))),eg(e.remoteStore,u)}),yield r,yield kP(e,i),function(s){const u=Ze(s);u.Uo.forEach((h,_)=>{eg(u.remoteStore,_)}),u.qo.hs(),u.Uo=new Map,u.Bo=new gr(mt.comparator)}(e),e.Wo=!1,yield Rx(e.remoteStore,!1)}}),oE.apply(this,arguments)}function kP(n,t,e){return aE.apply(this,arguments)}function aE(){return aE=(0,ve.Z)(function*(n,t,e){const i=Ze(n),r=[],s=[];for(const u of t){let h;const _=i.Fo.get(u);if(_&&0!==_.length){h=yield um(i.localStore,Ra(_[0]));for(const C of _){const M=i.Mo.get(C),I=yield Sq(i,M);I.snapshot&&s.push(I.snapshot)}}else{const C=yield lP(i.localStore,u);h=yield um(i.localStore,C),yield jx(i,RP(C),u,!1)}r.push(h)}return i.Oo.br(s),r}),aE.apply(this,arguments)}function RP(n){return ZR(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function kq(n){const t=Ze(n);return Ze(Ze(t.localStore).persistence).Tn()}function Rq(n,t,e,i){return lE.apply(this,arguments)}function lE(){return lE=(0,ve.Z)(function*(n,t,e,i){const r=Ze(n);if(r.Wo)Ve("SyncEngine","Ignoring unexpected query state notification.");else if(r.Fo.has(t))switch(e){case"current":case"not-current":{const s=yield cP(r.localStore),u=U4.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Bu(r,s,u);break}case"rejected":yield dm(r.localStore,t,!0),vm(r,t,i);break;default:_t()}}),lE.apply(this,arguments)}function Oq(n,t,e){return cE.apply(this,arguments)}function cE(){return cE=(0,ve.Z)(function*(n,t,e){const i=uE(n);if(i.Wo){for(const r of t){if(i.Fo.has(r)){Ve("SyncEngine","Adding an already active target "+r);continue}const s=yield lP(i.localStore,r),u=yield um(i.localStore,s);yield jx(i,RP(s),u.targetId,!1),w9(i.remoteStore,u)}for(const r of e)i.Fo.has(r)&&(yield dm(i.localStore,r,!1).then(()=>{eg(i.remoteStore,r),vm(i,r)}).catch(Q2))}}),cE.apply(this,arguments)}function uE(n){const t=Ze(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=IP.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Eq.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bq.bind(null,t),t.Oo.br=uq.bind(null,t.eventManager),t.Oo.zo=dq.bind(null,t.eventManager),t}function dE(n){const t=Ze(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Cq.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wq.bind(null,t),t}class OP{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ve.Z)(function*(){e.k=X4(t.databaseInfo.databaseId),e.sharedClientState=e.Jo(t),e.persistence=e.Yo(t),yield e.persistence.start(),e.gcScheduler=e.Xo(t),e.localStore=e.Zo(t)})()}Xo(t){return null}Zo(t){return rP(this.persistence,new iP,t.initialUser,this.k)}Yo(t){return new j$(dx.ks,this.k)}Jo(t){return new hP}terminate(){var t=this;return(0,ve.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class PP extends OP{constructor(t,e,i){super(),this.tc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield e().call(i,t),yield function P$(n){return ax.apply(this,arguments)}(i.localStore),yield i.tc.initialize(i,t),yield dE(i.tc.syncEngine),yield fm(i.tc.remoteStore),yield i.persistence.sn(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Zo(t){return rP(this.persistence,new iP,t.initialUser,this.k)}Xo(t){return new M$(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Yo(t){const e=ix(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?vo.withCacheSize(this.cacheSizeBytes):vo.DEFAULT;return new nx(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,pP(),C9(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(t){return new hP}}class Nq extends PP{constructor(t,e){super(t,e,!1),this.tc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield e().call(i,t);const r=i.tc.syncEngine;i.sharedClientState instanceof mx&&(i.sharedClientState.syncEngine={mi:Tq.bind(null,r),gi:Rq.bind(null,r),yi:Oq.bind(null,r),Tn:kq.bind(null,r),_i:Iq.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.sn(function(){var s=(0,ve.Z)(function*(u){yield function Aq(n,t){return oE.apply(this,arguments)}(i.tc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}Jo(t){const e=pP();if(!mx.Pt(e))throw new ke(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=ix(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new mx(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class hE{initialize(t,e){var i=this;return(0,ve.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>TP(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=xq.bind(null,i.syncEngine),yield Rx(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new cq}createDatastore(t){const e=X4(t.databaseInfo.databaseId),i=new W$(t.databaseInfo);return new K$(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=h=>TP(this.syncEngine,h,0),u=fP.Pt()?new fP:new G$,new X$(e,i,r,s,u);var e,i,r,s,u}createSyncEngine(t,e){return function(i,r,s,u,h,_,C){const M=new gq(i,r,s,u,h,_);return C&&(M.Wo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ve.Z)(function*(e){const i=Ze(e);Ve("RemoteStore","RemoteStore shutting down."),i.Gr.add(5),yield hm(i),i.Hr.shutdown(),i.Jr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function NP(n,t=10240){let e=0;return{read:()=>(0,ve.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class D9{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ec(this.observer.next,t)}error(t){this.observer.error?this.ec(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}nc(){this.muted=!0}ec(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Fq{constructor(t,e){this.sc=t,this.k=e,this.metadata=new Mr,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(i=>{i&&i._o()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.sc.cancel()}getMetadata(){var t=this;return(0,ve.Z)(function*(){return t.metadata.promise})()}Ho(){var t=this;return(0,ve.Z)(function*(){return yield t.getMetadata(),t.rc()})()}rc(){var t=this;return(0,ve.Z)(function*(){const e=yield t.oc();if(null===e)return null;const i=t.ic.decode(e),r=Number(i);isNaN(r)&&t.cc(`length string (${i}) is not valid number`);const s=yield t.ac(r);return new hq(JSON.parse(s),e.length+r)})()}uc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}oc(){var t=this;return(0,ve.Z)(function*(){for(;t.uc()<0&&!(yield t.hc()););if(0===t.buffer.length)return null;const e=t.uc();e<0&&t.cc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}ac(t){var e=this;return(0,ve.Z)(function*(){for(;e.buffer.length<t;)(yield e.hc())&&e.cc("Reached the end of bundle when more is expected.");const i=e.ic.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}cc(t){throw this.sc.cancel(),new Error(`Invalid bundle format: ${t}`)}hc(){var t=this;return(0,ve.Z)(function*(){const e=yield t.sc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Lq{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ke(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ve.Z)(function*(s,u){const h=Ze(s),_=W4(h.k)+"/documents",C={documents:u.map(L=>q4(h.k,L))},M=yield h.ji("BatchGetDocuments",_,C),I=new Map;M.forEach(L=>{const V=function n$(n,t){return"found"in t?function(e,i){Tt(!!i.found);const r=bc(e,i.found.name),s=xr(i.found.updateTime),u=new ms({mapValue:{fields:i.found.fields}});return mi.newFoundDocument(r,s,u)}(n,t):"missing"in t?function(e,i){Tt(!!i.missing),Tt(!!i.readTime);const r=bc(e,i.missing),s=xr(i.readTime);return mi.newNoDocument(r,s)}(n,t):_t()}(h.k,L);I.set(V.key.toString(),V)});const O=[];return u.forEach(L=>{const V=I.get(L.toString());Tt(!!V),O.push(V)}),O}),function(s,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new j4(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=mt.fromPath(r);t.mutations.push(new jD(s,t.precondition(s)))}),yield(i=(0,ve.Z)(function*(r,s){const u=Ze(r),h=W4(u.k)+"/documents",_={writes:s.map(C=>h9(u.k,C))};yield u.Bi("Commit",h,_)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw _t();e=Vt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new ke(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?or.updateTime(e):or.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Vt.min()))throw new ke(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return or.updateTime(e)}return or.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class zq{constructor(t,e,i,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=r,this.lc=5,this.ur=new gx(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var t=this;this.ur.Zi((0,ve.Z)(function*(){const e=new Lq(t.datastore),i=t.dc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.wc(s)}))}).catch(r=>{t.wc(r)})}))}dc(t){try{const e=this.updateFunction(t);return!U2(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wc(t){this.lc>0&&this._c(t)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(t)}_c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!hO(e)}return!1}}class Vq{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Kr.UNAUTHENTICATED,this.clientId=NR.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ve.Z)(function*(h){Ve("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Ve("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,ve.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=mm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function FP(n,t){return fE.apply(this,arguments)}function fE(){return fE=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ve.Z)(function*(s){i.isEqual(s)||(yield sP(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),fE.apply(this,arguments)}function LP(n,t){return pE.apply(this,arguments)}function pE(){return pE=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield mE(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>CP(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>CP(t.remoteStore,s)),n.onlineComponents=t}),pE.apply(this,arguments)}function mE(n){return gE.apply(this,arguments)}function gE(){return gE=(0,ve.Z)(function*(n){return n.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield FP(n,new OP)),n.offlineComponents}),gE.apply(this,arguments)}function x9(n){return _E.apply(this,arguments)}function _E(){return _E=(0,ve.Z)(function*(n){return n.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield LP(n,new hE)),n.onlineComponents}),_E.apply(this,arguments)}function zP(n){return mE(n).then(t=>t.persistence)}function vE(n){return mE(n).then(t=>t.localStore)}function VP(n){return x9(n).then(t=>t.remoteStore)}function yE(n){return x9(n).then(t=>t.syncEngine)}function ym(n){return bE.apply(this,arguments)}function bE(){return bE=(0,ve.Z)(function*(n){const t=yield x9(n),e=t.eventManager;return e.onListen=_q.bind(null,t.syncEngine),e.onUnlisten=vq.bind(null,t.syncEngine),e}),bE.apply(this,arguments)}function BP(n,t,e={}){const i=new Mr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,s,u,h,_){const C=new D9({next:I=>{s.enqueueAndForget(()=>Lx(r,M));const O=I.docs.has(u);!O&&I.fromCache?_.reject(new ke(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&I.fromCache&&h&&"server"===h.source?_.reject(new ke(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),M=new Bx(Kp(u.path),C,{includeMetadataChanges:!0,wo:!0});return Nx(r,M)}(yield ym(n),n.asyncQueue,t,e,i)})),i.promise}function HP(n,t,e={}){const i=new Mr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,s,u,h,_){const C=new D9({next:I=>{s.enqueueAndForget(()=>Lx(r,M)),I.fromCache&&"server"===h.source?_.reject(new ke(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(I)},error:I=>_.reject(I)}),M=new Bx(u,C,{includeMetadataChanges:!0,wo:!0});return Nx(r,M)}(yield ym(n),n.asyncQueue,t,e,i)})),i.promise}class Yq{constructor(t,e,i,r,s,u,h,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=_}}class bm{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof bm&&t.projectId===this.projectId&&t.database===this.database}}const jP=new Map;function CE(n,t,e){if(!e)throw new ke(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function UP(n,t,e,i){if(!0===t&&!0===i)throw new ke(ue.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function GP(n){if(!mt.isDocumentKey(n))throw new ke(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $P(n){if(mt.isDocumentKey(n))throw new ke(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function E9(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":_t()}function an(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ke(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=E9(n);throw new ke(ue.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function qP(n,t){if(t<=0)throw new ke(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class WP{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ke(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ke(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,UP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class tg{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WP({}),this._settingsFrozen=!1,t instanceof bm?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ke(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bm(r.options.projectId)}(t))}get app(){if(!this._app)throw new ke(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ke(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WP(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new _G;switch(e.type){case"gapi":const i=e.client;return Tt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new CG(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ke(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=jP.get(t);e&&(Ve("ComponentProvider","Removing Datastore"),jP.delete(t),e.terminate())}(this),Promise.resolve()}}class Jn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Jn(this.firestore,t,this._key)}}class _s{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new _s(this.firestore,t,this._query)}}class wc extends _s{constructor(t,e,i){super(t,e,Kp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Jn(this.firestore,null,new mt(t))}withConverter(t){return new wc(this.firestore,t,this._path)}}function YP(n,t,...e){if(n=(0,$t.m9)(n),CE("collection","path",t),n instanceof tg){const i=xn.fromString(t,...e);return $P(i),new wc(n,null,i)}{if(!(n instanceof Jn||n instanceof wc))throw new ke(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xn.fromString(t,...e));return $P(i),new wc(n.firestore,null,i)}}function S9(n,t,...e){if(n=(0,$t.m9)(n),1===arguments.length&&(t=NR.A()),CE("doc","path",t),n instanceof tg){const i=xn.fromString(t,...e);return GP(i),new Jn(n,null,new mt(i))}{if(!(n instanceof Jn||n instanceof wc))throw new ke(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xn.fromString(t,...e));return GP(i),new Jn(n.firestore,n instanceof wc?n.converter:null,new mt(i))}}function ZP(n,t){return n=(0,$t.m9)(n),t=(0,$t.m9)(t),(n instanceof Jn||n instanceof wc)&&(t instanceof Jn||t instanceof wc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function KP(n,t){return n=(0,$t.m9)(n),t=(0,$t.m9)(t),n instanceof _s&&t instanceof _s&&n.firestore===t.firestore&&z4(n._query,t._query)&&n.converter===t.converter}class Qq{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new gx(this,"async_queue_retry"),this.bc=()=>{const e=C9();e&&Ve("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const t=C9();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pc(),this.vc(t)}enterRestrictedMode(t){if(!this.yc){this.yc=!0,this.Ac=t||!1;const e=C9();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.bc)}}enqueue(t){if(this.Pc(),this.yc)return new Promise(()=>{});const e=new Mr;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.gc.push(t),this.Vc()))}Vc(){var t=this;return(0,ve.Z)(function*(){if(0!==t.gc.length){try{yield t.gc[0](),t.gc.shift(),t.ur.reset()}catch(e){if(!Y2(e))throw e;Ve("AsyncQueue","Operation failed with retryable error: "+e)}t.gc.length>0&&t.ur.Zi(()=>t.Vc())}})()}vc(t){const e=this.mc.then(()=>(this.Ic=!0,t().catch(i=>{throw this.Ec=i,this.Ic=!1,rr("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(i)),i}).then(i=>(this.Ic=!1,i))));return this.mc=e,e}enqueueAfterDelay(t,e,i){this.Pc(),this.Rc.indexOf(t)>-1&&(e=0);const r=Px.createAndSchedule(this,t,e,i,s=>this.Sc(s));return this.Tc.push(r),r}Pc(){this.Ec&&_t()}verifyOperationInProgress(){}Dc(){var t=this;return(0,ve.Z)(function*(){let e;do{e=t.mc,yield e}while(e!==t.mc)})()}Cc(t){for(const e of this.Tc)if(e.timerId===t)return!0;return!1}Nc(t){return this.Dc().then(()=>{this.Tc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Tc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Dc()})}kc(t){this.Rc.push(t)}Sc(t){const e=this.Tc.indexOf(t);this.Tc.splice(e,1)}}function wE(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Xq{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class gi extends tg{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new Qq,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||QP(this),this._firestoreClient.terminate()}}function lr(n){return n._firestoreClient||QP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function QP(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Yq(n._databaseId,s,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new Vq(n._authCredentials,n._appCheckCredentials,n._queue,i)}function XP(n,t,e){const i=new Mr;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield FP(n,e),yield LP(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(s=r).name?s.code===ue.FAILED_PRECONDITION||s.code===ue.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var s})).then(()=>i.promise)}function JP(n){if(n._initialized||n._terminated)throw new ke(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Hu{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ke(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Mc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mc(mr.fromBase64String(t))}catch(e){throw new ke(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Mc(mr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class X2{constructor(t){this._methodName=t}}class I9{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ke(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ke(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return nn(this._lat,t._lat)||nn(this._long,t._long)}}const lW=/^__.*__$/;class cW{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Id(t,this.data,this.fieldMask,e,this.fieldTransforms):new H4(t,this.data,e,this.fieldTransforms)}}class eN{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Id(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function tN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class T9{constructor(t,e,i,r,s,u){this.settings=t,this.databaseId=e,this.k=i,this.ignoreUndefinedProperties=r,void 0===s&&this.xc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(t){return new T9(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:i,Fc:!1});return r.Lc(t),r}Bc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:i,Fc:!1});return r.xc(),r}Uc(t){return this.Oc({path:void 0,Fc:!0})}qc(t){return R9(t,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.Lc(this.path.get(t))}Lc(t){if(0===t.length)throw this.qc("Document fields must not be empty");if(tN(this.$c)&&lW.test(t))throw this.qc('Document fields cannot begin and end with "__"')}}class uW{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.k=i||X4(t)}Qc(t,e,i,r=!1){return new T9({$c:t,methodName:e,jc:i,path:Qr.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function J2(n){const t=n._freezeSettings(),e=X4(n._databaseId);return new uW(n._databaseId,!!t.ignoreUndefinedProperties,e)}function A9(n,t,e,i,r,s={}){const u=n.Qc(s.merge||s.mergeFields?2:0,t,e,r);EE("Data must be an object, but it was:",u,i);const h=rN(i,u);let _,C;if(s.merge)_=new qp(u.fieldMask),C=u.fieldTransforms;else if(s.mergeFields){const M=[];for(const I of s.mergeFields){const O=SE(t,I,e);if(!u.contains(O))throw new ke(ue.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);oN(M,O)||M.push(O)}_=new qp(M),C=u.fieldTransforms.filter(I=>_.covers(I.field))}else _=null,C=u.fieldTransforms;return new cW(new ms(h),_,C)}class ng extends X2{_toFieldTransform(t){if(2!==t.$c)throw t.qc(1===t.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ng}}function nN(n,t,e){return new T9({$c:3,jc:t.settings.jc,methodName:n._methodName,Fc:e},t.databaseId,t.k,t.ignoreUndefinedProperties)}class ME extends X2{_toFieldTransform(t){return new B4(t.path,new Xp)}isEqual(t){return t instanceof ME}}class dW extends X2{constructor(t,e){super(t),this.Wc=e}_toFieldTransform(t){const e=nN(this,t,!0),i=this.Wc.map(s=>ef(s,e)),r=new $2(i);return new B4(t.path,r)}isEqual(t){return this===t}}class hW extends X2{constructor(t,e){super(t),this.Wc=e}_toFieldTransform(t){const e=nN(this,t,!0),i=this.Wc.map(s=>ef(s,e)),r=new q2(i);return new B4(t.path,r)}isEqual(t){return this===t}}class fW extends X2{constructor(t,e){super(t),this.Gc=e}_toFieldTransform(t){const e=new Jp(t.k,tO(t.k,this.Gc));return new B4(t.path,e)}isEqual(t){return this===t}}function DE(n,t,e,i){const r=n.Qc(1,t,e);EE("Data must be an object, but it was:",r,i);const s=[],u=ms.empty();j2(i,(_,C)=>{const M=k9(t,_,e);C=(0,$t.m9)(C);const I=r.Bc(M);if(C instanceof ng)s.push(M);else{const O=ef(C,I);null!=O&&(s.push(M),u.set(M,O))}});const h=new qp(s);return new eN(u,h,r.fieldTransforms)}function xE(n,t,e,i,r,s){const u=n.Qc(1,t,e),h=[SE(t,i,e)],_=[r];if(s.length%2!=0)throw new ke(ue.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<s.length;O+=2)h.push(SE(t,s[O])),_.push(s[O+1]);const C=[],M=ms.empty();for(let O=h.length-1;O>=0;--O)if(!oN(C,h[O])){const L=h[O];let V=_[O];V=(0,$t.m9)(V);const Y=u.Bc(L);if(V instanceof ng)C.push(L);else{const te=ef(V,Y);null!=te&&(C.push(L),M.set(L,te))}}const I=new qp(C);return new eN(M,I,u.fieldTransforms)}function iN(n,t,e,i=!1){return ef(e,n.Qc(i?4:3,t))}function ef(n,t){if(sN(n=(0,$t.m9)(n)))return EE("Unsupported field value:",t,n),rN(n,t);if(n instanceof X2)return function(e,i){if(!tN(i.$c))throw i.qc(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qc(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const u of e){let h=ef(u,i.Uc(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,$t.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return tO(i.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Dr.fromDate(e);return{timestampValue:$4(i.k,r)}}if(e instanceof Dr){const r=new Dr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:$4(i.k,r)}}if(e instanceof I9)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Mc)return{bytesValue:CO(i.k,e._byteString)};if(e instanceof Jn){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.qc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:GD(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.qc(`Unsupported field value: ${E9(e)}`)}(n,t)}function rN(n,t){const e={};return zR(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):j2(n,(i,r)=>{const s=ef(r,t.Mc(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function sN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Dr||n instanceof I9||n instanceof Mc||n instanceof Jn||n instanceof X2)}function EE(n,t,e){if(!sN(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=E9(e);throw t.qc("an object"===i?n+" a custom object":n+" "+i)}var i}function SE(n,t,e){if((t=(0,$t.m9)(t))instanceof Hu)return t._internalPath;if("string"==typeof t)return k9(n,t);throw R9("Field path arguments must be of type string or ",n,!1,void 0,e)}const pW=new RegExp("[~\\*/\\[\\]]");function k9(n,t,e){if(t.search(pW)>=0)throw R9(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Hu(...t.split("."))._internalPath}catch(i){throw R9(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function R9(n,t,e,i,r){const s=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(s||u)&&(_+=" (found",s&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new ke(ue.INVALID_ARGUMENT,h+n+_)}function oN(n,t){return n.some(e=>e.isEqual(t))}class ig{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new mW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(O9("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class mW extends ig{data(){return super.data()}}function O9(n,t){return"string"==typeof t?k9(n,t):t instanceof Hu?t._internalPath:t._delegate._internalPath}class tf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ju extends ig{constructor(t,e,i,r,s,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new rg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(O9("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class rg extends ju{data(t={}){return super.data(t)}}class Fd{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new tf(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new rg(this._firestore,this._userDataWriter,i.key,i,new tf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ke(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new rg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new tf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new rg(i._firestore,i._userDataWriter,u.doc.key,u.doc,new tf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,C=-1;return 0!==u.type&&(_=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),C=s.indexOf(u.doc.key)),{type:gW(u.type),doc:h,oldIndex:_,newIndex:C}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function gW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}function aN(n,t){return n instanceof ju&&t instanceof ju?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Fd&&t instanceof Fd&&n._firestore===t._firestore&&KP(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function lN(n){if(s9(n)&&0===n.explicitOrderBy.length)throw new ke(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sg{}function Ld(n,...t){for(const e of t)n=e._apply(n);return n}class _W extends sg{constructor(t,e,i){super(),this.zc=t,this.Hc=e,this.Jc=i,this.type="where"}_apply(t){const e=J2(t.firestore),i=function(r,s,u,h,_,C,M){let I;if(_.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new ke(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){pN(M,C);const L=[];for(const V of M)L.push(fN(h,r,V));I={arrayValue:{values:L}}}else I=fN(h,r,M)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||pN(M,C),I=iN(u,"where",M,"in"===C||"not-in"===C);const O=Vs.create(_,C,I);return function(L,V){if(V.V()){const te=zD(L);if(null!==te&&!te.isEqual(V.field))throw new ke(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${te.toString()}' and '${V.field.toString()}'`);const Oe=LD(L);null!==Oe&&mN(0,V.field,Oe)}const Y=function(te,Oe){for(const Be of te.filters)if(Oe.indexOf(Be.op)>=0)return Be.op;return null}(L,function(te){switch(te){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(V.op));if(null!==Y)throw new ke(ue.INVALID_ARGUMENT,Y===V.op?`Invalid query. You cannot use more than one '${V.op.toString()}' filter.`:`Invalid query. You cannot use '${V.op.toString()}' filters with '${Y.toString()}' filters.`)}(r,O),O}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new _s(t.firestore,t.converter,function(r,s){const u=r.filters.concat([s]);return new Lu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class yW extends sg{constructor(t,e){super(),this.zc=t,this.Yc=e,this.type="orderBy"}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new ke(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ke(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Zp(r,s);return function(h,_){if(null===LD(h)){const C=zD(h);null!==C&&mN(0,C,_.field)}}(i,u),u}(t._query,this.zc,this.Yc);return new _s(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Lu(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class cN extends sg{constructor(t,e,i){super(),this.type=t,this.Xc=e,this.Zc=i}_apply(t){return new _s(t.firestore,t.converter,KR(t._query,this.Xc,this.Zc))}}class uN extends sg{constructor(t,e,i){super(),this.type=t,this.ta=e,this.ea=i}_apply(t){const e=hN(t,this.type,this.ta,this.ea);return new _s(t.firestore,t.converter,(r=e,new Lu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class dN extends sg{constructor(t,e,i){super(),this.type=t,this.ta=e,this.ea=i}_apply(t){const e=hN(t,this.type,this.ta,this.ea);return new _s(t.firestore,t.converter,(r=e,new Lu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function hN(n,t,e,i){if(e[0]=(0,$t.m9)(e[0]),e[0]instanceof ig)return function(r,s,u,h,_){if(!h)throw new ke(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const C=[];for(const M of Qp(r))if(M.field.isKeyField())C.push(X7(s,h.key));else{const I=h.data.field(M.field);if(RD(I))throw new ke(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const O=M.field.canonicalString();throw new ke(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}C.push(I)}return new L4(C,_)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=J2(n.firestore);return function(s,u,h,_,C,M){const I=s.explicitOrderBy;if(C.length>I.length)throw new ke(ue.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let L=0;L<C.length;L++){const V=C[L];if(I[L].field.isKeyField()){if("string"!=typeof V)throw new ke(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof V}`);if(!VD(s)&&-1!==V.indexOf("/"))throw new ke(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${V}' contains a slash.`);const Y=s.path.child(xn.fromString(V));if(!mt.isDocumentKey(Y))throw new ke(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Y}' is not because it contains an odd number of segments.`);const te=new mt(Y);O.push(X7(u,te))}else{const Y=iN(h,_,V);O.push(Y)}}return new L4(O,M)}(n._query,n.firestore._databaseId,r,t,e,i)}}function fN(n,t,e){if("string"==typeof(e=(0,$t.m9)(e))){if(""===e)throw new ke(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VD(t)&&-1!==e.indexOf("/"))throw new ke(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(xn.fromString(e));if(!mt.isDocumentKey(i))throw new ke(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return X7(n,new mt(i))}if(e instanceof Jn)return X7(n,e._key);throw new ke(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${E9(e)}.`)}function pN(n,t){if(!Array.isArray(n)||0===n.length)throw new ke(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new ke(ue.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function mN(n,t,e){if(!e.isEqual(t))throw new ke(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class IE{convertValue(t,e="none"){switch(G2(t)){case 0:return null;case 1:return t.booleanValue;case 2:return sr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Wp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw _t()}}convertObject(t,e){const i={};return j2(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new I9(sr(t.latitude),sr(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=VR(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(O4(t));default:return null}}convertTimestamp(t){const e=Sd(t);return new Dr(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=xn.fromString(t);Tt(PO(i));const r=new bm(i.get(1),i.get(3)),s=new mt(i.popFirst(5));return r.isEqual(e)||rr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function P9(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class SW extends IE{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Jn(this.firestore,null,e)}}class gN{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=J2(t)}set(t,e,i){this._verifyNotCommitted();const r=zd(t,this._firestore),s=P9(r.converter,e,i),u=A9(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,or.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=zd(t,this._firestore);let u;return u="string"==typeof(e=(0,$t.m9)(e))||e instanceof Hu?xE(this._dataReader,"WriteBatch.update",s._key,e,i,r):DE(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(u.toMutation(s._key,or.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=zd(t,this._firestore);return this._mutations=this._mutations.concat(new j4(e._key,or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zd(n,t){if((n=(0,$t.m9)(n)).firestore!==t)throw new ke(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class nf extends IE{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Jn(this.firestore,null,e)}}function _N(n,t,e){n=an(n,Jn);const i=an(n.firestore,gi),r=P9(n.converter,t,e);return Cm(i,[A9(J2(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,or.none())])}function vN(n,t,e,...i){n=an(n,Jn);const r=an(n.firestore,gi),s=J2(r);let u;return u="string"==typeof(t=(0,$t.m9)(t))||t instanceof Hu?xE(s,"updateDoc",n._key,t,e,i):DE(s,"updateDoc",n._key,t),Cm(r,[u.toMutation(n._key,or.exists(!0))])}function yN(n,...t){var e,i,r;n=(0,$t.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||wE(t[u])||(s=t[u],u++);const h={includeMetadataChanges:s.includeMetadataChanges};if(wE(t[u])){const I=t[u];t[u]=null===(e=I.next)||void 0===e?void 0:e.bind(I),t[u+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),t[u+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let _,C,M;if(n instanceof Jn)C=an(n.firestore,gi),M=Kp(n._key.path),_={next:I=>{t[u]&&t[u](TE(C,n,I))},error:t[u+1],complete:t[u+2]};else{const I=an(n,_s);C=an(I.firestore,gi),M=I._query;const O=new nf(C);_={next:L=>{t[u]&&t[u](new Fd(C,O,I,L))},error:t[u+1],complete:t[u+2]},lN(n._query)}return function(I,O,L,V){const Y=new D9(V),te=new Bx(O,Y,L);return I.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return Nx(yield ym(I),te)})),()=>{Y.nc(),I.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return Lx(yield ym(I),te)}))}}(lr(C),M,h,_)}function Cm(n,t){return function(e,i){const r=new Mr;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function yq(n,t,e){return $x.apply(this,arguments)}(yield yE(e),i,r)})),r.promise}(lr(n),t)}function TE(n,t,e){const i=e.docs.get(t._key),r=new nf(n);return new ju(n,r,t._key,i,new tf(e.hasPendingWrites,e.fromCache),t.converter)}class LW extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=J2(t)}get(t){const e=zd(t,this._firestore),i=new SW(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return _t();const s=r[0];if(s.isFoundDocument())return new ig(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new ig(this._firestore,i,e._key,null,e.converter);throw _t()})}set(t,e,i){const r=zd(t,this._firestore),s=P9(r.converter,e,i),u=A9(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const s=zd(t,this._firestore);let u;return u="string"==typeof(e=(0,$t.m9)(e))||e instanceof Hu?xE(this._dataReader,"Transaction.update",s._key,e,i,r):DE(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,u),this}delete(t){const e=zd(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=zd(t,this._firestore),i=new nf(this._firestore);return super.get(t).then(r=>new ju(this._firestore,i,e._key,r._document,new tf(!1,!1),e.converter))}}function kE(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function CN(){if("undefined"==typeof Uint8Array)throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function wN(){if(!function xG(){return"undefined"!=typeof atob}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Gp=gc.SDK_VERSION,(0,gc._registerComponent)(new b2.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),s=new gi(r,new yG(e.getProvider("auth-internal")),new wG(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC")),(0,gc.registerVersion)(RR,"3.4.4",n),(0,gc.registerVersion)(RR,"3.4.4","esm2017")}();class og{constructor(t){this._delegate=t}static fromBase64String(t){return wN(),new og(Mc.fromBase64String(t))}static fromUint8Array(t){return CN(),new og(Mc.fromUint8Array(t))}toBase64(){return wN(),this._delegate.toBase64()}toUint8Array(){return CN(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function RE(n){return function qW(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class WW{enableIndexedDbPersistence(t,e){return function eW(n,t){JP(n=an(n,gi));const e=lr(n),i=n._freezeSettings(),r=new hE;return XP(e,r,new PP(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function tW(n){JP(n=an(n,gi));const t=lr(n),e=n._freezeSettings(),i=new hE;return XP(t,i,new Nq(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function nW(n){if(n._initialized&&!n._terminated)throw new ke(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Mr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(e=(0,ve.Z)(function*(i){if(!Al.Pt())return Promise.resolve();const r=i+"main";yield Al.delete(r)}),function(i){return e.apply(this,arguments)})(ix(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class MN{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof bm||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&k4("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function Zq(n,t,e,i={}){var r;const s=(n=an(n,tg))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&k4("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Kr.MOCK_USER;else{u=(0,$t.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ke(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Kr(_)}n._authCredentials=new vG(new OR(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function rW(n){return function Bq(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield zP(n),e=yield VP(n);return t.setNetworkEnabled(!0),function(i){const r=Ze(i);return r.Gr.delete(0),J4(r)}(e)}))}(lr(n=an(n,gi)))}(this._delegate)}disableNetwork(){return function sW(n){return function Hq(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield zP(n),e=yield VP(n);return t.setNetworkEnabled(!1),(i=(0,ve.Z)(function*(r){const s=Ze(r);s.Gr.add(0),yield hm(s),s.Jr.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(lr(n=an(n,gi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,UP("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function iW(n){return function(t){const e=new Mr;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function Mq(n,t){return Kx.apply(this,arguments)}(yield yE(t),e)})),e.promise}(lr(n=an(n,gi)))}(this._delegate)}onSnapshotsInSync(t){return function FW(n,t){return function Gq(n,t){const e=new D9(t);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield ym(n),r=e,Ze(i).io.add(r),void r.next();var i,r})),()=>{e.nc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield ym(n),r=e,void Ze(i).io.delete(r);var i,r}))}}(lr(n=an(n,gi)),wE(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new wm(this,YP(this._delegate,t))}catch(e){throw Bs(e,"collection()","Firestore.collection()")}}doc(t){try{return new Pa(this,S9(this._delegate,t))}catch(e){throw Bs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Hs(this,function Kq(n,t){if(n=an(n,tg),CE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ke(ue.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new _s(n,null,(e=t,new Lu(xn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Bs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function zW(n,t){return function $q(n,t){const e=new Mr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const i=yield(r=n,x9(r).then(s=>s.datastore));var r;new zq(n.asyncQueue,i,t,e).run()})),e.promise}(lr(n=an(n,gi)),e=>t(new LW(n,e)))}(this._delegate,e=>t(new DN(this,e)))}batch(){return lr(this._delegate),new xN(new gN(this._delegate,t=>Cm(this._delegate,t)))}loadBundle(t){return function oW(n,t){const e=lr(n=an(n,gi)),i=new Xq;return function qq(n,t,e,i){const r=function(s,u){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,_=function(_,C){if(_ instanceof Uint8Array)return NP(_,C);if(_ instanceof ArrayBuffer)return NP(new Uint8Array(_),C);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new Fq(_,u);var _}(e,X4(t));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function Pq(n,t,e){const i=Ze(n);var r;(r=(0,ve.Z)(function*(s,u,h){try{const _=yield u.getMetadata();if(yield function(O,L){const V=Ze(O),Y=xr(L.createTime);return V.persistence.runTransaction("hasNewerBundle","readonly",te=>V.Ye.getBundleMetadata(te,L.id)).then(te=>!!te&&te.createTime.compareTo(Y)>=0)}(s.localStore,_))return yield u.close(),void h._completeWith((O=_,{taskState:"Success",documentsLoaded:O.totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}));h._updateProgress(DP(_));const C=new fq(_,s.localStore,u.k);let M=yield u.Ho();for(;M;){const O=yield C.yo(M);O&&h._updateProgress(O),M=yield u.Ho()}const I=yield C.complete();yield Bu(s,I.In,void 0),yield function(O,L){const V=Ze(O);return V.persistence.runTransaction("Save bundle","readwrite",Y=>V.Ye.saveBundleMetadata(Y,L))}(s.localStore,_),h._completeWith(I.progress)}catch(_){k4("SyncEngine",`Loading bundle failed with ${_}`),h._failWith(_)}var O}),function(s,u,h){return r.apply(this,arguments)})(i,t,e).then(()=>{i.sharedClientState.notifyBundleLoaded()})}(yield yE(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function aW(n,t){return function Wq(n,t){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(e,i){const r=Ze(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ye.getNamedQuery(s,i))}(yield vE(n),t)}))}(lr(n=an(n,gi)),t).then(e=>e?new _s(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Hs(this,e):null)}}class N9 extends IE{constructor(t){super(),this.firestore=t}convertBytes(t){return new og(new Mc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Pa.forKey(e,this.firestore,null)}}class DN{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new N9(t)}get(t){const e=sf(t);return this._delegate.get(e).then(i=>new ag(this._firestore,new ju(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=sf(t);return i?(kE("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=sf(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=sf(t);return this._delegate.delete(e),this}}class xN{constructor(t){this._delegate=t}set(t,e,i){const r=sf(t);return i?(kE("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=sf(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=sf(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class rf{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new rg(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new lg(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=rf.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new rf(t,new N9(t),e),r.set(e,s)),s}}rf.INSTANCES=new WeakMap;class Pa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new N9(t)}static forPath(t,e,i){if(t.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Pa(e,new Jn(e._delegate,i,new mt(t)))}static forKey(t,e,i){return new Pa(e,new Jn(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new wm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new wm(this.firestore,YP(this._delegate,t))}catch(e){throw Bs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,$t.m9)(t))instanceof Jn&&ZP(this._delegate,t)}set(t,e){e=kE("DocumentReference.set",e);try{return e?_N(this._delegate,t,e):_N(this._delegate,t)}catch(i){throw Bs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?vN(this._delegate,t):vN(this._delegate,t,e,...i)}catch(r){throw Bs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function PW(n){return Cm(an(n.firestore,gi),[new j4(n._key,or.none())])}(this._delegate)}onSnapshot(...t){const e=EN(t),i=SN(t,r=>new ag(this.firestore,new ju(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return yN(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function TW(n){n=an(n,Jn);const t=an(n.firestore,gi),e=lr(t),i=new nf(t);return function jq(n,t){const e=new Mr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,s,u){try{const h=yield function(_,C){const M=Ze(_);return M.persistence.runTransaction("read document","readonly",I=>M.Wn.Rn(I,C))}(r,s);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new ke(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const _=mm(h,`Failed to get document '${s} from cache`);u.reject(_)}}),function(r,s,u){return i.apply(this,arguments)})(yield vE(n),t,e);var i})),e.promise}(e,n._key).then(r=>new ju(t,i,n._key,r,new tf(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function AW(n){n=an(n,Jn);const t=an(n.firestore,gi);return BP(lr(t),n._key,{source:"server"}).then(e=>TE(t,n,e))}(this._delegate):function IW(n){n=an(n,Jn);const t=an(n.firestore,gi);return BP(lr(t),n._key).then(e=>TE(t,n,e))}(this._delegate),e.then(i=>new ag(this.firestore,new ju(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Pa(this.firestore,this._delegate.withConverter(t?rf.getInstance(this.firestore,t):null))}}function Bs(n,t,e){return n.message=n.message.replace(t,e),n}function EN(n){for(const t of n)if("object"==typeof t&&!RE(t))return t;return{}}function SN(n,t){var e,i;let r;return r=RE(n[0])?n[0]:RE(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class ag{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Pa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return aN(this._delegate,t._delegate)}}class lg extends ag{data(t){const e=this._delegate.data(t);return function gG(n,t){n||_t()}(void 0!==e),e}}class Hs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new N9(t)}where(t,e,i){try{return new Hs(this.firestore,Ld(this._delegate,function vW(n,t,e){const i=t,r=O9("where",n);return new _W(r,i,e)}(t,e,i)))}catch(r){throw Bs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Hs(this.firestore,Ld(this._delegate,function bW(n,t="asc"){const e=t,i=O9("orderBy",n);return new yW(i,e)}(t,e)))}catch(i){throw Bs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Hs(this.firestore,Ld(this._delegate,function CW(n){return qP("limit",n),new cN("limit",n,"F")}(t)))}catch(e){throw Bs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Hs(this.firestore,Ld(this._delegate,function wW(n){return qP("limitToLast",n),new cN("limitToLast",n,"L")}(t)))}catch(e){throw Bs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Hs(this.firestore,Ld(this._delegate,function MW(...n){return new uN("startAt",n,!0)}(...t)))}catch(e){throw Bs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Hs(this.firestore,Ld(this._delegate,function DW(...n){return new uN("startAfter",n,!1)}(...t)))}catch(e){throw Bs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Hs(this.firestore,Ld(this._delegate,function xW(...n){return new dN("endBefore",n,!0)}(...t)))}catch(e){throw Bs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Hs(this.firestore,Ld(this._delegate,function EW(...n){return new dN("endAt",n,!1)}(...t)))}catch(e){throw Bs(e,"endAt()","Query.endAt()")}}isEqual(t){return KP(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function RW(n){n=an(n,_s);const t=an(n.firestore,gi),e=lr(t),i=new nf(t);return function Uq(n,t){const e=new Mr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,s,u){try{const h=yield v9(r,s,!0),_=new SP(s,h.zn),C=_.Po(h.documents),M=_.applyChanges(C,!1);u.resolve(M.snapshot)}catch(h){const _=mm(h,`Failed to execute query '${s} against cache`);u.reject(_)}}),function(r,s,u){return i.apply(this,arguments)})(yield vE(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Fd(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function OW(n){n=an(n,_s);const t=an(n.firestore,gi),e=lr(t),i=new nf(t);return HP(e,n._query,{source:"server"}).then(r=>new Fd(t,i,n,r))}(this._delegate):function kW(n){n=an(n,_s);const t=an(n.firestore,gi),e=lr(t),i=new nf(t);return lN(n._query),HP(e,n._query).then(r=>new Fd(t,i,n,r))}(this._delegate),e.then(i=>new OE(this.firestore,new Fd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=EN(t),i=SN(t,r=>new OE(this.firestore,new Fd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return yN(this._delegate,e,i)}withConverter(t){return new Hs(this.firestore,this._delegate.withConverter(t?rf.getInstance(this.firestore,t):null))}}class ZW{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new lg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class OE{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Hs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new lg(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new ZW(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new lg(this._firestore,i))})}isEqual(t){return aN(this._delegate,t._delegate)}}class wm extends Hs{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Pa(this.firestore,t):null}doc(t){try{return new Pa(this.firestore,void 0===t?S9(this._delegate):S9(this._delegate,t))}catch(e){throw Bs(e,"doc()","CollectionReference.doc()")}}add(t){return function NW(n,t){const e=an(n.firestore,gi),i=S9(n),r=P9(n.converter,t);return Cm(e,[A9(J2(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,or.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Pa(this.firestore,e))}isEqual(t){return ZP(this._delegate,t._delegate)}withConverter(t){return new wm(this.firestore,this._delegate.withConverter(t?rf.getInstance(this.firestore,t):null))}}function sf(n){return an(n,Jn)}class PE{constructor(...t){this._delegate=new Hu(...t)}static documentId(){return new PE(Qr.keyField().canonicalString())}isEqual(t){return(t=(0,$t.m9)(t))instanceof Hu&&this._delegate._internalPath.isEqual(t._internalPath)}}class af{constructor(t){this._delegate=t}static serverTimestamp(){const t=function BW(){return new ME("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new af(t)}static delete(){const t=function VW(){return new ng("deleteField")}();return t._methodName="FieldValue.delete",new af(t)}static arrayUnion(...t){const e=function HW(...n){return new dW("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new af(e)}static arrayRemove(...t){const e=function jW(...n){return new hW("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new af(e)}static increment(t){const e=function UW(n){return new fW("increment",n)}(t);return e._methodName="FieldValue.increment",new af(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const KW={Firestore:MN,GeoPoint:I9,Timestamp:Dr,Blob:og,Transaction:DN,WriteBatch:xN,DocumentReference:Pa,DocumentSnapshot:ag,Query:Hs,QueryDocumentSnapshot:lg,QuerySnapshot:OE,CollectionReference:wm,FieldPath:PE,FieldValue:af,setLogLevel:function YW(n){!function mG(n){Ed.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function IN(n,t){return function JW(n,t=X3.z){return new Nn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function NE(n,t){return IN(n,t).pipe((0,ft.U)(e=>({payload:e,type:"query"})))}function F9(n,t){return NE(n,t).pipe(Hn(void 0),zM(),(0,ft.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const _=r.find(M=>M.doc.ref.isEqual(u.ref)),C=null==e?void 0:e.payload.docs.find(M=>M.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&C&&JSON.stringify(C.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),s}))}function TN(n,t,e){return F9(n,e).pipe(fa((i,r)=>function tY(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function nY(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return FE(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return FE(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return FE(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),iM(),(0,ft.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function FE(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function AN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function XW(n){(function QW(n,t){n.INTERNAL.registerComponent(new b2.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},KW)))})(n,(t,e)=>new MN(t,e,new WW)),n.registerVersion("@firebase/firestore-compat","0.1.13")}(aU.Z);class kN{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=F9(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ft.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Hn(void 0),zM(),fn(([i,r])=>r.length>0||!i),(0,ft.U)(([i,r])=>r),er.iC)}auditTrail(t){return this.stateChanges(t).pipe(fa((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=AN(t);return TN(this.query,e,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(t={}){return NE(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),er.iC)}get(t){return(0,Sn.D)(this.query.get(t)).pipe(er.iC)}add(t){return this.ref.add(t)}doc(t){return new RN(this.ref.doc(t),this.afs)}}class RN{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=NN(i,e);return new kN(r,s,this.afs)}snapshotChanges(){return function eY(n,t){return IN(n,t).pipe(Hn(void 0),zM(),(0,ft.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ft.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Sn.D)(this.ref.get(t)).pipe(er.iC)}}class iY{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?F9(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),fn(e=>e.length>0),er.iC):F9(this.query,this.afs.schedulers.outsideAngular).pipe(er.iC)}auditTrail(t){return this.stateChanges(t).pipe(fa((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=AN(t);return TN(this.query,e,this.afs.schedulers.outsideAngular).pipe(er.iC)}valueChanges(t={}){return NE(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),er.iC)}get(t){return(0,Sn.D)(this.query.get(t)).pipe(er.iC)}}const ON=new l.OlP("angularfire2.enableFirestorePersistence"),PN=new l.OlP("angularfire2.firestore.persistenceSettings"),rY=new l.OlP("angularfire2.firestore.settings"),sY=new l.OlP("angularfire2.firestore.use-emulator");function NN(n,t=(e=>e)){return{query:t(n),ref:n}}let LE=(()=>{class n{constructor(e,i,r,s,u,h,_,C,M,I,O,L,V,Y,te,Oe,Be){this.schedulers=_;const Le=(0,fo.on)(e,h,i),He=M;I&&z_(Le,h,O,V,Y,te,L,Oe),[this.firestore,this.persistenceEnabled$]=(0,fo.cc)(`${Le.name}.firestore`,"AngularFirestore",Le.name,()=>{const It=h.runOutsideAngular(()=>Le.firestore());if(s&&It.settings(s),He&&It.useEmulator(...He),r&&!Ua(u)){const jt=()=>{try{return(0,Sn.D)(It.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(un){return"undefined"!=typeof console&&console.warn(un),qe(!1)}};return[It,h.runOutsideAngular(jt)]}return[It,qe(!1)]},[s,He,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:u}=NN(r,i),h=this.schedulers.ngZone.run(()=>s);return new kN(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),s=this.firestore.collectionGroup(e);return new iY(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new RN(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(fo.Dh),l.LFG(fo.xv,8),l.LFG(ON,8),l.LFG(rY,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(er.HU),l.LFG(PN,8),l.LFG(sY,8),l.LFG(S2,8),l.LFG(Mw,8),l.LFG(Dw,8),l.LFG(xw,8),l.LFG(Ew,8),l.LFG(U3,8),l.LFG(L_,8),l.LFG(z3,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),oY=(()=>{class n{constructor(){v2.Z.registerVersion("angularfire",er.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:ON,useValue:!0},{provide:PN,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[LE]}),n})(),aY=(()=>{class n{constructor(e){this.router=e,this.oneItem=null}ngOnInit(){}redirect(){this.router.navigate(["nft-page/"+this.oneItem.id])}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(di))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-nft-card"]],inputs:{oneItem:"oneItem"},decls:10,vars:3,consts:[[1,"col"],[1,"card","m-3",2,"width","18rem"],["alt","nft-picture",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text","limit"],["type","button",1,"details",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l._UZ(2,"img",2),l.TgZ(3,"div",3),l.TgZ(4,"h5",4),l._uU(5),l.qZA(),l.TgZ(6,"p",5),l._uU(7),l.qZA(),l.TgZ(8,"a",6),l.NdJ("click",function(){return i.redirect()}),l._uU(9,"Details"),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("src",i.oneItem.image,l.LSH),l.xp6(3),l.Oqu(i.oneItem.title),l.xp6(2),l.Oqu(i.oneItem.description))},styles:[".limit[_ngcontent-%COMP%]{text-overflow:ellipsis;word-wrap:break-word;overflow:hidden;max-height:10.6em;line-height:1.8em}.details[_ngcontent-%COMP%]{color:#3b2456;text-decoration:none;box-shadow:#3c40434d 0 1px 3px,#3c404326 0 4px 8px 3px;padding:.5rem;border-radius:24px}"]}),n})();function lY(n,t){1&n&&l._UZ(0,"app-nft-card",2),2&n&&l.Q6J("oneItem",t.$implicit)}let cY=(()=>{class n{constructor(e,i){this.firestore=e,this.authService=i,this.list=e.collection("nfts").valueChanges({idField:"id"})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(LE),l.Y36(gd))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-nft-list"]],decls:3,vars:3,consts:[[1,"container","App"],["class","row",3,"oneItem",4,"ngFor","ngForOf"],[1,"row",3,"oneItem"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.YNc(1,lY,1,1,"app-nft-card",1),l.ALo(2,"async"),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngForOf",l.lcZ(2,1,i.list)))},directives:[oi,aY],pipes:[kc],styles:[".App[_ngcontent-%COMP%]{text-align:stretch;display:flex;flex-wrap:wrap}"]}),n})(),uY=(()=>{class n{constructor(e,i){this.firestore=e,this.router=i,this.id=this.router.url.split("/")[2],this.relevantItem={},this.list=e.collection("nfts").valueChanges({idField:"id"})}ngOnInit(){this.list.forEach(e=>e.forEach(i=>{i.id===this.id&&(this.relevantItem.title=i.title,this.relevantItem.image=i.image,this.relevantItem.description=i.description)}))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(LE),l.Y36(di))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-nft-page"]],decls:8,vars:3,consts:[[1,"d-flex","justify-content-center"],[1,"card",2,"width","18rem"],["alt","nft-card",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-text"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h1"),l._uU(3),l.qZA(),l._UZ(4,"img",2),l.TgZ(5,"div",3),l.TgZ(6,"p",4),l._uU(7),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(3),l.hij(" ",i.relevantItem.title," "),l.xp6(1),l.Q6J("src",i.relevantItem.image,l.LSH),l.xp6(3),l.hij("",i.relevantItem.description," "))},styles:[""]}),n})();const dY=["emailInput"],hY=["passwordInput"],fY=[{component:cY,path:"nft-list"},{component:oU,path:"login"},{component:(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.hide=!0,this.email=new br("",[fc.required,fc.email]),this.emailInput=null,this.passwordInput=null}getErrorMessage(){return this.email.hasError("required")?"You must enter a value":this.email.hasError("email")?"Not a valid email":""}redirect(){this.router.navigate(["login"])}signUpHandler(){this.authService.registerWithEmail(this.emailInput.nativeElement.value,this.passwordInput.nativeElement.value).then(()=>{this.router.navigate(["nft-list"])}).catch(r=>{this.error=r})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(gd),l.Y36(di))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-signup"]],viewQuery:function(e,i){if(1&e&&(l.Gf(dY,5),l.Gf(hY,5)),2&e){let r;l.iGM(r=l.CRH())&&(i.emailInput=r.first),l.iGM(r=l.CRH())&&(i.passwordInput=r.first)}},decls:20,vars:2,consts:[[1,"background"],[1,"card-style"],[1,"d-flex","justify-content-center","m-3"],[1,"d-flex","justify-content-center","m-2"],["appearance","legacy"],["matInput","","placeholder","pat@example.com","fxFlex","50","required","",3,"formControl"],["emailInput",""],["matInput","",3,"type"],["passwordInput",""],["type","button",1,"button-17",3,"click"],[1,"signup",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"mat-card",1),l.TgZ(2,"h2",2),l._uU(3,"Sign up"),l.qZA(),l.TgZ(4,"div",3),l.TgZ(5,"mat-form-field",4),l.TgZ(6,"mat-label"),l._uU(7,"Enter your email"),l.qZA(),l._UZ(8,"input",5,6),l.qZA(),l.TgZ(10,"mat-form-field",4),l.TgZ(11,"mat-label"),l._uU(12,"Enter your password"),l.qZA(),l._UZ(13,"input",7,8),l.qZA(),l.qZA(),l.TgZ(15,"div",3),l.TgZ(16,"button",9),l.NdJ("click",function(){return i.signUpHandler()}),l._uU(17," SIGN UP"),l.qZA(),l.qZA(),l.TgZ(18,"span",10),l.NdJ("click",function(){return i.redirect()}),l._uU(19,"Login"),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(8),l.Q6J("formControl",i.email),l.xp6(5),l.Q6J("type",i.hide?"password":"text"))},directives:[lA,hM,n4,_A,V1,t2,a0,Qf],styles:[".background[_ngcontent-%COMP%]{background-color:#3b2456;width:100vw;height:100vh;display:flex;justify-content:center;padding-top:4rem}.button-style[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #3B2456;padding:.5rem}.forgotpassword[_ngcontent-%COMP%]:hover{color:#3b2456}.button-17[_ngcontent-%COMP%]{align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-radius:24px;border-style:none;box-shadow:#0003 0 3px 5px -1px,#00000024 0 6px 10px,#0000001f 0 1px 18px;box-sizing:border-box;color:#3c4043;cursor:pointer;display:inline-flex;fill:currentcolor;font-family:Google Sans,Roboto,Arial,sans-serif;font-size:14px;font-weight:500;height:48px;justify-content:center;letter-spacing:.25px;line-height:normal;max-width:100%;overflow:visible;padding:2px 24px;position:relative;text-align:center;text-transform:none;transition:box-shadow .28s cubic-bezier(.4,0,.2,1),opacity 15ms linear 30ms,transform .27s cubic-bezier(0,0,.2,1) 0ms;user-select:none;-webkit-user-select:none;touch-action:manipulation;width:auto;will-change:transform,opacity;z-index:0}.button-17[_ngcontent-%COMP%]:hover{background:#F6F9FE;color:#3b2456}.button-17[_ngcontent-%COMP%]:active{box-shadow:0 4px 4px #3c40434d,0 8px 12px 6px #3c404326;outline:none}.button-17[_ngcontent-%COMP%]:focus{outline:none;border:2px solid #3B2456}.button-17[_ngcontent-%COMP%]:not(:disabled){box-shadow:#3c40434d 0 1px 3px,#3c404326 0 4px 8px 3px}.button-17[_ngcontent-%COMP%]:not(:disabled):hover{box-shadow:#3c40434d 0 2px 3px,#3c404326 0 6px 10px 4px}.button-17[_ngcontent-%COMP%]:not(:disabled):focus{box-shadow:#3c40434d 0 1px 3px,#3c404326 0 4px 8px 3px}.button-17[_ngcontent-%COMP%]:not(:disabled):active{box-shadow:#3c40434d 0 4px 4px,#3c404326 0 8px 12px 6px}.button-17[_ngcontent-%COMP%]:disabled{box-shadow:#3c40434d 0 1px 3px,#3c404326 0 4px 8px 3px}.card-style[_ngcontent-%COMP%]{width:40%;height:70%;box-shadow:#3c40434d 0 1px 3px,#3c404326 0 4px 8px 3px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.signup[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:small}.signup[_ngcontent-%COMP%]:hover{color:#3b2456}"]}),n})(),path:"signup"},{component:uY,path:"nft-page/:id"}];let pY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pu.forRoot(fY)],pu]}),n})();var FN=P(4408);const cg={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=cg;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Ln.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=cg;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=cg;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var LN=P(7565);const zN=new class gY extends LN.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class mY extends FN.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=cg.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cg.cancelAnimationFrame(e),t._scheduled=void 0)}});let zE,_Y=1;const L9={};function VN(n){return n in L9&&(delete L9[n],!0)}const vY={setImmediate(n){const t=_Y++;return L9[t]=!0,zE||(zE=Promise.resolve()),zE.then(()=>VN(t)&&n()),t},clearImmediate(n){VN(n)}},{setImmediate:yY,clearImmediate:bY}=vY,z9={setImmediate(...n){const{delegate:t}=z9;return((null==t?void 0:t.setImmediate)||yY)(...n)},clearImmediate(n){const{delegate:t}=z9;return((null==t?void 0:t.clearImmediate)||bY)(n)},delegate:void 0};new class wY extends LN.v{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class CY extends FN.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=z9.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(z9.clearImmediate(e),t._scheduled=void 0)}});var xY=P(3532);function HN(n,t=X3.P){return function DY(n){return(0,Tn.e)((t,e)=>{let i=!1,r=null,s=null,u=!1;const h=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const C=r;r=null,e.next(C)}u&&e.complete()},_=()=>{s=null,u&&e.complete()};t.subscribe(new dn.Q(e,C=>{i=!0,r=C,s||(0,Fn.Xf)(n(C)).subscribe(s=new dn.Q(e,h,_))},()=>{u=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>function BN(n=0,t,e=X3.P){let i=-1;return null!=t&&((0,xY.K)(t)?e=t:i=t),new Nn.y(r=>{let s=function EY(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,t))}let IY=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Mt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Nn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(HN(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):qe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(fn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Iu(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Tu(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(qr),l.LFG(X,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mm=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Mt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(HN(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(qr),l.LFG(l.R0b),l.LFG(X,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),VE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[vd,yd,Uu],vd,Uu]}),n})();class BE{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class HE extends BE{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class V9 extends BE{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class AY extends BE{constructor(t){super(),this.element=t instanceof l.SBq?t.nativeElement:t}}class jE{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof HE?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof V9?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof AY?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class kY extends jE{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,_=this._document.createComment("dom-portal");h.parentNode.insertBefore(_,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(h,_)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let jN=(()=>{class n extends jE{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=s=>{const u=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(X))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),Gu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const UN=wV();class OY{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=tr(-this._previousScrollPosition.left),t.style.top=tr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),UN&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),UN&&(i.scrollBehavior=s,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class PY{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class GN{enable(){}disable(){}attach(){}}function UE(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function $N(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class NY{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();UE(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let FY=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new GN,this.close=u=>new PY(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new OY(this._viewportRuler,this._document),this.reposition=u=>new NY(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(IY),l.LFG(Mm),l.LFG(l.R0b),l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class B9{constructor(t){if(this.scrollStrategy=new GN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class LY{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class zY{constructor(t,e,i,r,s,u,h,_,C){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=u,this._document=h,this._location=_,this._outsideClickDispatcher=C,this._backdropElement=null,this._backdropClick=new Mt.x,this._attachments=new Mt.x,this._detachments=new Mt.x,this._locationChanges=Ln.w0.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._keydownEvents=new Mt.x,this._outsidePointerEvents=new Mt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,hn.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=tr(this._config.width),t.height=tr(this._config.height),t.minWidth=tr(this._config.minWidth),t.minHeight=tr(this._config.minHeight),t.maxWidth=tr(this._config.maxWidth),t.maxHeight=tr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const r=OT(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Qn((0,Dn.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.remove(),this._backdropElement===t&&(this._backdropElement=null))}}let GE=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Qw()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),Qw()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X),l.LFG(qr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qN="cdk-overlay-connected-position-bounding-box",VY=/([A-Za-z%]+)$/;class BY{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Mt.x,this._resizeSubscription=Ln.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(qN),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let u;for(let h of this._preferredPositions){let _=this._getOriginPoint(t,r,h),C=this._getOverlayPoint(_,e,h),M=this._getOverlayFit(C,e,i,h);if(M.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,_);this._canFitWithFlexibleDimensions(M,C,i)?s.push({position:h,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,h)}):(!u||u.overlayFit.visibleArea<M.visibleArea)&&(u={overlayFit:M,overlayPoint:C,originPoint:_,position:h,overlayRect:e})}if(s.length){let h=null,_=-1;for(const C of s){const M=C.boundingBoxRect.width*C.boundingBoxRect.height*(C.position.weight||1);M>_&&(_=M,h=C)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&lf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(qN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=YN(e);let{x:u,y:h}=t,_=this._getOffset(r,"x"),C=this._getOffset(r,"y");_&&(u+=_),C&&(h+=C);let O=0-h,L=h+s.height-i.height,V=this._subtractOverflows(s.width,0-u,u+s.width-i.width),Y=this._subtractOverflows(s.height,O,L),te=V*Y;return{visibleArea:te,isCompletelyWithinViewport:s.width*s.height===te,fitsInViewportVertically:Y===s.height,fitsInViewportHorizontally:V==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,u=WN(this._overlayRef.getConfig().minHeight),h=WN(this._overlayRef.getConfig().minWidth),C=t.fitsInViewportHorizontally||null!=h&&h<=s;return(t.fitsInViewportVertically||null!=u&&u<=r)&&C}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=YN(e),s=this._viewportRect,u=Math.max(t.x+r.width-s.width,0),h=Math.max(t.y+r.height-s.height,0),_=Math.max(s.top-i.top-t.y,0),C=Math.max(s.left-i.left-t.x,0);let M=0,I=0;return M=r.width<=s.width?C||-u:t.x<this._viewportMargin?s.left-i.left-t.x:0,I=r.height<=s.height?_||-h:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:M,y:I},{x:t.x+M,y:t.y+I}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new LY(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,u,h,M,I,O;if("top"===e.overlayY)u=t.y,s=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const L=Math.min(i.bottom-t.y+i.top,t.y),V=this._lastBoundingBoxSize.height;s=2*L,u=t.y-L,s>V&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-V/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)O=i.width-t.x+this._viewportMargin,M=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)I=t.x,M=i.right-t.x;else{const L=Math.min(i.right-t.x+i.left,t.x),V=this._lastBoundingBoxSize.width;M=2*L,I=t.x-L,M>V&&!this._isInitialRender&&!this._growAfterOpen&&(I=t.x-V/2)}return{top:u,left:I,bottom:h,right:O,width:M,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=tr(i.height),r.top=tr(i.top),r.bottom=tr(i.bottom),r.width=tr(i.width),r.left=tr(i.left),r.right=tr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=tr(s)),u&&(r.maxWidth=tr(u))}this._lastBoundingBoxSize=i,lf(this._boundingBox.style,r)}_resetBoundingBoxStyles(){lf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){lf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const M=this._viewportRuler.getViewportScrollPosition();lf(i,this._getExactOverlayY(e,t,M)),lf(i,this._getExactOverlayX(e,t,M))}else i.position="static";let h="",_=this._getOffset(e,"x"),C=this._getOffset(e,"y");_&&(h+=`translateX(${_}px) `),C&&(h+=`translateY(${C}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=tr(u.maxHeight):s&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=tr(u.maxWidth):s&&(i.maxWidth="")),lf(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=tr(s.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=tr(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:$N(t,i),isOriginOutsideView:UE(t,i),isOverlayClipped:$N(e,i),isOverlayOutsideView:UE(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&OT(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function lf(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function WN(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(VY);return e&&"px"!==e?null:parseFloat(t)}return n||null}function YN(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const ZN="cdk-global-overlay-wrapper";class HY{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(ZN),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:u,maxHeight:h}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),C=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h);t.position=this._cssPosition,t.marginLeft=_?"0":this._leftOffset,t.marginTop=C?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,_?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=C?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(ZN),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let jY=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new HY}flexibleConnectedTo(e){return new BY(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Mm),l.LFG(X),l.LFG(qr),l.LFG(GE))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KN=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UY=(()=>{class n extends KN{constructor(e){super(e),this._keydownListener=i=>{const r=this._attachedOverlays;for(let s=r.length-1;s>-1;s--)if(r[s]._keydownEvents.observers.length>0){r[s]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GY=(()=>{class n extends KN{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=Cd(r)},this._clickListener=r=>{const s=Cd(r),u="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const h=this._attachedOverlays.slice();for(let _=h.length-1;_>-1;_--){const C=h[_];if(!(C._outsidePointerEvents.observers.length<1)&&C.hasAttached()){if(C.overlayElement.contains(s)||C.overlayElement.contains(u))break;C._outsidePointerEvents.next(r)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(X),l.LFG(qr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$Y=0,kl=(()=>{class n{constructor(e,i,r,s,u,h,_,C,M,I,O){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=u,this._injector=h,this._ngZone=_,this._document=C,this._directionality=M,this._location=I,this._outsideClickDispatcher=O}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),u=new B9(e);return u.direction=u.direction||this._directionality.value,new zY(s,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+$Y++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new kY(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(FY),l.LFG(GE),l.LFG(l._Vd),l.LFG(jY),l.LFG(UY),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(X),l.LFG(_c),l.LFG(Ge),l.LFG(GY))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const qY=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],QN=new l.OlP("cdk-connected-overlay-scroll-strategy");let XN=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),JN=(()=>{class n{constructor(e,i,r,s,u){this._overlay=e,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ln.w0.EMPTY,this._attachSubscription=Ln.w0.EMPTY,this._detachSubscription=Ln.w0.EMPTY,this._positionSubscription=Ln.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new l.vpe,this.positionChange=new l.vpe,this.attach=new l.vpe,this.detach=new l.vpe,this.overlayKeydown=new l.vpe,this.overlayOutsideClick=new l.vpe,this._templatePortal=new V9(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Et(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Et(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Et(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Et(e)}get push(){return this._push}set push(e){this._push=Et(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=qY);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Ns(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new B9({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof XN?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function RY(n,t=!1){return(0,Tn.e)((e,i)=>{let r=0;e.subscribe(new dn.Q(i,s=>{const u=n(s,r++);(u||t)&&i.next(s),!u&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(kl),l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(QN),l.Y36(_c,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[l.TTD]}),n})();const YY={provide:QN,deps:[kl],useFactory:function WY(n){return()=>n.scrollStrategies.reposition()}};let $u=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[kl,YY],imports:[[vd,Gu,VE],VE]}),n})();class ug{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Mt.x,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const KY=["trigger"],QY=["panel"];function XY(n,t){if(1&n&&(l.TgZ(0,"span",8),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Oqu(e.placeholder)}}function JY(n,t){if(1&n&&(l.TgZ(0,"span",12),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.xp6(1),l.Oqu(e.triggerValue)}}function eZ(n,t){1&n&&l.Hsn(0,0,["*ngSwitchCase","true"])}function tZ(n,t){if(1&n&&(l.TgZ(0,"span",9),l.YNc(1,JY,2,1,"span",10),l.YNc(2,eZ,1,0,"ng-content",11),l.qZA()),2&n){const e=l.oxw();l.Q6J("ngSwitch",!!e.customTrigger),l.xp6(2),l.Q6J("ngSwitchCase",!0)}}function nZ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",13),l.TgZ(1,"div",14,15),l.NdJ("@transformPanel.done",function(r){return l.CHM(e),l.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return l.CHM(e),l.oxw()._handleKeydown(r)}),l.Hsn(3,1),l.qZA(),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("@transformPanelWrap",void 0),l.xp6(1),l.Gre("mat-select-panel ",e._getPanelTheme(),""),l.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),l.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),l.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const iZ=[[["mat-select-trigger"]],"*"],rZ=["mat-select-trigger","*"],nF={transformPanelWrap:fi("transformPanelWrap",[Kt("* => void",H_("@transformPanel",[B_()],{optional:!0}))]),transformPanel:fi("transformPanel",[Pt("void",Qe({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Pt("showing",Qe({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Pt("showing-multiple",Qe({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Kt("void => *",Zt("120ms cubic-bezier(0, 0, 0.2, 1)")),Kt("* => void",Zt("100ms 25ms linear",Qe({opacity:0})))])};let iF=0;const sF=new l.OlP("mat-select-scroll-strategy"),lZ=new l.OlP("MAT_SELECT_CONFIG"),cZ={provide:sF,deps:[kl],useFactory:function aZ(n){return()=>n.scrollStrategies.reposition()}};class uZ{constructor(t,e){this.source=t,this.value=e}}const dZ=wd(Op(h7(oM(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r}})))),hZ=new l.OlP("MatSelectTrigger");let fZ=(()=>{class n extends dZ{constructor(e,i,r,s,u,h,_,C,M,I,O,L,V,Y){var te,Oe,Be;super(u,s,_,C,I),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=h,this._parentFormField=M,this._liveAnnouncer=V,this._defaultOptions=Y,this._panelOpen=!1,this._compareWith=(Le,He)=>Le===He,this._uid="mat-select-"+iF++,this._triggerAriaLabelledBy=null,this._destroy=new Mt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+iF++,this._panelDoneAnimatingStream=new Mt.x,this._overlayPanelClass=(null===(te=this._defaultOptions)||void 0===te?void 0:te.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(Be=null===(Oe=this._defaultOptions)||void 0===Oe?void 0:Oe.disableOptionCentering)&&void 0!==Be&&Be,this.ariaLabel="",this.optionSelectionChanges=To(()=>{const Le=this.options;return Le?Le.changes.pipe(Hn(Le),In(()=>(0,Dn.T)(...Le.map(He=>He.onSelectionChange)))):this._ngZone.onStable.pipe((0,hn.q)(1),In(()=>this.optionSelectionChanges))}),this.openedChange=new l.vpe,this._openedStream=this.openedChange.pipe(fn(Le=>Le),(0,ft.U)(()=>{})),this._closedStream=this.openedChange.pipe(fn(Le=>!Le),(0,ft.U)(()=>{})),this.selectionChange=new l.vpe,this.valueChange=new l.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==Y?void 0:Y.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=Y.typeaheadDebounceInterval),this._scrollStrategyFactory=L,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(fc.required))&&void 0!==s&&s}set required(e){this._required=Et(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Et(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Et(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Aa(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new ug(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(iM(),Qn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Qn(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Hn(null),Qn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&s&&!Ns(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const h=this.selected;u.onKeydown(e);const _=this.selected;_&&h!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,u=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||Ns(e))if(!u&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const h=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(h?_.select():_.deselect())})}else{const h=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==h&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,hn.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectValue(i)),this._sortValues();else{const i=this._selectValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch(s){return!1}});return i&&this._selectionModel.select(i),i}_initKeyManager(){this._keyManager=new HV(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Qn(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Qn(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Dn.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Qn(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Dn.T)(...this.options.map(i=>i._stateChanges)).pipe(Qn(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Mm),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(Pp),l.Y36(l.SBq),l.Y36(_c,8),l.Y36(Cu,8),l.Y36(mc,8),l.Y36(r4,8),l.Y36(Rs,10),l.$8M("tabindex"),l.Y36(sF),l.Y36(oB),l.Y36(lZ,8))},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,i){if(1&e&&(l.Gf(KY,5),l.Gf(QY,5),l.Gf(JN,5)),2&e){let r;l.iGM(r=l.CRH())&&(i.trigger=r.first),l.iGM(r=l.CRH())&&(i.panel=r.first),l.iGM(r=l.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[l.qOj,l.TTD]}),n})(),pZ=(()=>{class n extends fZ{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Qn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,hn.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=dM(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function aA(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new uZ(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let C=this._selectionModel.selected[0]||this.options.first;u=C&&C.group?32:16}r||(u*=-1);const h=0-(e.left+u-(r?s:0)),_=e.right+u-i.width+(r?0:s);h>0?u+=h+8:_>0&&(u-=_+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),u=(s-this._triggerRect.height)/2,h=Math.floor(256/s);let _;return this.disableOptionCentering?0:(_=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-h))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*_-u))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,h=Math.abs(this._offsetY),C=Math.min(this._getItemCount()*i,256)-h-this._triggerRect.height;C>u?this._adjustPanelUp(C,u):h>s?this._adjustPanelDown(h,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),u=i*e-r;let h;h=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),h+=dM(h,this.options,this.optionGroups);const _=r/2;this._scrollTop=this._calculateOverlayScroll(h,_,u),this._offsetY=this._calculateOverlayOffsetY(h,_,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,hZ,5),l.Suo(r,oA,5),l.Suo(r,rA,5)),2&e){let s;l.iGM(s=l.CRH())&&(i.customTrigger=s.first),l.iGM(s=l.CRH())&&(i.options=s),l.iGM(s=l.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&l.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(l.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),l.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[l._Bn([{provide:t4,useExisting:n},{provide:iA,useExisting:n}]),l.qOj],ngContentSelectors:rZ,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(l.F$t(iZ),l.TgZ(0,"div",0,1),l.NdJ("click",function(){return i.toggle()}),l.TgZ(3,"div",2),l.YNc(4,XY,2,1,"span",3),l.YNc(5,tZ,3,2,"span",4),l.qZA(),l.TgZ(6,"div",5),l._UZ(7,"div",6),l.qZA(),l.qZA(),l.YNc(8,nZ,4,14,"ng-template",7),l.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=l.MAs(1);l.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),l.xp6(3),l.Q6J("ngSwitch",i.empty),l.uIk("id",i._valueId),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1),l.xp6(3),l.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[XN,qi,Wi,Tc,JN,$s],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[nF.transformPanelWrap,nF.transformPanel]},changeDetection:0}),n})(),qE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[cZ],imports:[[Cn,$u,f7,pt],Uu,s4,f7,pt]}),n})(),mZ=(()=>{class n{constructor(e,i){this.router=e,this.authService=i,this.name=null,this.photo=null}ngOnInit(){}logOut(){this.authService.logOut()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(di),l.Y36(gd))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-nav-bar"]],inputs:{name:"name",photo:"photo"},decls:25,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["href","/nft-list",1,"navbar-brand","m-3"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["href","/nft-list",1,"nav-link"],["href","/create",1,"nav-link","disabled"],["href","/generate",1,"nav-link","disabled"],[1,"rounded-circle","profile",3,"src"],["appearance","legacy"],["type","button",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"nav",0),l.TgZ(1,"div",1),l.TgZ(2,"a",2),l._uU(3,"NFT - platform"),l.qZA(),l.TgZ(4,"button",3),l._UZ(5,"span",4),l.qZA(),l.TgZ(6,"div",5),l.TgZ(7,"ul",6),l.TgZ(8,"li",7),l.TgZ(9,"a",8),l._uU(10,"All NFTs"),l.qZA(),l.qZA(),l.TgZ(11,"li",7),l.TgZ(12,"a",9),l._uU(13,"Create"),l.qZA(),l.qZA(),l.TgZ(14,"li",7),l.TgZ(15,"a",10),l._uU(16,"Generate"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(17,"section"),l._UZ(18,"img",11),l.TgZ(19,"mat-form-field",12),l.TgZ(20,"mat-label"),l._uU(21),l.qZA(),l.TgZ(22,"mat-select"),l.TgZ(23,"mat-option",13),l.NdJ("click",function(){return i.logOut()}),l._uU(24," Log out "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(18),l.Q6J("src",i.photo,l.LSH),l.xp6(3),l.Oqu(i.name))},directives:[hM,n4,pZ,oA],styles:[".profile[_ngcontent-%COMP%]{width:50px;height:50px;position:relative;right:5%;top:0%}"]}),n})();function gZ(n,t){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"app-nav-bar",1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Q6J("name",e.name)("photo",e.img)}}let _Z=(()=>{class n{constructor(e,i,r){this.afAuth=e,this.router=i,this.authService=r,this.name=null,this.access=!1,this.img=null,this.afAuth.onAuthStateChanged(s=>{s?(this.authService.setCurrentUser(s),this.name=this.authService.getUserName(),this.img=this.authService.getUserPhoto(),console.log(this.img),this.access=!0):(this.access=!1,this.router.navigate(["login"]))})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(S2),l.Y36(di),l.Y36(gd))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"],[3,"name","photo"]],template:function(e,i){1&e&&(l.YNc(0,gZ,2,2,"div",0),l._UZ(1,"router-outlet")),2&e&&l.Q6J("ngIf",i.access)},directives:[Mi,mZ,ru],styles:[""]}),n})(),WE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[vd]]}),n})(),rS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[VE]]}),n})(),Im=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ka,pt],pt]}),n})(),fF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),pF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ka,pt,O2,fF],pt,fF]}),n})(),mF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pt],pt]}),n})(),CF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[rS,pt],pt]}),n})(),wF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Cn,pt,yd,Uu],Uu,pt]}),n})(),lS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pt],pt]}),n})(),PF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Cn,pt,Gu,ka,O2,J3],pt]}),n})(),FK=(()=>{class n{constructor(){this.changes=new Mt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VK={provide:new l.OlP("mat-datepicker-scroll-strategy"),deps:[kl],useFactory:function zK(n){return()=>n.scrollStrategies.reposition()}};let zF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[FK,VK],imports:[[Cn,Im,$u,J3,Gu,pt],Uu]}),n})(),jF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ka,pt],pt]}),n})();function nQ(n,t){if(1&n&&(l.O4$(),l._UZ(0,"circle",4)),2&n){const e=l.oxw(),i=l.MAs(1);l.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),l.uIk("r",e._getCircleRadius())}}function iQ(n,t){if(1&n&&(l.O4$(),l._UZ(0,"circle",4)),2&n){const e=l.oxw(),i=l.MAs(1);l.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),l.uIk("r",e._getCircleRadius())}}const sQ=Rp(class{constructor(n){this._elementRef=n}},"primary"),oQ=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function aQ(){return{diameter:100}}});class Hd extends sQ{constructor(t,e,i,r,s,u,h,_){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Ln.w0.EMPTY,this.mode="determinate";const C=Hd._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),C.has(i.head)||C.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),e.isBrowser&&e.SAFARI&&h&&u&&_&&(this._resizeSubscription=h.change(150).subscribe(()=>{"indeterminate"===this.mode&&_.run(()=>u.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=Aa(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Aa(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Aa(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=IT(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){var e;const i=50*(null!==(e=t.currentScale)&&void 0!==e?e:1);return`${i}% ${i}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=Hd._diameters;let r=i.get(t);if(!r||!r.has(e)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),t.appendChild(s),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Hd._diameters=new WeakMap,Hd.\u0275fac=function(t){return new(t||Hd)(l.Y36(l.SBq),l.Y36(qr),l.Y36(X,8),l.Y36(Ho,8),l.Y36(oQ),l.Y36(l.sBO),l.Y36(Mm),l.Y36(l.R0b))},Hd.\u0275cmp=l.Xpm({type:Hd,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(l.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),l.Udp("width",e.diameter,"px")("height",e.diameter,"px"),l.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(l.O4$(),l.TgZ(0,"svg",0,1),l.YNc(2,nQ,1,11,"circle",2),l.YNc(3,iQ,1,9,"circle",3),l.qZA()),2&t&&(l.Udp("width",e.diameter,"px")("height",e.diameter,"px"),l.Q6J("ngSwitch","indeterminate"===e.mode),l.uIk("viewBox",e._getViewBox()),l.xp6(2),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1))},directives:[qi,Wi],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let UF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pt,Cn],pt]}),n})();const hQ={provide:new l.OlP("mat-menu-scroll-strategy"),deps:[kl],useFactory:function dQ(n){return()=>n.scrollStrategies.reposition()}};let $F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[hQ],imports:[[Cn,pt,ka,$u],Uu,pt]}),n})(),uS=(()=>{class n{constructor(){this.changes=new Mt.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pQ={provide:uS,deps:[[new l.FiY,new l.tp0,uS]],useFactory:function fQ(n){return n||new uS}};let qF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[pQ],imports:[[Cn,pt]]}),n})();const CQ={provide:new l.OlP("mat-autocomplete-scroll-strategy"),deps:[kl],useFactory:function bQ(n){return()=>n.scrollStrategies.reposition()}};let ZF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[CQ],imports:[[$u,f7,pt,Cn],Uu,f7,pt]}),n})(),eL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pt,ka],pt]}),n})();const rL=new l.OlP("mat-chips-default-options");let sL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Pp,{provide:rL,useValue:{separatorKeyCodes:[13]}}],imports:[[pt]]}),n})();function UQ(n,t){}class hS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const GQ={dialogContainer:fi("dialogContainer",[Pt("void, exit",Qe({opacity:0,transform:"scale(0.7)"})),Pt("enter",Qe({transform:"none"})),Kt("* => enter",Zt("150ms cubic-bezier(0, 0, 0.2, 1)",Qe({transform:"none",opacity:1}))),Kt("* => void, * => exit",Zt("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Qe({opacity:0})))])};let $Q=(()=>{class n extends jE{constructor(e,i,r,s,u,h,_,C){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=u,this._interactivityChecker=h,this._ngZone=_,this._focusMonitor=C,this._animationStateChanged=new l.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=M=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(M)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{e.addEventListener("blur",()=>e.removeAttribute("tabindex")),e.addEventListener("mousedown",()=>e.removeAttribute("tabindex"))})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=Kw(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Kw())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Kw();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(JV),l.Y36(l.sBO),l.Y36(X,8),l.Y36(hS),l.Y36(VT),l.Y36(l.R0b),l.Y36(P2))},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,i){if(1&e&&l.Gf(jN,7),2&e){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},features:[l.qOj]}),n})(),qQ=(()=>{class n extends $Q{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&l.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(l.Ikx("id",i._id),l.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),l.d8E("@dialogContainer",i._state))},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&l.YNc(0,UQ,0,0,"ng-template",0)},directives:[jN],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[GQ.dialogContainer]}}),n})(),WQ=0;class YQ{constructor(t,e,i="mat-dialog-"+WQ++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Mt.x,this._afterClosed=new Mt.x,this._beforeClosed=new Mt.x,this._state=0,e._id=i,e._animationStateChanged.pipe(fn(r=>"opened"===r.state),(0,hn.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(fn(r=>"closed"===r.state),(0,hn.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(fn(r=>27===r.keyCode&&!this.disableClose&&!Ns(r))).subscribe(r=>{r.preventDefault(),oL(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():oL(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(fn(e=>"closing"===e.state),(0,hn.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function oL(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const ZQ=new l.OlP("MatDialogData"),KQ=new l.OlP("mat-dialog-default-options"),aL=new l.OlP("mat-dialog-scroll-strategy"),XQ={provide:aL,deps:[kl],useFactory:function QQ(n){return()=>n.scrollStrategies.block()}};let JQ=(()=>{class n{constructor(e,i,r,s,u,h,_,C,M,I){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=u,this._dialogRefConstructor=_,this._dialogContainerType=C,this._dialogDataToken=M,this._animationMode=I,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Mt.x,this._afterOpenedAtThisLevel=new Mt.x,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=To(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Hn(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){if(i=function tX(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new hS),i.id&&this.getDialogById(i.id),this._dialogAnimatingOpen)return this._lastDialogRef;const r=this._createOverlay(i),s=this._attachDialogContainer(r,i);if("NoopAnimations"!==this._animationMode){const h=s._animationStateChanged.subscribe(_=>{"opening"===_.state&&(this._dialogAnimatingOpen=!0),"opened"===_.state&&(this._dialogAnimatingOpen=!1,h.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new Ln.w0),this._animationStateSubscriptions.add(h)}const u=this._attachDialogContent(e,s,r,i);return this._lastDialogRef=u,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),s._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new B9({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const s=l.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:hS,useValue:i}]}),u=new HE(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return e.attach(u).instance}_attachDialogContent(e,i,r,s){const u=new this._dialogRefConstructor(r,i,s.id);if(e instanceof l.Rgc)i.attachTemplatePortal(new V9(e,null,{$implicit:s.data,dialogRef:u}));else{const h=this._createInjector(s,u,i),_=i.attachComponentPortal(new HE(e,s.viewContainerRef,h));u.componentInstance=_.instance}return u.updateSize(s.width,s.height).updatePosition(s.position),u}_createInjector(e,i,r){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!s||!s.get(_c,null,l.XFs.Optional))&&u.push({provide:_c,useValue:{value:e.direction,change:qe()}}),l.zs3.create({parent:s||this._injector,providers:u})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275dir=l.lG2({type:n}),n})(),eX=(()=>{class n extends JQ{constructor(e,i,r,s,u,h,_,C){super(e,i,s,h,_,u,YQ,qQ,ZQ,C)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(kl),l.LFG(l.zs3),l.LFG(Ge,8),l.LFG(KQ,8),l.LFG(aL),l.LFG(n,12),l.LFG(GE),l.LFG(Ho,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),lL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[eX,XQ],imports:[[$u,Gu,pt],pt]}),n})(),nX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),uL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Cn,pt,nX,Gu]]}),n})(),iX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pt],pt]}),n})(),hL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[KT,ka,pt,uM,Cn],KT,pt,uM,iX]}),n})(),pL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Cn,pt],pt]}),n})(),mL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),gL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[mL,ka,pt,O2],mL,pt]}),n})(),_L=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[$u,Gu,Cn,Im,pt],pt]}),n})(),pS=(()=>{class n{constructor(){this.changes=new Mt.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JX={provide:pS,deps:[[new l.FiY,new l.tp0,pS]],useFactory:function XX(n){return n||new pS}};let yL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[JX,Pp],imports:[[pt,Cn,Gu,Im,WE,lS,ka],pt]}),n})();const iJ={provide:new l.OlP("mat-tooltip-scroll-strategy"),deps:[kl],useFactory:function nJ(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let mS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[iJ],imports:[[J3,Cn,$u,pt],pt,Uu]}),n})(),bL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Cn,pt],pt]}),n})(),gS=(()=>{class n{constructor(){this.changes=new Mt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=e*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uJ={provide:gS,deps:[[new l.FiY,new l.tp0,gS]],useFactory:function cJ(n){return n||new gS}};let CL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[uJ],imports:[[Cn,Im,qE,mS,pt]]}),n})();const dJ=[Cn,J3,vd,O2,$u,yd,Gu,WE,rS,Im,pF,mF,lS,CF,s4,wF,PF,vA,zF,ZT,jF,cA,$F,CL,qF,ZF,eL,sL,lL,uL,hL,bL,UF,ka,qE,pL,gL,_L,yL,mS];let hJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[dJ],Cn,J3,vd,O2,$u,yd,Gu,WE,rS,Im,pF,mF,lS,CF,s4,wF,PF,vA,zF,ZT,jF,cA,$F,CL,qF,ZF,eL,sL,lL,uL,hL,bL,UF,ka,qE,pL,gL,_L,yL,mS]}),n})();const wL_firebase={apiKey:"AIzaSyBEcO195Jn4nQgbm1_zgqf5lnnNWXn5baY",authDomain:"nft-platform-79b30.firebaseapp.com",projectId:"nft-platform-79b30",storageBucket:"nft-platform-79b30.appspot.com",messagingSenderId:"352107754660",appId:"1:352107754660:web:b1ea9647868e7fc61f2231",measurementId:"G-XDEC0EPKTQ"};class fJ{constructor(t,e){this.open=t,this.close=e||t}isManual(){return"manual"===this.open||"manual"===this.close}}const pJ={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const _i="undefined"!=typeof window&&window||{};let Wo;function _S(){if(void 0===_i.document)return"bs4";const n=_i.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),_i.document.head.appendChild(n);const t=n.getBoundingClientRect(),e=_i.getComputedStyle(n).paddingLeft;return!t||t&&0!==t.top?(_i.document.head.removeChild(n),"bs3"):e&&parseFloat(e)?(_i.document.head.removeChild(n),"bs4"):(_i.document.head.removeChild(n),"bs5")}function vS(){return void 0===_i||(void 0===_i.__theme?(Wo||(Wo=_S()),"bs3"===Wo):"bs3"===_i.__theme)}function DL(){return!vS()&&(Wo||(Wo=_S()),"bs4"===Wo)}function vg(){return{isBs3:vS(),isBs4:DL(),isBs5:!vS()&&!DL()&&(Wo||(Wo=_S()),"bs5"===Wo)}}"undefined"==typeof console||console;var nv=(()=>(function(n){n.top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top"}(nv||(nv={})),nv))(),yg=(()=>(function(n){n.top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top"}(yg||(yg={})),yg))();function uf(n,t){if(1!==n.nodeType)return[];const e=n.ownerDocument.defaultView,i=null==e?void 0:e.getComputedStyle(n,null);return t?i&&i[t]:i}function yS(n){if(!n)return document.documentElement;let i,e=null==n?void 0:n.offsetParent;for(;null===e&&n.nextElementSibling&&i!==n.nextElementSibling;)i=n.nextElementSibling,e=i.offsetParent;const r=e&&e.nodeName;return r&&"BODY"!==r&&"HTML"!==r?e&&-1!==["TH","TD","TABLE"].indexOf(e.nodeName)&&"static"===uf(e,"position")?yS(e):e:i?i.ownerDocument.documentElement:document.documentElement}function bS(n){return null!==n.parentNode?bS(n.parentNode):n}function iv(n,t){if(!(n&&n.nodeType&&t&&t.nodeType))return document.documentElement;const e=n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=e?n:t,r=e?t:n,s=document.createRange();s.setStart(i,0),s.setEnd(r,0);const u=s.commonAncestorContainer;if(n!==u&&t!==u||i.contains(r))return function wJ(n){const{nodeName:t}=n;return"BODY"!==t&&("HTML"===t||yS(n.firstElementChild)===n)}(u)?u:yS(u);const h=bS(n);return h.host?iv(h.host,t):iv(n,bS(t).host)}function EL(n){if(!n||!n.parentElement)return document.documentElement;let t=n.parentElement;for(;(null==t?void 0:t.parentElement)&&"none"===uf(t,"transform");)t=t.parentElement;return t||document.documentElement}function SL(n,t){const e="x"===t?"Left":"Top",i="Left"===e?"Right":"Bottom";return parseFloat(n[`border${e}Width`])+parseFloat(n[`border${i}Width`])}function IL(n,t,e,i){return Math.max(t[`offset${n}`],t[`scroll${n}`],e[`client${n}`],e[`offset${n}`],e[`scroll${n}`],0)}function TL(n){const t=n.body,e=n.documentElement;return{height:IL("Height",t,e),width:IL("Width",t,e)}}function bg(n){return Object.assign(Object.assign({},n),{right:(n.left||0)+n.width,bottom:(n.top||0)+n.height})}function vi(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function AL(n){const t=n.getBoundingClientRect();if(!(t&&vi(t.top)&&vi(t.left)&&vi(t.bottom)&&vi(t.right)))return t;const e={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===n.nodeName?TL(n.ownerDocument):void 0,r=(null==i?void 0:i.width)||n.clientWidth||vi(t.right)&&vi(e.left)&&t.right-e.left||0,s=(null==i?void 0:i.height)||n.clientHeight||vi(t.bottom)&&vi(e.top)&&t.bottom-e.top||0;let u=n.offsetWidth-r,h=n.offsetHeight-s;if(u||h){const _=uf(n);u-=SL(_,"x"),h-=SL(_,"y"),e.width-=u,e.height-=h}return bg(e)}function CS(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function wS(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:t,overflowX:e,overflowY:i}=uf(n);return/(auto|scroll|overlay)/.test(String(t)+String(i)+String(e))?n:wS(CS(n))}function MS(n,t,e=!1){var i,r,s,u,h,_;const C="HTML"===t.nodeName,M=AL(n),I=AL(t),L=(wS(n),uf(t)),V=parseFloat(L.borderTopWidth),Y=parseFloat(L.borderLeftWidth);e&&C&&(I.top=Math.max(null!==(i=I.top)&&void 0!==i?i:0,0),I.left=Math.max(null!==(r=I.left)&&void 0!==r?r:0,0));const te=bg({top:(null!==(s=M.top)&&void 0!==s?s:0)-(null!==(u=I.top)&&void 0!==u?u:0)-V,left:(null!==(h=M.left)&&void 0!==h?h:0)-(null!==(_=I.left)&&void 0!==_?_:0)-Y,width:M.width,height:M.height});if(te.marginTop=0,te.marginLeft=0,C){const Oe=parseFloat(L.marginTop),Be=parseFloat(L.marginLeft);vi(te.top)&&(te.top-=V-Oe),vi(te.bottom)&&(te.bottom-=V-Oe),vi(te.left)&&(te.left-=Y-Be),vi(te.right)&&(te.right-=Y-Be),te.marginTop=Oe,te.marginLeft=Be}return te}function kL(n,t="top"){const e="top"===t?"scrollTop":"scrollLeft",i=n.nodeName;if("BODY"===i||"HTML"===i){const r=n.ownerDocument.documentElement;return(n.ownerDocument.scrollingElement||r)[e]}return n[e]}function RL(n){const t=n.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===uf(n,"position")||RL(CS(n)))}function DS(n,t,e=0,i,r=!1){let s={top:0,left:0};const u=r?EL(n):iv(n,t);if("viewport"===i)s=function DJ(n,t=!1){const e=n.ownerDocument.documentElement,i=MS(n,e),r=Math.max(e.clientWidth,window.innerWidth||0),s=Math.max(e.clientHeight,window.innerHeight||0),u=t?0:kL(e),h=t?0:kL(e,"left");return bg({top:u-Number(null==i?void 0:i.top)+Number(null==i?void 0:i.marginTop),left:h-Number(null==i?void 0:i.left)+Number(null==i?void 0:i.marginLeft),width:r,height:s})}(u,r);else{let h;"scrollParent"===i?(h=wS(CS(t)),"BODY"===h.nodeName&&(h=n.ownerDocument.documentElement)):h="window"===i?n.ownerDocument.documentElement:i;const _=MS(h,u,r);if(_&&"HTML"===h.nodeName&&!RL(u)){const{height:C,width:M}=TL(n.ownerDocument);vi(s.top)&&vi(_.top)&&vi(_.marginTop)&&(s.top+=_.top-_.marginTop),vi(s.top)&&(s.bottom=Number(C)+Number(_.top)),vi(s.left)&&vi(_.left)&&vi(_.marginLeft)&&(s.left+=_.left-_.marginLeft),vi(s.top)&&(s.right=Number(M)+Number(_.left))}else _&&(s=_)}return vi(s.left)&&(s.left+=e),vi(s.top)&&(s.top+=e),vi(s.right)&&(s.right-=e),vi(s.bottom)&&(s.bottom-=e),s}function xJ({width:n,height:t}){return n*t}function OL(n,t,e,i,r=["top","bottom","right","left"],s="viewport",u=0){var h,_,C,M,I,O,L,V,Y,te,Oe,Be;if(-1===n.indexOf("auto"))return n;const Le=DS(e,i,u,s),He={top:{width:null!==(h=null==Le?void 0:Le.width)&&void 0!==h?h:0,height:(null!==(_=null==t?void 0:t.top)&&void 0!==_?_:0)-(null!==(C=null==Le?void 0:Le.top)&&void 0!==C?C:0)},right:{width:(null!==(M=null==Le?void 0:Le.right)&&void 0!==M?M:0)-(null!==(I=null==t?void 0:t.right)&&void 0!==I?I:0),height:null!==(O=null==Le?void 0:Le.height)&&void 0!==O?O:0},bottom:{width:null!==(L=null==Le?void 0:Le.width)&&void 0!==L?L:0,height:(null!==(V=null==Le?void 0:Le.bottom)&&void 0!==V?V:0)-(null!==(Y=null==t?void 0:t.bottom)&&void 0!==Y?Y:0)},left:{width:(null!==(te=t.left)&&void 0!==te?te:0)-(null!==(Oe=null==Le?void 0:Le.left)&&void 0!==Oe?Oe:0),height:null!==(Be=null==Le?void 0:Le.height)&&void 0!==Be?Be:0}},It=Object.keys(He).map(ei=>Object.assign(Object.assign({position:ei},He[ei]),{area:xJ(He[ei])})).sort((ei,yi)=>yi.area-ei.area);let jt=It.filter(({width:ei,height:yi})=>ei>=e.clientWidth&&yi>=e.clientHeight);jt=jt.filter(({position:ei})=>r.some(yi=>yi===ei));const un=jt.length>0?jt[0].position:It[0].position,Sr=n.split(" ")[1];return e.className=e.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${vg().isBs5?yg[un]:un}`),un+(Sr?`-${Sr}`:"")}const rv=(n,t=0)=>n?parseFloat(n):t;function PL(n){const t=n.ownerDocument.defaultView,e=null==t?void 0:t.getComputedStyle(n),i=rv(null==e?void 0:e.marginTop)+rv(null==e?void 0:e.marginBottom),r=rv(null==e?void 0:e.marginLeft)+rv(null==e?void 0:e.marginRight);return{width:Number(n.offsetWidth)+r,height:Number(n.offsetHeight)+i}}function NL(n,t,e){return MS(t,e?EL(n):iv(n,t),e)}function xS(n,t,e){var i,r,s;const u=e.split(" ")[0],h=PL(n),_={width:h.width,height:h.height},C=-1!==["right","left"].indexOf(u),M=C?"top":"left",I=C?"left":"top",O=C?"height":"width",L=C?"width":"height";return _[M]=(null!==(i=t[M])&&void 0!==i?i:0)+t[O]/2-h[O]/2,_[I]=u===I?(null!==(r=t[I])&&void 0!==r?r:0)-h[L]:null!==(s=t[function SJ(n){const t={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,e=>t[e])}(I)])&&void 0!==s?s:0,_}function FL(n,t){var e;return!!(null===(e=n.modifiers[t])||void 0===e?void 0:e.enabled)}const TJ={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function sv(n,t){return!!vg().isBs5&&TJ[t].includes(n)}function LL(n,t,e){!n||!t||Object.keys(t).forEach(i=>{let r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&function MJ(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(t[i])&&(r="px"),e?e.setStyle(n,i,`${String(t[i])}${r}`):n.style[i]=String(t[i])+r})}function RJ(n){var t,e,i,r,s,u;let h=n.offsets.target;const _=n.instance.target.querySelector(".arrow");if(!_)return n;const C=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),M=C?"height":"width",I=C?"Top":"Left",O=I.toLowerCase(),L=C?"left":"top",V=C?"bottom":"right",Y=PL(_)[M],te=n.placement.split(" ")[1];(null!==(t=n.offsets.host[V])&&void 0!==t?t:0)-Y<(null!==(e=h[O])&&void 0!==e?e:0)&&(h[O]-=(null!==(i=h[O])&&void 0!==i?i:0)-((null!==(r=n.offsets.host[V])&&void 0!==r?r:0)-Y)),Number(n.offsets.host[O])+Number(Y)>(null!==(s=h[V])&&void 0!==s?s:0)&&(h[O]+=Number(n.offsets.host[O])+Number(Y)-Number(h[V])),h=bg(h);const Oe=uf(n.instance.target),Be=parseFloat(Oe[`margin${I}`])||0,Le=parseFloat(Oe[`border${I}Width`])||0;let He;if(te){const jt=parseFloat(Oe.borderRadius)||0,un=Number(Be+Le+jt);He=O===te?Number(n.offsets.host[O])+un:Number(n.offsets.host[O])+Number(n.offsets.host[M]-un)}else He=Number(n.offsets.host[O])+Number(n.offsets.host[M]/2-Y/2);let It=He-(null!==(u=h[O])&&void 0!==u?u:0)-Be-Le;return It=Math.max(Math.min(h[M]-(Y+5),It),0),n.offsets.arrow={[O]:Math.round(It),[L]:""},n.instance.arrow=_,n}function OJ(n){if(n.offsets.target=bg(n.offsets.target),!FL(n.options,"flip"))return n.offsets.target=Object.assign(Object.assign({},n.offsets.target),xS(n.instance.target,n.offsets.host,n.placement)),n;const t=DS(n.instance.target,n.instance.host,0,"viewport",!1);let e=n.placement.split(" ")[0],i=n.placement.split(" ")[1]||"";const h=OL("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),_=[e,h];return _.forEach((C,M)=>{var I,O,L,V,Y,te,Oe,Be,Le,He,It,jt,un,Sr,ei,yi;if(e!==C||_.length===M+1)return;e=n.placement.split(" ")[0];const wg="left"===e&&Math.floor(null!==(I=n.offsets.target.right)&&void 0!==I?I:0)>Math.floor(null!==(O=n.offsets.host.left)&&void 0!==O?O:0)||"right"===e&&Math.floor(null!==(L=n.offsets.target.left)&&void 0!==L?L:0)<Math.floor(null!==(V=n.offsets.host.right)&&void 0!==V?V:0)||"top"===e&&Math.floor(null!==(Y=n.offsets.target.bottom)&&void 0!==Y?Y:0)>Math.floor(null!==(te=n.offsets.host.top)&&void 0!==te?te:0)||"bottom"===e&&Math.floor(null!==(Oe=n.offsets.target.top)&&void 0!==Oe?Oe:0)<Math.floor(null!==(Be=n.offsets.host.bottom)&&void 0!==Be?Be:0),Ud=Math.floor(null!==(Le=n.offsets.target.left)&&void 0!==Le?Le:0)<Math.floor(null!==(He=t.left)&&void 0!==He?He:0),Dc=Math.floor(null!==(It=n.offsets.target.right)&&void 0!==It?It:0)>Math.floor(null!==(jt=t.right)&&void 0!==jt?jt:0),Mg=Math.floor(null!==(un=n.offsets.target.top)&&void 0!==un?un:0)<Math.floor(null!==(Sr=t.top)&&void 0!==Sr?Sr:0),Dg=Math.floor(null!==(ei=n.offsets.target.bottom)&&void 0!==ei?ei:0)>Math.floor(null!==(yi=t.bottom)&&void 0!==yi?yi:0),st="left"===e&&Ud||"right"===e&&Dc||"top"===e&&Mg||"bottom"===e&&Dg,vt=-1!==["top","bottom"].indexOf(e),St=vt&&"left"===i&&Ud||vt&&"right"===i&&Dc||!vt&&"left"===i&&Mg||!vt&&"right"===i&&Dg;(wg||st||St)&&((wg||st)&&(e=_[M+1]),St&&(i=function IJ(n){return"right"===n?"left":"left"===n?"right":n}(i)),n.placement=e+(i?` ${i}`:""),n.offsets.target=Object.assign(Object.assign({},n.offsets.target),xS(n.instance.target,n.offsets.host,n.placement)))}),n}function NJ(n){var t;if(!FL(n.options,"preventOverflow"))return n;const e="transform",i=n.instance.target.style,{top:r,left:s,[e]:u}=i;i.top="",i.left="",i[e]="";const h=DS(n.instance.target,n.instance.host,0,(null===(t=n.options.modifiers.preventOverflow)||void 0===t?void 0:t.boundariesElement)||"scrollParent",!1);i.top=r,i.left=s,i[e]=u;const C={primary(M){var I,O,L,V;let Y=n.offsets.target[M];return(null!==(I=n.offsets.target[M])&&void 0!==I?I:0)<(null!==(O=h[M])&&void 0!==O?O:0)&&(Y=Math.max(null!==(L=n.offsets.target[M])&&void 0!==L?L:0,null!==(V=h[M])&&void 0!==V?V:0)),{[M]:Y}},secondary(M){var I,O,L,V;const Y="right"===M,te=Y?"left":"top";let Be=n.offsets.target[te];return(null!==(I=n.offsets.target[M])&&void 0!==I?I:0)>(null!==(O=h[M])&&void 0!==O?O:0)&&(Be=Math.min(null!==(L=n.offsets.target[te])&&void 0!==L?L:0,(null!==(V=h[M])&&void 0!==V?V:0)-n.offsets.target[Y?"width":"height"])),{[te]:Be}}};return["left","right","top","bottom"].forEach(M=>{const I=-1!==["left","top","start"].indexOf(M)?C.primary:C.secondary;n.offsets.target=Object.assign(Object.assign({},n.offsets.target),I(M))}),n}function FJ(n){var t;const e=n.placement,i=e.split(" ")[0],r=e.split(" ")[1];if(r){const{host:s,target:u}=n.offsets,h=-1!==["bottom","top"].indexOf(i),_=h?"left":"top",C=h?"width":"height",M={start:{[_]:s[_]},end:{[_]:(null!==(t=s[_])&&void 0!==t?t:0)+s[C]-u[C]}};n.offsets.target=Object.assign(Object.assign({},u),{[_]:_===r?M.start[_]:M.end[_]})}return n}const zJ=new class LJ{position(t,e){return this.offset(t,e)}offset(t,e){return NL(e,t)}positionElements(t,e,i,r,s){const u=[OJ,FJ,NJ,RJ],_=function PJ(n,t,e,i){if(!n||!t)return;const r=NL(n,t);!e.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!e.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(e="auto");const s=!!e.match(/auto/g);let u=e.match(/auto\s(left|right|top|bottom|start|end)/)?e.split(" ")[1]||"auto":e;const h=u.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return h&&(u=h[1]+(h[2]?` ${h[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(u)&&(u="auto"),u=OL(u,r,n,t,i?i.allowedPositions:void 0),{options:i||{modifiers:{}},instance:{target:n,host:t,arrow:void 0},offsets:{target:xS(n,r,u),host:r,arrow:void 0},positionFixed:!1,placement:u,placementAuto:s}}(e,t,nv[i],s);if(_)return u.reduce((C,M)=>M(C),_)}};function VJ(n,t,e,i,r,s){const u=zJ.positionElements(n,t,e,i,r);if(!u)return;const h=function EJ(n){var t,e,i,r;return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(null!==(t=n.offsets.target.left)&&void 0!==t?t:0),top:Math.round(null!==(e=n.offsets.target.top)&&void 0!==e?e:0),bottom:Math.round(null!==(i=n.offsets.target.bottom)&&void 0!==i?i:0),right:Math.floor(null!==(r=n.offsets.target.right)&&void 0!==r?r:0)}}(u);LL(t,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${h.left}px, ${h.top}px, 0px)`},s),u.instance.arrow&&LL(u.instance.arrow,u.offsets.arrow,s),function kJ(n,t){const e=n.instance.target;let i=e.className;const r=vg().isBs5?yg[n.placement]:n.placement;n.placementAuto&&(i=i.replace(/bs-popover-auto/g,`bs-popover-${r}`),i=i.replace(/ms-2|me-2|mb-2|mt-2/g,""),i=i.replace(/bs-tooltip-auto/g,`bs-tooltip-${r}`),i=i.replace(/\sauto/g,` ${r}`),-1!==i.indexOf("popover")&&(i=i+" "+function AJ(n){return vg().isBs5?sv(n,"end")?"ms-2":sv(n,"start")?"me-2":sv(n,"top")?"mb-2":sv(n,"bottom")?"mt-2":"":""}(r)),-1!==i.indexOf("popover")&&-1===i.indexOf("popover-auto")&&(i+=" popover-auto"),-1!==i.indexOf("tooltip")&&-1===i.indexOf("tooltip-auto")&&(i+=" tooltip-auto")),i=i.replace(/left|right|top|bottom|end|start/g,`${r.split(" ")[0]}`),t?t.setAttribute(e,"class",i):e.className=i}(u,s)}let zL=(()=>{class n{constructor(e,i,r){this.update$$=new Mt.x,this.positionElements=new Map,this.isDisabled=!1,Fi(r)&&e.runOutsideAngular(()=>{this.triggerEvent$=(0,Dn.T)(Tu(window,"scroll",{passive:!0}),Tu(window,"resize",{passive:!0}),qe(0,zN),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(s=>{VJ(ov(s.target),ov(s.element),s.attachment,s.appendToBody,this.options,i.createRenderer(null,null))})})})}position(e){this.addPositionElement(e)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(e){this.positionElements.set(ov(e.element),e)}calcPosition(){this.update$$.next(null)}deletePositionElement(e){this.positionElements.delete(ov(e))}setOptions(e){this.options=e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(l.FYo),l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ov(n){return"string"==typeof n?document.querySelector(n):n instanceof l.SBq?n.nativeElement:null!=n?n:null}class Cg{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}class BJ{constructor(t,e,i,r,s,u,h,_){this._viewContainerRef=t,this._renderer=e,this._elementRef=i,this._injector=r,this._componentFactoryResolver=s,this._ngZone=u,this._applicationRef=h,this._posService=_,this.onBeforeShow=new l.vpe,this.onShown=new l.vpe,this.onBeforeHide=new l.vpe,this.onHidden=new l.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}to(t){return this.container=t||this.container,this}position(t){return t?(this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this):this}provide(t){return this._providers.push(t),this}show(t={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);const e=l.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof l.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const i=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!i)return;i.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(t){var e,i,r,s,u,h;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const _=this._componentRef.location.nativeElement;return null===(e=_.parentNode)||void 0===e||e.removeChild(_),null===(r=null===(i=this._contentRef)||void 0===i?void 0:i.componentRef)||void 0===r||r.destroy(),this._viewContainerRef&&(null===(s=this._contentRef)||void 0===s?void 0:s.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(h=null===(u=this._contentRef)||void 0===u?void 0:u.viewRef)||void 0===h||h.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(t){var e;this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||(null===(e=this._elementRef)||void 0===e?void 0:e.nativeElement);const i=this._listenOpts.hide=()=>t.hide?t.hide():void this.hide(),r=this._listenOpts.show=u=>{t.show?t.show(u):this.show(u),u()};return this._renderer&&(this._unregisterListenersFn=function mJ(n,t){const e=function ML(n,t=pJ){const e=(n||"").trim();if(0===e.length)return[];const i=e.split(/\s+/).map(s=>s.split(":")).map(s=>{const u=t[s[0]]||s;return new fJ(u[0],u[1])}),r=i.filter(s=>s.isManual());if(r.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===r.length&&i.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return i}(t.triggers),i=t.target;if(1===e.length&&e[0].isManual())return Function.prototype;const r=[],s=[],u=()=>{s.forEach(h=>r.push(h())),s.length=0};return e.forEach(h=>{const _=h.open===h.close,C=_?t.toggle:t.show;if(!_&&h.close&&t.hide){const M=n.listen(i,h.close,t.hide);s.push(()=>M)}C&&r.push(n.listen(i,h.open,()=>C(u)))}),()=>{r.forEach(h=>h())}}(this._renderer,{target:t.target,triggers:t.triggers,show:r,hide:i,toggle:u=>{this.isShown?i():r(u)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(t,e){return t&&e&&(this._inlineViewRef=t.createEmbeddedView(e)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const t=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function gJ(n,t){return t.outsideClick?n.listen("document","click",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(i=>i.contains(e.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function _J(n,t){return t.outsideEsc?n.listen("document","keyup.esc",e=>{t.target&&t.target.contains(e.target)||t.targets&&t.targets.some(i=>i.contains(e.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var t;this._posService.position({element:null===(t=this._componentRef)||void 0===t?void 0:t.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(t,e,i){if(!t)return new Cg([]);if(t instanceof l.Rgc){if(this._viewContainerRef){const u=this._viewContainerRef.createEmbeddedView(t,e);return u.markForCheck(),new Cg([u.rootNodes],u)}const s=t.createEmbeddedView({});return this._applicationRef.attachView(s),new Cg([s.rootNodes],s)}if("function"==typeof t){const s=this._componentFactoryResolver.resolveComponentFactory(t),u=l.zs3.create({providers:this._providers,parent:this._injector}),h=s.create(u);return Object.assign(h.instance,i),this._applicationRef.attachView(h.hostView),new Cg([[h.location.nativeElement]],h.hostView,h)}const r=this._renderer?[this._renderer.createText(`${t}`)]:[];return new Cg([r])}}let HJ=(()=>{class n{constructor(e,i,r,s,u){this._componentFactoryResolver=e,this._ngZone=i,this._injector=r,this._posService=s,this._applicationRef=u}createLoader(e,i,r){return new BJ(i,r,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l._Vd),l.LFG(l.R0b),l.LFG(l.zs3),l.LFG(zL),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();Qe({height:0,overflow:"hidden"}),Zt("220ms cubic-bezier(0, 0, 0.2, 1)",Qe({height:"*",overflow:"hidden"}));let UJ=(()=>{class n{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new l.vpe,this.isDisabledChange=new l.vpe,this.toggleClick=new l.vpe,this.counts=0,this.dropdownMenu=new Promise(e=>{this.resolveDropdownMenu=e})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),GJ=(()=>{class n{static forRoot(){return{ngModule:n,providers:[HJ,zL,UJ]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Cn]]}),n})(),$J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[_Z]}),n.\u0275inj=l.cJS({providers:[],imports:[[jl,pY,hJ,gV,kv,W1,fo.hO.initializeApp(wL_firebase),oY,Sw,iU,GJ]]}),n})();(0,l.G48)(),Za().bootstrapModule($J).catch(n=>console.error(n))},5867:(lt,Ce,P)=>{"use strict";P.d(Ce,{Mq:()=>l.getApp,C6:()=>l.getApps});var l=P(9681);(0,l.registerVersion)("firebase","9.6.5","app")},127:(lt,Ce,P)=>{"use strict";P.d(Ce,{Z:()=>l.Z});var l=P(3942);l.Z.registerVersion("firebase","9.6.5","app-compat")},2209:(lt,Ce,P)=>{"use strict";P.r(Ce);var l=P(5861),J=P(3942),N=P(2090),ae=P(9681);function le(v,p){var m={};for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&p.indexOf(b)<0&&(m[b]=v[b]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(b=Object.getOwnPropertySymbols(v);S<b.length;S++)p.indexOf(b[S])<0&&Object.prototype.propertyIsEnumerable.call(v,b[S])&&(m[b[S]]=v[b[S]])}return m}var Fe=P(1877),de=P(4859);const ji=function Hi(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ln=function mn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Tr=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Un=new Fe.Yd("@firebase/auth");function ts(v,...p){Un.logLevel<=Fe.in.ERROR&&Un.error(`Auth (${ae.SDK_VERSION}): ${v}`,...p)}function Wt(v,...p){throw ys(v,...p)}function kn(v,...p){return ys(v,...p)}function yo(v,p,m){const b=Object.assign(Object.assign({},ln()),{[p]:m});return new N.LL("auth","Firebase",b).create(p,{appName:v.name})}function cr(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Wt(v,"argument-error"),yo(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ys(v,...p){if("string"!=typeof v){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(m,...b)}return Tr.create(v,...p)}function Ie(v,p,...m){if(!v)throw ys(p,...m)}function Si(v){const p="INTERNAL ASSERTION FAILED: "+v;throw ts(p),new Error(p)}function nt(v,p){v||Si(p)}const _r=new Map;function Jt(v){nt(v instanceof Function,"Expected a class definition");let p=_r.get(v);return p?(nt(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,_r.set(v,p),p)}function bt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function at(){return"http:"===Nt()||"https:"===Nt()}function Nt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ft{constructor(p,m){this.shortDelay=p,this.longDelay=m,nt(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function En(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(at()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function it(v,p){nt(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class ht{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ec={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Co=new Ft(3e4,6e4);function Ct(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Rn(v,p,m,b){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,l.Z)(function*(v,p,m,b,S={}){return bs(v,S,(0,l.Z)(function*(){let A={},H={};b&&("GET"===p?H=b:A={body:JSON.stringify(b)});const re=(0,N.xO)(Object.assign({key:v.config.apiKey},H)).slice(1),Pe=yield v._getAdditionalHeaders();return Pe["Content-Type"]="application/json",v.languageCode&&(Pe["X-Firebase-Locale"]=v.languageCode),ht.fetch()(ye(v,v.config.apiHost,m,re),Object.assign({method:p,headers:Pe,referrerPolicy:"no-referrer"},A))}))})).apply(this,arguments)}function bs(v,p,m){return B.apply(this,arguments)}function B(){return(B=(0,l.Z)(function*(v,p,m){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},Ec),p);try{const S=new ie(v),A=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const H=yield A.json();if("needConfirmation"in H)throw We(v,"account-exists-with-different-credential",H);if(A.ok&&!("errorMessage"in H))return H;{const re=A.ok?H.errorMessage:H.error.message,[Pe,Te]=re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw We(v,"credential-already-in-use",H);if("EMAIL_EXISTS"===Pe)throw We(v,"email-already-in-use",H);const et=b[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Te)throw yo(v,et,Te);Wt(v,et)}}catch(S){if(S instanceof N.ZR)throw S;Wt(v,"network-request-failed")}})).apply(this,arguments)}function $(v,p,m,b){return W.apply(this,arguments)}function W(){return(W=(0,l.Z)(function*(v,p,m,b,S={}){const A=yield Rn(v,p,m,b,S);return"mfaPendingCredential"in A&&Wt(v,"multi-factor-auth-required",{_serverResponse:A}),A})).apply(this,arguments)}function ye(v,p,m,b){const S=`${p}${m}?${b}`;return v.config.emulator?it(v.config,S):`${v.config.apiScheme}://${S}`}class ie{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(kn(this.auth,"network-request-failed")),Co.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function We(v,p,m){const b={appName:v.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const S=kn(v,p,b);return S.customData._tokenResponse=m,S}function bn(){return(bn=(0,l.Z)(function*(v,p){return Rn(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function ni(v,p){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,l.Z)(function*(v,p){return Rn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Gi(v,p){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,l.Z)(function*(v,p){return Rn(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Ii(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Zo(){return(Zo=(0,l.Z)(function*(v,p=!1){const m=(0,N.m9)(v),b=yield m.getIdToken(p),S=wo(b);Ie(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const A="object"==typeof S.firebase?S.firebase:void 0,H=null==A?void 0:A.sign_in_provider;return{claims:S,token:b,authTime:Ii(Rl(S.auth_time)),issuedAtTime:Ii(Rl(S.iat)),expirationTime:Ii(Rl(S.exp)),signInProvider:H||null,signInSecondFactor:(null==A?void 0:A.sign_in_second_factor)||null}})).apply(this,arguments)}function Rl(v){return 1e3*Number(v)}function wo(v){const[p,m,b]=v.split(".");if(void 0===p||void 0===m||void 0===b)return ts("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,N.tV)(m);return S?JSON.parse(S):(ts("Failed to decode base64 JWT payload"),null)}catch(S){return ts("Caught error parsing JWT payload as JSON",S),null}}function ii(v,p){return ns.apply(this,arguments)}function ns(){return(ns=(0,l.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof N.ZR&&wi(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}function wi({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Gs{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class Ic{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ii(this.lastLoginAt),this.creationTime=Ii(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ar(v){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,l.Z)(function*(v){var p;const m=v.auth,b=yield v.getIdToken(),S=yield ii(v,Gi(m,{idToken:b}));Ie(null==S?void 0:S.users.length,m,"internal-error");const A=S.users[0];v._notifyReloadListener(A);const H=(null===(p=A.providerUserInfo)||void 0===p?void 0:p.length)?dr(A.providerUserInfo):[],re=Fa(v.providerData,H),et=!!v.isAnonymous&&!(v.email&&A.passwordHash||(null==re?void 0:re.length)),Je={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:re,metadata:new Ic(A.createdAt,A.lastLoginAt),isAnonymous:et};Object.assign(v,Je)})).apply(this,arguments)}function ri(){return(ri=(0,l.Z)(function*(v){const p=(0,N.m9)(v);yield Ar(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Fa(v,p){return[...v.filter(b=>!p.some(S=>S.providerId===b.providerId)),...p]}function dr(v){return v.map(p=>{var{providerId:m}=p,b=le(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function Ot(){return(Ot=(0,l.Z)(function*(v,p){const m=yield bs(v,{},(0,l.Z)(function*(){const b=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:A}=v.config,H=ye(v,S,"/v1/token",`key=${A}`),re=yield v._getAdditionalHeaders();return re["Content-Type"]="application/x-www-form-urlencoded",ht.fetch()(H,{method:"POST",headers:re,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class en{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Ie(p.idToken,"internal-error"),Ie(void 0!==p.idToken,"internal-error"),Ie(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function Ci(v){const p=wo(v);return Ie(p,"internal-error"),Ie(void 0!==p.exp,"internal-error"),Ie(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,l.Z)(function*(){return Ie(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,l.Z)(function*(){const{accessToken:S,refreshToken:A,expiresIn:H}=yield function Ye(v,p){return Ot.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(S,A,Number(H))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:S,expirationTime:A}=m,H=new en;return b&&(Ie("string"==typeof b,"internal-error",{appName:p}),H.refreshToken=b),S&&(Ie("string"==typeof S,"internal-error",{appName:p}),H.accessToken=S),A&&(Ie("number"==typeof A,"internal-error",{appName:p}),H.expirationTime=A),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new en,this.toJSON())}_performRefresh(){return Si("not implemented")}}function $n(v,p){Ie("string"==typeof v||void 0===v,"internal-error",{appName:p})}class Pi{constructor(p){var{uid:m,auth:b,stsTokenManager:S}=p,A=le(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Gs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=A.displayName||null,this.email=A.email||null,this.emailVerified=A.emailVerified||!1,this.phoneNumber=A.phoneNumber||null,this.photoURL=A.photoURL||null,this.isAnonymous=A.isAnonymous||!1,this.tenantId=A.tenantId||null,this.metadata=new Ic(A.createdAt||void 0,A.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,l.Z)(function*(){const b=yield ii(m,m.stsTokenManager.getToken(m.auth,p));return Ie(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function Sc(v){return Zo.apply(this,arguments)}(this,p)}reload(){return function Do(v){return ri.apply(this,arguments)}(this)}_assign(p){this!==p&&(Ie(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Pi(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,l.Z)(function*(){let S=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield Ar(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,l.Z)(function*(){const m=yield p.getIdToken();return yield ii(p,function Dt(v,p){return bn.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,S,A,H,re,Pe,Te,et;const Je=null!==(b=m.displayName)&&void 0!==b?b:void 0,Ht=null!==(S=m.email)&&void 0!==S?S:void 0,ki=null!==(A=m.phoneNumber)&&void 0!==A?A:void 0,ks=null!==(H=m.photoURL)&&void 0!==H?H:void 0,pu=null!==(re=m.tenantId)&&void 0!==re?re:void 0,F1=null!==(Pe=m._redirectEventId)&&void 0!==Pe?Pe:void 0,Vh=null!==(Te=m.createdAt)&&void 0!==Te?Te:void 0,Bh=null!==(et=m.lastLoginAt)&&void 0!==et?et:void 0,{uid:cc,emailVerified:Hh,isAnonymous:mu,providerData:uc,stsTokenManager:gu}=m;Ie(cc&&gu,p,"internal-error");const jh=en.fromJSON(this.name,gu);Ie("string"==typeof cc,p,"internal-error"),$n(Je,p.name),$n(Ht,p.name),Ie("boolean"==typeof Hh,p,"internal-error"),Ie("boolean"==typeof mu,p,"internal-error"),$n(ki,p.name),$n(ks,p.name),$n(pu,p.name),$n(F1,p.name),$n(Vh,p.name),$n(Bh,p.name);const L1=new Pi({uid:cc,auth:p,email:Ht,emailVerified:Hh,displayName:Je,isAnonymous:mu,photoURL:ks,phoneNumber:ki,tenantId:pu,stsTokenManager:jh,createdAt:Vh,lastLoginAt:Bh});return uc&&Array.isArray(uc)&&(L1.providerData=uc.map(z1=>Object.assign({},z1))),F1&&(L1._redirectEventId=F1),L1}static _fromIdTokenResponse(p,m,b=!1){return(0,l.Z)(function*(){const S=new en;S.updateFromServerResponse(m);const A=new Pi({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:b});return yield Ar(A),A})()}}const $i=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,b){var S=this;return(0,l.Z)(function*(){S.storage[m]=b})()}_get(m){var b=this;return(0,l.Z)(function*(){const S=b.storage[m];return void 0===S?null:S})()}_remove(m){var b=this;return(0,l.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return v.type="NONE",v})();function Qt(v,p,m){return`firebase:${v}:${p}:${m}`}class kr{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:S,name:A}=this.auth;this.fullUserKey=Qt(this.userKey,S.apiKey,A),this.fullPersistenceKey=Qt("persistence",S.apiKey,A),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Pi._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,l.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,l.Z)(function*(){if(!m.length)return new kr(Jt($i),p,b);const S=(yield Promise.all(m.map(function(){var Te=(0,l.Z)(function*(et){if(yield et._isAvailable())return et});return function(et){return Te.apply(this,arguments)}}()))).filter(Te=>Te);let A=S[0]||Jt($i);const H=Qt(b,p.config.apiKey,p.name);let re=null;for(const Te of m)try{const et=yield Te._get(H);if(et){const Je=Pi._fromJSON(p,et);Te!==A&&(re=Je),A=Te;break}}catch(et){}const Pe=S.filter(Te=>Te._shouldAllowMigration);return A._shouldAllowMigration&&Pe.length?(A=Pe[0],re&&(yield A._set(H,re.toJSON())),yield Promise.all(m.map(function(){var Te=(0,l.Z)(function*(et){if(et!==A)try{yield et._remove(H)}catch(Je){}});return function(et){return Te.apply(this,arguments)}}())),new kr(A,p,b)):new kr(A,p,b)})()}}function qn(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(La(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(At(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(oi(p))return"Blackberry";if(Qo(p))return"Webos";if(Ko(p))return"Safari";if((p.includes("chrome/")||$s(p))&&!p.includes("edge/"))return"Chrome";if(is(p))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function At(v=(0,N.z$)()){return/firefox\//i.test(v)}function Ko(v=(0,N.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function $s(v=(0,N.z$)()){return/crios\//i.test(v)}function La(v=(0,N.z$)()){return/iemobile/i.test(v)}function is(v=(0,N.z$)()){return/android/i.test(v)}function oi(v=(0,N.z$)()){return/blackberry/i.test(v)}function Qo(v=(0,N.z$)()){return/webos/i.test(v)}function rs(v=(0,N.z$)()){return/iphone|ipad|ipod/i.test(v)}function Xo(v=(0,N.z$)()){return rs(v)||is(v)||Qo(v)||oi(v)||/windows phone/i.test(v)||La(v)}function Wi(v,p=[]){let m;switch(v){case"Browser":m=qn((0,N.z$)());break;case"Worker":m=`${qn((0,N.z$)())}-${v}`;break;default:m=v}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ae.SDK_VERSION}/${b}`}class Tc{constructor(p,m){this.app=p,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cs(this),this.idTokenSubscription=new Cs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=Jt(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var S,A;if(!b._deleted&&(b.persistenceManager=yield kr.create(b,p),!b._deleted)){if(null===(S=b._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(H){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(A=b.currentUser)||void 0===A?void 0:A.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m)}})()}initializeCurrentUser(p){var m=this;return(0,l.Z)(function*(){var b;let S=yield m.assertedPersistence.getCurrentUser();if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const A=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,H=null==S?void 0:S._redirectEventId,re=yield m.tryRedirectSignIn(p);(!A||A===H)&&(null==re?void 0:re.user)&&(S=re.user)}return S?S._redirectEventId?(Ie(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===S._redirectEventId?m.directlySetCurrentUser(S):m.reloadAndSetCurrentUserOrClear(S)):m.reloadAndSetCurrentUserOrClear(S):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var m=this;return(0,l.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(S){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,l.Z)(function*(){try{yield Ar(p)}catch(b){if("auth/network-request-failed"!==b.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ur(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){const b=p?(0,N.m9)(p):null;return b&&Ie(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){if(!m._deleted)return p&&Ie(m.tenantId===p.tenantId,m,"tenant-id-mismatch"),m.queue((0,l.Z)(function*(){yield m.directlySetCurrentUser(p),m.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(Jt(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,l.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&Jt(p)||m._popupRedirectResolver;Ie(b,m,"argument-error"),m.redirectPersistenceManager=yield kr.create(m,[Jt(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,l.Z)(function*(){var b,S;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,l.Z)(function*(){if(p===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,S){if(this._deleted)return()=>{};const A="function"==typeof m?m:m.next.bind(m),H=this._isInitialized?Promise.resolve():this._initializationPromise;return Ie(H,this,"internal-error"),H.then(()=>A(this.currentUser)),"function"==typeof m?p.addObserver(m,b,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Wi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){const m={"X-Client-Version":p.clientVersion};return p.app.options.appId&&(m["X-Firebase-gmpid"]=p.app.options.appId),m})()}}function Wn(v){return(0,N.m9)(v)}class Cs{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ac(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function qd(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class za{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Si("not implemented")}_getIdTokenResponse(p){return Si("not implemented")}_linkToIdToken(p,m){return Si("not implemented")}_getReauthenticationResolver(p){return Si("not implemented")}}function Wd(v,p){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,l.Z)(function*(v,p){return Rn(v,"POST","/v1/accounts:resetPassword",Ct(v,p))})).apply(this,arguments)}function Yd(v,p){return kc.apply(this,arguments)}function kc(){return(kc=(0,l.Z)(function*(v,p){return Rn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function pf(v,p){return Va.apply(this,arguments)}function Va(){return(Va=(0,l.Z)(function*(v,p){return Rn(v,"POST","/v1/accounts:update",Ct(v,p))})).apply(this,arguments)}function Ku(){return(Ku=(0,l.Z)(function*(v,p){return $(v,"POST","/v1/accounts:signInWithPassword",Ct(v,p))})).apply(this,arguments)}function Rc(v,p){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,l.Z)(function*(v,p){return Rn(v,"POST","/v1/accounts:sendOobCode",Ct(v,p))})).apply(this,arguments)}function mf(v,p){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,l.Z)(function*(v,p){return Rc(v,p)})).apply(this,arguments)}function gf(v,p){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,l.Z)(function*(v,p){return Rc(v,p)})).apply(this,arguments)}function Ba(v,p){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,l.Z)(function*(v,p){return Rc(v,p)})).apply(this,arguments)}function Pc(v,p){return e1.apply(this,arguments)}function e1(){return(e1=(0,l.Z)(function*(v,p){return Rc(v,p)})).apply(this,arguments)}function Ol(){return(Ol=(0,l.Z)(function*(v,p){return $(v,"POST","/v1/accounts:signInWithEmailLink",Ct(v,p))})).apply(this,arguments)}function Eo(){return(Eo=(0,l.Z)(function*(v,p){return $(v,"POST","/v1/accounts:signInWithEmailLink",Ct(v,p))})).apply(this,arguments)}class ja extends za{constructor(p,m,b,S=null){super("password",b),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new ja(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new ja(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function Jo(v,p){return Ku.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function xo(v,p){return Ol.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Wt(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,l.Z)(function*(){switch(b.signInMethod){case"password":return Yd(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Ha(v,p){return Eo.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:Wt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function qs(v,p){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,l.Z)(function*(v,p){return $(v,"POST","/v1/accounts:signInWithIdp",Ct(v,p))})).apply(this,arguments)}class Ni extends za{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Ni(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Wt("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S}=m,A=le(m,["providerId","signInMethod"]);if(!b||!S)return null;const H=new Ni(b,S);return H.idToken=A.idToken||void 0,H.accessToken=A.accessToken||void 0,H.secret=A.secret,H.nonce=A.nonce,H.pendingToken=A.pendingToken||null,H}_getIdTokenResponse(p){return qs(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,qs(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,qs(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,N.xO)(m)}return p}}function Or(v,p){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,l.Z)(function*(v,p){return Rn(v,"POST","/v1/accounts:sendVerificationCode",Ct(v,p))})).apply(this,arguments)}function Ua(){return(Ua=(0,l.Z)(function*(v,p){return $(v,"POST","/v1/accounts:signInWithPhoneNumber",Ct(v,p))})).apply(this,arguments)}function Pl(){return(Pl=(0,l.Z)(function*(v,p){const m=yield $(v,"POST","/v1/accounts:signInWithPhoneNumber",Ct(v,p));if(m.temporaryProof)throw We(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const r1={USER_NOT_FOUND:"user-not-found"};function s1(){return(s1=(0,l.Z)(function*(v,p){return $(v,"POST","/v1/accounts:signInWithPhoneNumber",Ct(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),r1)})).apply(this,arguments)}class rn extends za{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new rn({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new rn({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Fi(v,p){return Ua.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function n1(v,p){return Pl.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Fc(v,p){return s1.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:A}=p;return b||m||S||A?new rn({verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:A}):null}}class _n{constructor(p){var m,b,S,A,H,re;const Pe=(0,N.zd)((0,N.pd)(p)),Te=null!==(m=Pe.apiKey)&&void 0!==m?m:null,et=null!==(b=Pe.oobCode)&&void 0!==b?b:null,Je=function Ws(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Pe.mode)&&void 0!==S?S:null);Ie(Te&&et&&Je,"argument-error"),this.apiKey=Te,this.operation=Je,this.code=et,this.continueUrl=null!==(A=Pe.continueUrl)&&void 0!==A?A:null,this.languageCode=null!==(H=Pe.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(re=Pe.tenantId)&&void 0!==re?re:null}static parseLink(p){const m=function o1(v){const p=(0,N.zd)((0,N.pd)(v)).link,m=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,b=(0,N.zd)((0,N.pd)(v)).deep_link_id;return(b?(0,N.zd)((0,N.pd)(b)).link:null)||b||m||p||v}(p);try{return new _n(m)}catch(b){return null}}}let ea=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,b){return ja._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const S=_n.parseLink(b);return Ie(S,"argument-error"),ja._fromEmailAndCode(m,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ai{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Yn extends ai{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ws extends Yn{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Ie("providerId"in m&&"signInMethod"in m,"argument-error"),Ni._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Ie(p.idToken||p.accessToken,"argument-error"),Ni._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ws.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ws.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:A,nonce:H,providerId:re}=p;if(!b&&!S&&!m&&!A||!re)return null;try{return new ws(re)._credential({idToken:m,accessToken:b,nonce:H,pendingToken:A})}catch(Pe){return null}}}let ta=(()=>{class v extends Yn{constructor(){super("facebook.com")}static credential(m){return Ni._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(b){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),os=(()=>{class v extends Yn{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return Ni._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:S}=m;if(!b&&!S)return null;try{return v.credential(b,S)}catch(A){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Yi=(()=>{class v extends Yn{constructor(){super("github.com")}static credential(m){return Ni._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(b){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class as extends za{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return qs(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,qs(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,qs(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S,pendingToken:A}=m;return b&&S&&A&&b===S?new as(b,A):null}static _create(p,m){return new as(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Zi extends ai{constructor(p){Ie(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Zi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Zi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=as.fromJSON(p);return Ie(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return as._create(b,m)}catch(S){return null}}}let Ys=(()=>{class v extends Yn{constructor(){super("twitter.com")}static credential(m,b){return Ni._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=m;if(!b||!S)return null;try{return v.credential(b,S)}catch(A){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function na(v,p){return wt.apply(this,arguments)}function wt(){return(wt=(0,l.Z)(function*(v,p){return $(v,"POST","/v1/accounts:signUp",Ct(v,p))})).apply(this,arguments)}class Di{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,S=!1){return(0,l.Z)(function*(){const A=yield Pi._fromIdTokenResponse(p,b,S),H=Ga(b);return new Di({user:A,providerId:H,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const S=Ga(b);return new Di({user:p,providerId:S,_tokenResponse:b,operationType:m})})()}}function Ga(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function ia(){return(ia=(0,l.Z)(function*(v){var p;const m=Wn(v);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new Di({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield na(m,{returnSecureToken:!0}),S=yield Di._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class ra extends N.ZR{constructor(p,m,b,S){var A;super(m.code,m.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,ra.prototype),this.customData={appName:p.name,tenantId:null!==(A=p.tenantId)&&void 0!==A?A:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,S){return new ra(p,m,b,S)}}function zc(v,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(A=>{throw"auth/multi-factor-auth-required"===A.code?ra._fromErrorAndOperation(v,A,p,b):A})}function Nl(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function zt(){return(zt=(0,l.Z)(function*(v,p){const m=(0,N.m9)(v);yield So(!0,m,p);const{providerUserInfo:b}=yield ni(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=Nl(b||[]);return m.providerData=m.providerData.filter(A=>S.has(A.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Fl(v,p){return vn.apply(this,arguments)}function vn(){return(vn=(0,l.Z)(function*(v,p,m=!1){const b=yield ii(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return Di._forOperation(v,"link",b)})).apply(this,arguments)}function So(v,p,m){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(v,p,m){yield Ar(p);const S=!1===v?"provider-already-linked":"no-such-provider";Ie(Nl(p.providerData).has(m)===v,p.auth,S)})).apply(this,arguments)}function Ki(v,p){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,l.Z)(function*(v,p,m=!1){const{auth:b}=v,S="reauthenticate";try{const A=yield ii(v,zc(b,S,p,v),m);Ie(A.idToken,b,"internal-error");const H=wo(A.idToken);Ie(H,b,"internal-error");const{sub:re}=H;return Ie(v.uid===re,b,"user-mismatch"),Di._forOperation(v,S,A)}catch(A){throw"auth/user-not-found"===(null==A?void 0:A.code)&&Wt(b,"user-mismatch"),A}})).apply(this,arguments)}function Ll(v,p){return zl.apply(this,arguments)}function zl(){return(zl=(0,l.Z)(function*(v,p,m=!1){const b="signIn",S=yield zc(v,b,p),A=yield Di._fromIdTokenResponse(v,b,S);return m||(yield v._updateCurrentUser(A.user)),A})).apply(this,arguments)}function Vl(v,p){return sa.apply(this,arguments)}function sa(){return(sa=(0,l.Z)(function*(v,p){return Ll(Wn(v),p)})).apply(this,arguments)}function qa(v,p){return ci.apply(this,arguments)}function ci(){return(ci=(0,l.Z)(function*(v,p){const m=(0,N.m9)(v);return yield So(!1,m,p.providerId),Fl(m,p)})).apply(this,arguments)}function Pr(v,p){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,l.Z)(function*(v,p){return Ki((0,N.m9)(v),p)})).apply(this,arguments)}function Ds(v,p){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,l.Z)(function*(v,p){return $(v,"POST","/v1/accounts:signInWithCustomToken",Ct(v,p))})).apply(this,arguments)}function oa(){return(oa=(0,l.Z)(function*(v,p){const m=Wn(v),b=yield Ds(m,{token:p,returnSecureToken:!0}),S=yield Di._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Hl{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Wa._fromServerResponse(p,m):Wt(p,"internal-error")}}class Wa extends Hl{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Wa(m)}}function aa(v,p,m){var b;Ie((null===(b=m.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),Ie(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Ie(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Ie(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Za(){return(Za=(0,l.Z)(function*(v,p,m){const b=(0,N.m9)(v),S={requestType:"PASSWORD_RESET",email:p};m&&aa(b,S,m),yield gf(b,S)})).apply(this,arguments)}function jl(){return(jl=(0,l.Z)(function*(v,p,m){yield Wd((0,N.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function la(){return(la=(0,l.Z)(function*(v,p){yield pf((0,N.m9)(v),{oobCode:p})})).apply(this,arguments)}function l1(v,p){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,l.Z)(function*(v,p){const m=(0,N.m9)(v),b=yield Wd(m,{oobCode:p}),S=b.requestType;switch(Ie(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(b.mfaInfo,m,"internal-error");default:Ie(b.email,m,"internal-error")}let A=null;return b.mfaInfo&&(A=Hl._fromServerResponse(Wn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:A},operation:S}})).apply(this,arguments)}function Xa(){return(Xa=(0,l.Z)(function*(v,p){const{data:m}=yield l1((0,N.m9)(v),p);return m.email})).apply(this,arguments)}function c1(){return(c1=(0,l.Z)(function*(v,p,m){const b=Wn(v),S=yield na(b,{returnSecureToken:!0,email:p,password:m}),A=yield Di._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(A.user),A})).apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(v,p,m){const b=(0,N.m9)(v),S={requestType:"EMAIL_SIGNIN",email:p};Ie(m.handleCodeInApp,b,"argument-error"),m&&aa(b,S,m),yield Ba(b,S)})).apply(this,arguments)}function Ja(){return(Ja=(0,l.Z)(function*(v,p,m){const b=(0,N.m9)(v),S=ea.credentialWithLink(p,m||bt());return Ie(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Vl(b,S)})).apply(this,arguments)}function u1(v,p){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,l.Z)(function*(v,p){return Rn(v,"POST","/v1/accounts:createAuthUri",Ct(v,p))})).apply(this,arguments)}function Qd(){return(Qd=(0,l.Z)(function*(v,p){const b={identifier:p,continueUri:at()?bt():"http://localhost"},{signinMethods:S}=yield u1((0,N.m9)(v),b);return S||[]})).apply(this,arguments)}function Ks(){return(Ks=(0,l.Z)(function*(v,p){const m=(0,N.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&aa(m.auth,S,p);const{email:A}=yield mf(m.auth,S);A!==v.email&&(yield v.reload())})).apply(this,arguments)}function ql(){return(ql=(0,l.Z)(function*(v,p,m){const b=(0,N.m9)(v),A={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&aa(b.auth,A,m);const{email:H}=yield Pc(b.auth,A);H!==v.email&&(yield v.reload())})).apply(this,arguments)}function Xd(v,p){return h1.apply(this,arguments)}function h1(){return(h1=(0,l.Z)(function*(v,p){return Rn(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Pn(){return(Pn=(0,l.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,N.m9)(v),A={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},H=yield ii(b,Xd(b.auth,A));b.displayName=H.displayName||null,b.photoURL=H.photoUrl||null;const re=b.providerData.find(({providerId:Pe})=>"password"===Pe);re&&(re.displayName=b.displayName,re.photoURL=b.photoURL),yield b._updateTokensIfNecessary(H)})).apply(this,arguments)}function el(v,p,m){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,l.Z)(function*(v,p,m){const{auth:b}=v,A={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(A.email=p),m&&(A.password=m);const H=yield ii(v,Yd(b,A));yield v._updateTokensIfNecessary(H,!0)})).apply(this,arguments)}class Es{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class jc extends Es{constructor(p,m,b,S){super(p,m,b),this.username=S}}class eh extends Es{constructor(p,m){super(p,"facebook.com",m)}}class Uc extends jc{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Sn extends Es{constructor(p,m){super(p,"google.com",m)}}class Qs extends jc{constructor(p,m,b){super(p,"twitter.com",m,b)}}function qe(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function f1(v){var p,m;if(!v)return null;const{providerId:b}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},A=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&(null==v?void 0:v.idToken)){const H=null===(m=null===(p=wo(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(H)return new Es(A,"anonymous"!==H&&"custom"!==H?H:null)}if(!b)return null;switch(b){case"facebook.com":return new eh(A,S);case"github.com":return new Uc(A,S);case"google.com":return new Sn(A,S);case"twitter.com":return new Qs(A,S,v.screenName||null);case"custom":case"anonymous":return new Es(A,null);default:return new Es(A,b,S)}}(m)}class ls{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new ls("enroll",p)}static _fromMfaPendingCredential(p){return new ls("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return ls._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return ls._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ss{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=Wn(p),S=m.customData._serverResponse,A=(S.mfaInfo||[]).map(re=>Hl._fromServerResponse(b,re));Ie(S.mfaPendingCredential,b,"internal-error");const H=ls._fromMfaPendingCredential(S.mfaPendingCredential);return new Ss(H,A,function(){var re=(0,l.Z)(function*(Pe){const Te=yield Pe._process(b,H);delete S.mfaInfo,delete S.mfaPendingCredential;const et=Object.assign(Object.assign({},S),{idToken:Te.idToken,refreshToken:Te.refreshToken});switch(m.operationType){case"signIn":const Je=yield Di._fromIdTokenResponse(b,m.operationType,et);return yield b._updateCurrentUser(Je.user),Je;case"reauthenticate":return Ie(m.user,b,"internal-error"),Di._forOperation(m.user,m.operationType,et);default:Wt(b,"internal-error")}});return function(Pe){return re.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,l.Z)(function*(){return m.signInResolver(p)})()}}function nh(v,p){return Rn(v,"POST","/v2/accounts/mfaEnrollment:start",Ct(v,p))}class ca{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>Hl._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new ca(p)}getSession(){var p=this;return(0,l.Z)(function*(){return ls._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var b=this;return(0,l.Z)(function*(){const S=p,A=yield b.getSession(),H=yield ii(b.user,S._process(b.user.auth,A,m));return yield b.user._updateTokensIfNecessary(H),b.user.reload()})()}unenroll(p){var m=this;return(0,l.Z)(function*(){const b="string"==typeof p?p:p.uid,S=yield m.user.getIdToken(),A=yield ii(m.user,function rl(v,p){return Rn(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Ct(v,p))}(m.user.auth,{idToken:S,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:H})=>H!==b),yield m.user._updateTokensIfNecessary(A);try{yield m.user.reload()}catch(H){if("auth/user-token-expired"!==H.code)throw H}})()}}const dn=new WeakMap,ua="__sak";class $c{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ua,"1"),this.storage.removeItem(ua),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const sl=(()=>{class v extends $c{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Fr(){const v=(0,N.z$)();return Ko(v)||rs(v)}()&&function qi(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Xo(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),A=this.localCache[b];S!==A&&m(b,A,S)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((re,Pe,Te)=>{this.notifyListeners(re,Te)});const S=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const re=this.storage.getItem(S);if(m.newValue!==re)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!b)return}const A=()=>{const re=this.storage.getItem(S);!b&&this.localCache[S]===re||this.notifyListeners(S,re)},H=this.storage.getItem(S);!function Yu(){return(0,N.w1)()&&10===document.documentMode}()||H===m.newValue||m.newValue===m.oldValue?A():setTimeout(A,10)}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const A of Array.from(S))A(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var S=()=>super._set,A=this;return(0,l.Z)(function*(){yield S().call(A,m,b),A.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,S=this;return(0,l.Z)(function*(){const A=yield b().call(S,m);return S.localCache[m]=JSON.stringify(A),A})()}_remove(m){var b=()=>super._remove,S=this;return(0,l.Z)(function*(){yield b().call(S,m),delete S.localCache[m]})()}}return v.type="LOCAL",v})(),Fn=(()=>{class v extends $c{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return v.type="SESSION",v})();let Ao=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(A=>A.isListeningto(m));if(b)return b;const S=new v(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,l.Z)(function*(){const S=m,{eventId:A,eventType:H,data:re}=S.data,Pe=b.handlersMap[H];if(!(null==Pe?void 0:Pe.size))return;S.ports[0].postMessage({status:"ack",eventId:A,eventType:H});const Te=Array.from(Pe).map(function(){var Je=(0,l.Z)(function*(Ht){return Ht(S.origin,re)});return function(Ht){return Je.apply(this,arguments)}}()),et=yield function To(v){return Promise.all(v.map(function(){var p=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(Te);S.ports[0].postMessage({status:"done",eventId:A,eventType:H,response:et})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Ln(v="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return v+m}class Tn{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var S=this;return(0,l.Z)(function*(){const A="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let H,re;return new Promise((Pe,Te)=>{const et=Ln("",20);A.port1.start();const Je=setTimeout(()=>{Te(new Error("unsupported_event"))},b);re={messageChannel:A,onMessage(Ht){const ki=Ht;if(ki.data.eventId===et)switch(ki.data.status){case"ack":clearTimeout(Je),H=setTimeout(()=>{Te(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),Pe(ki.data.response);break;default:clearTimeout(Je),clearTimeout(H),Te(new Error("invalid_response"))}}},S.handlers.add(re),A.port1.addEventListener("message",re.onMessage),S.target.postMessage({eventType:p,eventId:et,data:m},[A.port2])}).finally(()=>{re&&S.removeMessageHandler(re)})})()}}function Bn(){return window}function In(){return void 0!==Bn().WorkerGlobalScope&&"function"==typeof Bn().importScripts}function Hn(){return(Hn=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const fn="firebaseLocalStorageDb",zn="firebaseLocalStorage",vr="fbase_key";class Xt{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function pa(v,p){return v.transaction([zn],p?"readwrite":"readonly").objectStore(zn)}function ih(){const v=indexedDB.open(fn,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(zn,{keyPath:vr})}catch(S){m(S)}}),v.addEventListener("success",(0,l.Z)(function*(){const b=v.result;b.objectStoreNames.contains(zn)?p(b):(b.close(),yield function Wc(){const v=indexedDB.deleteDatabase(fn);return new Xt(v).toPromise()}(),p(yield ih()))}))})}function rh(v,p,m){return sh.apply(this,arguments)}function sh(){return(sh=(0,l.Z)(function*(v,p,m){const b=pa(v,!0).put({[vr]:p,value:m});return new Xt(b).toPromise()})).apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(v,p){const m=pa(v,!1).get(p),b=yield new Xt(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Js(v,p){const m=pa(v,!0).delete(p);return new Xt(m).toPromise()}const Lr=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield ih()),m.db})()}_withRetries(m){var b=this;return(0,l.Z)(function*(){let S=0;for(;;)try{const A=yield b._openDb();return yield m(A)}catch(A){if(S++>3)throw A;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return In()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=Ao._getInstance(function fa(){return In()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,l.Z)(function*(S,A){return{keyProcessed:(yield m._poll()).includes(A.key)}});return function(S,A){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,l.Z)(function*(S,A){return["keyChanged"]});return function(S,A){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var b,S;if(m.activeServiceWorker=yield function hn(){return Hn.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Tn(m.activeServiceWorker);const A=yield m.sender._send("ping",{},800);!A||(null===(b=A[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=A[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,l.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Xs(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ih();return yield rh(m,ua,"1"),yield Js(m,ua),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,l.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var S=this;return(0,l.Z)(function*(){return S._withPendingWrite((0,l.Z)(function*(){return yield S._withRetries(A=>rh(A,m,b)),S.localCache[m]=b,S.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,l.Z)(function*(){const S=yield b._withRetries(A=>function al(v,p){return Kn.apply(this,arguments)}(A,m));return b.localCache[m]=S,S})()}_remove(m){var b=this;return(0,l.Z)(function*(){return b._withPendingWrite((0,l.Z)(function*(){return yield b._withRetries(S=>Js(S,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const b=yield m._withRetries(H=>{const re=pa(H,!1).getAll();return new Xt(re).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const S=[],A=new Set;for(const{fbase_key:H,value:re}of b)A.add(H),JSON.stringify(m.localCache[H])!==JSON.stringify(re)&&(m.notifyListeners(H,re),S.push(H));for(const H of Object.keys(m.localCache))m.localCache[H]&&!A.has(H)&&(m.notifyListeners(H,null),S.push(H));return S})()}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const A of Array.from(S))A(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function yf(v,p){return Rn(v,"POST","/v2/accounts/mfaSignIn:start",Ct(v,p))}function zr(){return(zr=(0,l.Z)(function*(v){return(yield Rn(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ll(v){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=p,b.onerror=S=>{const A=kn("internal-error");A.customData=S,m(A)},b.type="text/javascript",b.charset="UTF-8",function m1(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(b)})}function ko(v){return`__${v}${Math.floor(1e6*Math.random())}`}const cl=1e12;class g1{constructor(p){this.auth=p,this.counter=cl,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new lh(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||cl;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||cl))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,l.Z)(function*(){var b;return null===(b=m._widgets.get(p||cl))||void 0===b||b.execute(),""})()}}class lh{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;Ie(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ul(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gt=ko("rcb"),dl=new Ft(3e4,6e4);class bf{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Bn().grecaptcha}load(p,m=""){return Ie(function Zc(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Bn().grecaptcha):new Promise((b,S)=>{const A=Bn().setTimeout(()=>{S(kn(p,"network-request-failed"))},dl.get());Bn()[gt]=()=>{Bn().clearTimeout(A),delete Bn()[gt];const re=Bn().grecaptcha;if(!re)return void S(kn(p,"internal-error"));const Pe=re.render;re.render=(Te,et)=>{const Je=Pe(Te,et);return this.counter++,Je},this.hostLanguage=m,b(re)},ll(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:gt,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(A),S(kn(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Bn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Cf{load(p){return(0,l.Z)(function*(){return new g1(p)})()}clearedOneInstance(){}}const _1="recaptcha",ch={theme:"light",type:"image"};class Li{constructor(p,m=Object.assign({},ch),b){this.parameters=m,this.type=_1,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wn(b),this.isInvisible="invisible"===this.parameters.size,Ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;Ie(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cf:new bf,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(A=>{const H=re=>{!re||(p.tokenChangeListeners.delete(H),A(re))};p.tokenChangeListeners.add(H),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=Bn()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){Ie(at()&&!In(),p.auth,"internal-error"),yield function Kc(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function yr(v){return zr.apply(this,arguments)}(p.auth);Ie(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class hl{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=rn._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Vr(){return(Vr=(0,l.Z)(function*(v,p,m){const b=Wn(v),S=yield ga(b,p,(0,N.m9)(m));return new hl(S,A=>Vl(b,A))})).apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(v,p,m){const b=(0,N.m9)(v);yield So(!1,b,"phone");const S=yield ga(b.auth,p,(0,N.m9)(m));return new hl(S,A=>qa(b,A))})).apply(this,arguments)}function fl(){return(fl=(0,l.Z)(function*(v,p,m){const b=(0,N.m9)(v),S=yield ga(b.auth,p,(0,N.m9)(m));return new hl(S,A=>Pr(b,A))})).apply(this,arguments)}function ga(v,p,m){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,l.Z)(function*(v,p,m){var b;const S=yield m.verify();try{let A;if(Ie("string"==typeof S,v,"argument-error"),Ie(m.type===_1,v,"argument-error"),A="string"==typeof p?{phoneNumber:p}:p,"session"in A){const H=A.session;if("phoneNumber"in A)return Ie("enroll"===H.type,v,"internal-error"),(yield nh(v,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:A.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{Ie("signin"===H.type,v,"internal-error");const re=(null===(b=A.multiFactorHint)||void 0===b?void 0:b.uid)||A.multiFactorUid;return Ie(re,v,"missing-multi-factor-info"),(yield yf(v,{mfaPendingCredential:H.credential,mfaEnrollmentId:re,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield Or(v,{phoneNumber:A.phoneNumber,recaptchaToken:S});return H}}finally{m._reset()}})).apply(this,arguments)}function Ql(){return(Ql=(0,l.Z)(function*(v,p){yield Fl((0,N.m9)(v),p)})).apply(this,arguments)}let x=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=Wn(m)}verifyPhoneNumber(m,b){return ga(this.auth,m,(0,N.m9)(b))}static credential(m,b){return rn._fromVerification(m,b)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:S}=m;return b&&S?rn._fromTokenResponse(b,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function E(v,p){return p?Jt(p):(Ie(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class R extends za{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return qs(p,this._buildIdpRequest())}_linkToIdToken(p,m){return qs(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return qs(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function z(v){return Ll(v.auth,new R(v),v.bypassAuthState)}function q(v){const{auth:p,user:m}=v;return Ie(m,p,"internal-error"),Ki(m,new R(v),v.bypassAuthState)}function Q(v){return Se.apply(this,arguments)}function Se(){return(Se=(0,l.Z)(function*(v){const{auth:p,user:m}=v;return Ie(m,p,"internal-error"),Fl(m,new R(v),v.bypassAuthState)})).apply(this,arguments)}class Xe{constructor(p,m,b,S,A=!1){this.auth=p,this.resolver=b,this.user=S,this.bypassAuthState=A,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,l.Z)(function*(b,S){p.pendingPromise={resolve:b,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(A){p.reject(A)}});return function(b,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,l.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:A,tenantId:H,error:re,type:Pe}=p;if(re)return void m.reject(re);const Te={auth:m.auth,requestUri:b,sessionId:S,tenantId:H||void 0,postBody:A||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Pe)(Te))}catch(et){m.reject(et)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return z;case"linkViaPopup":case"linkViaRedirect":return Q;case"reauthViaPopup":case"reauthViaRedirect":return q;default:Wt(this.auth,"internal-error")}}resolve(p){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $e=new Ft(2e3,1e4);function sn(){return(sn=(0,l.Z)(function*(v,p,m){const b=Wn(v);cr(v,p,ai);const S=E(b,m);return new Hr(b,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function ui(){return(ui=(0,l.Z)(function*(v,p,m){const b=(0,N.m9)(v);cr(b.auth,p,ai);const S=E(b.auth,m);return new Hr(b.auth,"reauthViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}function Br(){return(Br=(0,l.Z)(function*(v,p,m){const b=(0,N.m9)(v);cr(b.auth,p,ai);const S=E(b.auth,m);return new Hr(b.auth,"linkViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}let Hr=(()=>{class v extends Xe{constructor(m,b,S,A,H){super(m,b,A,H),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const b=yield m.execute();return Ie(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,l.Z)(function*(){nt(1===m.filter.length,"Popup operations only handle one event");const b=Ln();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(kn(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,S;this.pollId=(null===(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,$e.get())};m()}}return v.currentPopupAction=null,v})();const jr=new Map;class cs extends Xe{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,l.Z)(function*(){let b=jr.get(m.auth._key());if(!b){try{const A=(yield function to(v,p){return Qc.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(A)}catch(S){b=()=>Promise.reject(S)}jr.set(m.auth._key(),b)}return m.bypassAuthState||jr.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const S=yield b.auth._redirectUserForId(p.eventId);if(S)return b.user=S,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Qc(){return(Qc=(0,l.Z)(function*(v,p){const m=Xc(p),b=Jl(v);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(m));return yield b._remove(m),S})).apply(this,arguments)}function y1(v,p){return dh.apply(this,arguments)}function dh(){return(dh=(0,l.Z)(function*(v,p){return Jl(v)._set(Xc(p),"true")})).apply(this,arguments)}function Jl(v){return Jt(v._redirectPersistence)}function Xc(v){return Qt("pendingRedirect",v.config.apiKey,v.name)}function hh(){return(hh=(0,l.Z)(function*(v,p,m){const b=Wn(v);cr(v,p,ai);const S=E(b,m);return yield y1(S,b),S._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function b1(){return(b1=(0,l.Z)(function*(v,p,m){const b=(0,N.m9)(v);cr(b.auth,p,ai);const S=E(b.auth,m);yield y1(S,b.auth);const A=yield no(b);return S._openRedirect(b.auth,p,"reauthViaRedirect",A)})).apply(this,arguments)}function Ur(){return(Ur=(0,l.Z)(function*(v,p,m){const b=(0,N.m9)(v);cr(b.auth,p,ai);const S=E(b.auth,m);yield So(!1,b,p.providerId),yield y1(S,b.auth);const A=yield no(b);return S._openRedirect(b.auth,p,"linkViaRedirect",A)})).apply(this,arguments)}function C1(){return(C1=(0,l.Z)(function*(v,p){return yield Wn(v)._initializationPromise,Jc(v,p,!1)})).apply(this,arguments)}function Jc(v,p){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,l.Z)(function*(v,p,m=!1){const b=Wn(v),S=E(b,p),H=yield new cs(b,S,m).execute();return H&&!m&&(delete H.user._redirectEventId,yield b._persistUserIfCurrent(H.user),yield b._setRedirectUser(null,p)),H})).apply(this,arguments)}function no(v){return tc.apply(this,arguments)}function tc(){return(tc=(0,l.Z)(function*(v){const p=Ln(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class nc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function xf(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return io(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!io(p)){const S=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(kn(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(w1(p))}saveEventToCache(p){this.cachedEventUids.add(w1(p)),this.lastProcessedEventTime=Date.now()}}function w1(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function io({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function M1(v){return eu.apply(this,arguments)}function eu(){return(eu=(0,l.Z)(function*(v,p={}){return Rn(v,"GET","/v1/projects",p)})).apply(this,arguments)}const km=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tu=/^https?/;function _a(){return(_a=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield M1(v);for(const m of p)try{if(Ef(m))return}catch(b){}Wt(v,"unauthorized-domain")})).apply(this,arguments)}function Ef(v){const p=bt(),{protocol:m,hostname:b}=new URL(p);if(v.startsWith("chrome-extension://")){const H=new URL(v);return""===H.hostname&&""===b?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&H.hostname===b}if(!tu.test(m))return!1;if(km.test(v))return b===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const D1=new Ft(3e4,6e4);function ic(){const v=Bn().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let nu=null;function Sf(v){return nu=nu||function ph(v){return new Promise((p,m)=>{var b,S,A;function H(){ic(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ic(),m(kn(v,"network-request-failed"))},timeout:D1.get()})}if(null===(S=null===(b=Bn().gapi)||void 0===b?void 0:b.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(A=Bn().gapi)||void 0===A?void 0:A.load)){const re=ko("iframefcb");return Bn()[re]=()=>{gapi.load?H():m(kn(v,"network-request-failed"))},ll(`https://apis.google.com/js/api.js?onload=${re}`).catch(Pe=>m(Pe))}H()}}).catch(p=>{throw nu=null,p})}(v),nu}const If=new Ft(5e3,15e3),Om={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nm(v){const p=v.config;Ie(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?it(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:v.name,v:ae.SDK_VERSION},S=Pm.get(v.config.apiHost);S&&(b.eid=S);const A=v._getFrameworks();return A.length&&(b.fw=A.join(",")),`${m}?${(0,N.xO)(b).slice(1)}`}function pl(){return pl=(0,l.Z)(function*(v){const p=yield Sf(v),m=Bn().gapi;return Ie(m,v,"internal-error"),p.open({where:document.body,url:Nm(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Om,dontclear:!0},b=>new Promise(function(){var S=(0,l.Z)(function*(A,H){yield b.restyle({setHideOnLeave:!1});const re=kn(v,"network-request-failed"),Pe=Bn().setTimeout(()=>{H(re)},If.get());function Te(){Bn().clearTimeout(Pe),A(b)}b.ping(Te).then(Te,()=>{H(re)})});return function(A,H){return S.apply(this,arguments)}}()))}),pl.apply(this,arguments)}const E1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _h{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function As(v,p,m,b,S,A){Ie(v.config.authDomain,v,"auth-domain-config-required"),Ie(v.config.apiKey,v,"invalid-api-key");const H={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:b,v:ae.SDK_VERSION,eventId:S};if(p instanceof ai){p.setDefaultLanguage(v.languageCode),H.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(H.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Pe,Te]of Object.entries(A||{}))H[Pe]=Te}if(p instanceof Yn){const Pe=p.getScopes().filter(Te=>""!==Te);Pe.length>0&&(H.scopes=Pe.join(","))}v.tenantId&&(H.tid=v.tenantId);const re=H;for(const Pe of Object.keys(re))void 0===re[Pe]&&delete re[Pe];return`${function yh({config:v}){return v.emulator?it(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,N.xO)(re).slice(1)}`}const kf="webStorageSupport";class gl extends class iu{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return Si("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new gl(p)}_finalizeEnroll(p,m,b){return function il(v,p){return Rn(v,"POST","/v2/accounts/mfaEnrollment:finalize",Ct(v,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function oh(v,p){return Rn(v,"POST","/v2/accounts/mfaSignIn:finalize",Ct(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fm=(()=>{class v{constructor(){}static assertion(m){return gl._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var sc="@firebase/auth";class S1{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{var S;p((null===(S=b)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wn(){return window}function oc(){return(oc=(0,l.Z)(function*(v,p,m){var b;const{BuildInfo:S}=wn();nt(p.sessionId,"AuthEvent did not contain a session ID");const A=yield Ag(p.sessionId),H={};return rs()?H.ibi=S.packageName:is()?H.apn=S.packageName:Wt(v,"operation-not-supported-in-this-environment"),S.displayName&&(H.appDisplayName=S.displayName),H.sessionId=A,As(v,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,H)})).apply(this,arguments)}function ac(){return(ac=(0,l.Z)(function*(v){const{BuildInfo:p}=wn(),m={};rs()?m.iosBundleId=p.packageName:is()?m.androidPackageName=p.packageName:Wt(v,"operation-not-supported-in-this-environment"),yield M1(v,m)})).apply(this,arguments)}function Mh(){return(Mh=(0,l.Z)(function*(v,p,m){const{cordova:b}=wn();let S=()=>{};try{yield new Promise((A,H)=>{let re=null;function Pe(){var Je;A();const Ht=null===(Je=b.plugins.browsertab)||void 0===Je?void 0:Je.close;"function"==typeof Ht&&Ht(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Te(){re||(re=window.setTimeout(()=>{H(kn(v,"redirect-cancelled-by-user"))},2e3))}function et(){"visible"===(null==document?void 0:document.visibilityState)&&Te()}p.addPassiveListener(Pe),document.addEventListener("resume",Te,!1),is()&&document.addEventListener("visibilitychange",et,!1),S=()=>{p.removePassiveListener(Pe),document.removeEventListener("resume",Te,!1),document.removeEventListener("visibilitychange",et,!1),re&&window.clearTimeout(re)}})}finally{S()}})).apply(this,arguments)}function Ag(v){return su.apply(this,arguments)}function su(){return(su=(0,l.Z)(function*(v){const p=lc(v),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function lc(v){if(nt(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),m=new Uint8Array(p);for(let b=0;b<v.length;b++)m[b]=v.charCodeAt(b);return m}!function I1(v){(0,ae._registerComponent)(new de.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),{apiKey:S,authDomain:A}=b.options;return(H=>{Ie(S&&!S.includes(":"),"invalid-api-key",{appName:H.name}),Ie(!(null==A?void 0:A.includes(":")),"argument-error",{appName:H.name});const re={apiKey:S,authDomain:A,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wi(v)},Pe=new Tc(H,re);return function bo(v,p){const m=(null==p?void 0:p.persistence)||[],b=(Array.isArray(m)?m:[m]).map(Jt);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(Pe,m),Pe})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new de.wA("auth-internal",p=>{const m=Wn(p.getProvider("auth").getImmediate());return new S1(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(sc,"0.19.7",function Ch(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,ae.registerVersion)(sc,"0.19.7","esm2017")}("Browser");class _l extends nc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function Ai(v){return vl.apply(this,arguments)}function vl(){return(vl=(0,l.Z)(function*(v){const p=yield Eh()._get(k1(v));return p&&(yield Eh()._remove(k1(v))),p})).apply(this,arguments)}function Vm(){const v=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*p.length);v.push(p.charAt(b))}return v.join("")}function Eh(){return Jt(sl)}function k1(v){return Qt("authEvent",v.config.apiKey,v.name)}function au(v){if(!(null==v?void 0:v.includes("?")))return{};const[p,...m]=v.split("?");return(0,N.zd)(m.join("?"))}function yl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:kn("no-auth-event")}}function va(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function Of(v=(0,N.z$)()){return!("file:"!==va()&&"ionic:"!==va()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Th(){try{const v=self.localStorage,p=Ln();if(v)return v.setItem(p,"1"),v.removeItem(p),!function Wm(v=(0,N.z$)()){return function $m(){return(0,N.w1)()&&11===(null==document?void 0:document.documentMode)}()||function qm(v=(0,N.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,N.hl)()}catch(v){return Ah()&&(0,N.hl)()}return!1}function Ah(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function kh(){return(function uu(){return"http:"===va()||"https:"===va()}()||(0,N.ru)()||Of())&&!function Gm(){return(0,N.b$)()||(0,N.UG)()}()&&Th()&&!Ah()}function Rh(){return Of()&&"undefined"!=typeof document}function R1(){return(R1=(0,l.Z)(function*(){return!!Rh()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const Gr={LOCAL:"local",NONE:"none",SESSION:"session"},du=Ie,ya="persistence";function Oh(v){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,l.Z)(function*(v){yield v._initializationPromise;const p=Pf(),m=Qt(ya,v.config.apiKey,v.name);p&&p.setItem(m,v._getPersistence())})).apply(this,arguments)}function Pf(){var v;try{return(null===(v=function Zm(){return"undefined"!=typeof window?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch(p){return null}}const so=Ie;class oo{constructor(){this.browserResolver=Jt(class Ig{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fn,this._completeRedirectFn=Jc}_openPopup(p,m,b,S){var A=this;return(0,l.Z)(function*(){var H;nt(null===(H=A.eventManagers[p._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const re=As(p,m,b,bt(),S);return function Sg(v,p,m,b=500,S=600){const A=Math.max((window.screen.availHeight-S)/2,0).toString(),H=Math.max((window.screen.availWidth-b)/2,0).toString();let re="";const Pe=Object.assign(Object.assign({},E1),{width:b.toString(),height:S.toString(),top:A,left:H}),Te=(0,N.z$)().toLowerCase();m&&(re=$s(Te)?"_blank":m),At(Te)&&(p=p||"http://localhost",Pe.scrollbars="yes");const et=Object.entries(Pe).reduce((Ht,[ki,ks])=>`${Ht}${ki}=${ks},`,"");if(function gn(v=(0,N.z$)()){var p;return rs(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Te)&&"_self"!==re)return function Af(v,p){const m=document.createElement("a");m.href=v,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",re),new _h(null);const Je=window.open(p||"",re,et);Ie(Je,v,"popup-blocked");try{Je.focus()}catch(Ht){}return new _h(Je)}(p,re,Ln())})()}_openRedirect(p,m,b,S){var A=this;return(0,l.Z)(function*(){return yield A._originValidation(p),function ol(v){Bn().location.href=v}(As(p,m,b,bt(),S)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:A}=this.eventManagers[m];return S?Promise.resolve(S):(nt(A,"If manager is not set, promise should be"),A)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,l.Z)(function*(){const b=yield function x1(v){return pl.apply(this,arguments)}(p),S=new nc(p);return b.register("authEvent",A=>(Ie(null==A?void 0:A.authEvent,p,"invalid-auth-event"),{status:S.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=b,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(kf,{type:kf},S=>{var A;const H=null===(A=null==S?void 0:S[0])||void 0===A?void 0:A[kf];void 0!==H&&m(!!H),Wt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ro(v){return _a.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Xo()||Ko()||rs()}}),this.cordovaResolver=Jt(class Bm{constructor(){this._redirectPersistence=Fn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Jc}_initialize(p){var m=this;return(0,l.Z)(function*(){const b=p._key();let S=m.eventManagers.get(b);return S||(S=new _l(p),m.eventManagers.set(b,S),m.attachCallbackListeners(p,S)),S})()}_openPopup(p){Wt(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,S){var A=this;return(0,l.Z)(function*(){!function zm(v){var p,m,b,S,A,H,re,Pe,Te,et;const Je=wn();Ie("function"==typeof(null===(p=null==Je?void 0:Je.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ie(void 0!==(null===(m=null==Je?void 0:Je.BuildInfo)||void 0===m?void 0:m.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ie("function"==typeof(null===(A=null===(S=null===(b=null==Je?void 0:Je.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===A?void 0:A.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(Pe=null===(re=null===(H=null==Je?void 0:Je.cordova)||void 0===H?void 0:H.plugins)||void 0===re?void 0:re.browsertab)||void 0===Pe?void 0:Pe.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(et=null===(Te=null==Je?void 0:Je.cordova)||void 0===Te?void 0:Te.InAppBrowser)||void 0===et?void 0:et.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const H=yield A._initialize(p);yield H.initialized(),H.resetRedirect(),function Xl(){jr.clear()}(),yield A._originValidation(p);const re=function Dh(v,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Vm(),postBody:null,tenantId:v.tenantId,error:kn(v,"no-auth-event")}}(p,b,S);yield function ou(v,p){return Eh()._set(k1(v),p)}(p,re);const Pe=yield function us(v,p,m){return oc.apply(this,arguments)}(p,re,m),Te=yield function A1(v){const{cordova:p}=wn();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let S=null;b?p.plugins.browsertab.openUrl(v):S=p.InAppBrowser.open(v,function Mi(v=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),m(S)})})}(Pe);return function Lm(v,p,m){return Mh.apply(this,arguments)}(p,H,Te)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function wh(v){return ac.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:S,BuildInfo:A}=wn(),H=setTimeout((0,l.Z)(function*(){yield Ai(p),m.onEvent(yl())}),500),re=function(){var et=(0,l.Z)(function*(Je){clearTimeout(H);const Ht=yield Ai(p);let ki=null;Ht&&(null==Je?void 0:Je.url)&&(ki=function xh(v,p){var m,b;const S=function Rf(v){const p=au(v),m=p.link?decodeURIComponent(p.link):void 0,b=au(m).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return au(S).link||S||b||m||v}(p);if(S.includes("/__/auth/callback")){const A=au(S),H=A.firebaseError?function Sh(v){try{return JSON.parse(v)}catch(p){return null}}(decodeURIComponent(A.firebaseError)):null,re=null===(b=null===(m=null==H?void 0:H.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Pe=re?kn(re):null;return Pe?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:S,postBody:null}}return null}(Ht,Je.url)),m.onEvent(ki||yl())});return function(Ht){return et.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,re);const Pe=S,Te=`${A.packageName.toLowerCase()}://`;wn().handleOpenURL=function(){var et=(0,l.Z)(function*(Je){if(Je.toLowerCase().startsWith(Te)&&re({url:Je}),"function"==typeof Pe)try{Pe(Je)}catch(Ht){console.error(Ht)}});return function(Je){return et.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Fn,this._completeRedirectFn=Jc}_initialize(p){var m=this;return(0,l.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,S){var A=this;return(0,l.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openPopup(p,m,b,S)})()}_openRedirect(p,m,b,S){var A=this;return(0,l.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openRedirect(p,m,b,S)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Rh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return so(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const m=yield function Ym(){return R1.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function O1(v){return v.unwrap()}function Nf(v){return Fh(v)}function Fh(v){const{_tokenResponse:p}=v instanceof N.ZR?v.customData:v;if(!p)return null;if(!(v instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return x.credentialFromResult(v);const m=p.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=os;break;case"facebook.com":b=ta;break;case"github.com":b=Yi;break;case"twitter.com":b=Ys;break;default:const{oauthIdToken:S,oauthAccessToken:A,oauthTokenSecret:H,pendingToken:re,nonce:Pe}=p;return A||H||S||re?re?m.startsWith("saml.")?as._create(m,re):Ni._fromParams({providerId:m,signInMethod:m,pendingToken:re,idToken:S,accessToken:A}):new ws(m).credential({idToken:S,accessToken:A,rawNonce:Pe}):null}return v instanceof N.ZR?b.credentialFromError(v):b.credentialFromResult(v)}function pr(v,p){return p.catch(m=>{throw m instanceof N.ZR&&function bl(v,p){var m;const b=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Lh(v,function ft(v,p){var m;const b=(0,N.m9)(v),S=p;return Ie(p.customData.operationType,b,"argument-error"),Ie(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Ss._fromError(b,S)}(v,p));else if(b){const S=Fh(p),A=p;S&&(A.credential=S,A.tenantId=b.tenantId||void 0,A.email=b.email||void 0,A.phoneNumber=b.phoneNumber||void 0)}}(v,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:Nf(m),additionalUserInfo:qe(m),user:ba.getOrCreate(S)}})}function hu(v,p){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,l.Z)(function*(v,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>pr(v,m.confirm(b))}})).apply(this,arguments)}class Lh{constructor(p,m){this.resolver=m,this.auth=function Km(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return pr(O1(this.auth),this.resolver.resolveSignIn(p))}}class ba{constructor(p){this._delegate=p,this.multiFactor=function Yl(v){const p=(0,N.m9)(v);return dn.has(p)||dn.set(p,ca._fromUser(p)),dn.get(p)}(p)}static getOrCreate(p){return ba.USER_MAP.has(p)||ba.USER_MAP.set(p,new ba(p)),ba.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,l.Z)(function*(){return pr(m.auth,qa(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,l.Z)(function*(){return hu(b.auth,function Ti(v,p,m){return Vn.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,l.Z)(function*(){return pr(m.auth,function yn(v,p,m){return Br.apply(this,arguments)}(m._delegate,p,oo))})()}linkWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield Oh(Wn(m.auth)),function fh(v,p,m){return function ec(v,p,m){return Ur.apply(this,arguments)}(v,p,m)}(m._delegate,p,oo)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,l.Z)(function*(){return pr(m.auth,Pr(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return hu(this.auth,function v1(v,p,m){return fl.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return pr(this.auth,function Xi(v,p,m){return ui.apply(this,arguments)}(this._delegate,p,oo))}reauthenticateWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield Oh(Wn(m.auth)),function Eg(v,p,m){return function Am(v,p,m){return b1.apply(this,arguments)}(v,p,m)}(m._delegate,p,oo)})()}sendEmailVerification(p){return function Hc(v,p){return Ks.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,l.Z)(function*(){return yield function Ee(v,p){return zt.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Jd(v,p){return el((0,N.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function vf(v,p){return el((0,N.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function uh(v,p){return Ql.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function xs(v,p){return Pn.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function $l(v,p,m){return ql.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ba.USER_MAP=new WeakMap;const ao=Ie;let P1=(()=>{class v{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;ao(S,"invalid-api-key",{appName:m.name}),ao(S,"invalid-api-key",{appName:m.name});const A="undefined"!=typeof window?oo:void 0;this._delegate=b.initialize({options:{persistence:Ff(S,m.name),popupRedirectResolver:A}}),this._delegate._updateErrorMap(ji),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ba.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function ss(v,p,m){const b=Wn(v);Ie(b._canInitEmulator,b,"emulator-config-failed"),Ie(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const S=!!(null==m?void 0:m.disableWarnings),A=Ac(p),{host:H,port:re}=function ff(v){const p=Ac(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const A=S[1];return{host:A,port:qd(b.substr(A.length+1))}}{const[A,H]=b.split(":");return{host:A,port:qd(H)}}}(p);b.config.emulator={url:`${A}//${H}${null===re?"":`:${re}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:H,port:re,protocol:A.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Rr(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,m,b)}applyActionCode(m){return function Vc(v,p){return la.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return l1(this._delegate,m)}confirmPasswordReset(m,b){return function Ka(v,p,m){return jl.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var S=this;return(0,l.Z)(function*(){return pr(S._delegate,function Ul(v,p,m){return c1.apply(this,arguments)}(S._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function d1(v,p){return Qd.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function On(v,p){const m=_n.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,l.Z)(function*(){ao(kh(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Ts(v,p){return C1.apply(this,arguments)}(m._delegate,oo);return b?pr(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function jm(v,p){Wn(v)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,S){const{next:A,error:H,complete:re}=zh(m,b,S);return this._delegate.onAuthStateChanged(A,H,re)}onIdTokenChanged(m,b,S){const{next:A,error:H,complete:re}=zh(m,b,S);return this._delegate.onIdTokenChanged(A,H,re)}sendSignInLinkToEmail(m,b){return function xi(v,p,m){return Zn.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function Ya(v,p,m){return Za.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,l.Z)(function*(){let S;switch(function Oo(v,p){du(Object.values(Gr).includes(p),v,"invalid-persistence-type"),(0,N.b$)()?du(p!==Gr.SESSION,v,"unsupported-persistence-type"):(0,N.UG)()?du(p===Gr.NONE,v,"unsupported-persistence-type"):Ah()?du(p===Gr.NONE||p===Gr.LOCAL&&(0,N.hl)(),v,"unsupported-persistence-type"):du(p===Gr.NONE||Th(),v,"unsupported-persistence-type")}(b._delegate,m),m){case Gr.SESSION:S=Fn;break;case Gr.LOCAL:S=(yield Jt(Lr)._isAvailable())?Lr:sl;break;case Gr.NONE:S=$i;break;default:return Wt("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return pr(this._delegate,function $a(v){return ia.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return pr(this._delegate,Vl(this._delegate,m))}signInWithCustomToken(m){return pr(this._delegate,function a1(v,p){return oa.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return pr(this._delegate,function _f(v,p,m){return Vl((0,N.m9)(v),ea.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return pr(this._delegate,function Gl(v,p,m){return Ja.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return hu(this._delegate,function Zl(v,p,m){return Vr.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,l.Z)(function*(){return ao(kh(),b._delegate,"operation-not-supported-in-this-environment"),pr(b._delegate,function Yt(v,p,m){return sn.apply(this,arguments)}(b._delegate,m,oo))})()}signInWithRedirect(m){var b=this;return(0,l.Z)(function*(){return ao(kh(),b._delegate,"operation-not-supported-in-this-environment"),yield Oh(b._delegate),function xg(v,p,m){return function wf(v,p,m){return hh.apply(this,arguments)}(v,p,m)}(b._delegate,m,oo)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Bc(v,p){return Xa.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Gr,v})();function zh(v,p,m){let b=v;"function"!=typeof v&&({next:b,error:p,complete:m}=v);const S=b;return{next:H=>S(H&&ba.getOrCreate(H)),error:p,complete:m}}function Ff(v,p){const m=function Nh(v,p){const m=Pf();if(!m)return[];const b=Qt(ya,v,p);switch(m.getItem(b)){case Gr.NONE:return[$i];case Gr.LOCAL:return[Lr,Fn];case Gr.SESSION:return[Fn];default:return[]}}(v,p);if("undefined"!=typeof self&&!m.includes(Lr)&&m.push(Lr),"undefined"!=typeof window)for(const b of[sl,Fn])m.includes(b)||m.push(b);return m.includes($i)||m.push($i),m}class fu{constructor(){this.providerId="phone",this._delegate=new x(O1(J.Z.auth()))}static credential(p,m){return x.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}fu.PHONE_SIGN_IN_METHOD=x.PHONE_SIGN_IN_METHOD,fu.PROVIDER_ID=x.PROVIDER_ID;const Qm=Ie;class di{constructor(p,m,b=J.Z.app()){var S;Qm(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Li(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function N1(v){v.INTERNAL.registerComponent(new de.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new P1(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ea,FacebookAuthProvider:ta,GithubAuthProvider:Yi,GoogleAuthProvider:os,OAuthProvider:ws,SAMLAuthProvider:Zi,PhoneAuthProvider:fu,PhoneMultiFactorGenerator:Fm,RecaptchaVerifier:di,TwitterAuthProvider:Ys,Auth:P1,AuthCredential:za,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.7")}(J.Z)},2940:function(lt,Ce){!function(P){"use strict";function l(Z){return Array.prototype.slice.call(Z)}function J(Z){return new Promise(function(se,me){Z.onsuccess=function(){se(Z.result)},Z.onerror=function(){me(Z.error)}})}function N(Z,se,me){var De,ge=new Promise(function(Ge,xe){J(De=Z[se].apply(Z,me)).then(Ge,xe)});return ge.request=De,ge}function ae(Z,se,me){var De=N(Z,se,me);return De.then(function(ge){if(ge)return new U(ge,De.request)})}function oe(Z,se,me){me.forEach(function(De){Object.defineProperty(Z.prototype,De,{get:function(){return this[se][De]},set:function(ge){this[se][De]=ge}})})}function he(Z,se,me,De){De.forEach(function(ge){ge in me.prototype&&(Z.prototype[ge]=function(){return N(this[se],ge,arguments)})})}function X(Z,se,me,De){De.forEach(function(ge){ge in me.prototype&&(Z.prototype[ge]=function(){return this[se][ge].apply(this[se],arguments)})})}function le(Z,se,me,De){De.forEach(function(ge){ge in me.prototype&&(Z.prototype[ge]=function(){return ae(this[se],ge,arguments)})})}function ce(Z){this._index=Z}function U(Z,se){this._cursor=Z,this._request=se}function j(Z){this._store=Z}function ne(Z){this._tx=Z,this.complete=new Promise(function(se,me){Z.oncomplete=function(){se()},Z.onerror=function(){me(Z.error)},Z.onabort=function(){me(Z.error)}})}function je(Z,se,me){this._db=Z,this.oldVersion=se,this.transaction=new ne(me)}function Me(Z){this._db=Z}oe(ce,"_index",["name","keyPath","multiEntry","unique"]),he(ce,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),le(ce,"_index",IDBIndex,["openCursor","openKeyCursor"]),oe(U,"_cursor",["direction","key","primaryKey","value"]),he(U,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Z){Z in IDBCursor.prototype&&(U.prototype[Z]=function(){var se=this,me=arguments;return Promise.resolve().then(function(){return se._cursor[Z].apply(se._cursor,me),J(se._request).then(function(De){if(De)return new U(De,se._request)})})})}),j.prototype.createIndex=function(){return new ce(this._store.createIndex.apply(this._store,arguments))},j.prototype.index=function(){return new ce(this._store.index.apply(this._store,arguments))},oe(j,"_store",["name","keyPath","indexNames","autoIncrement"]),he(j,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),le(j,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),X(j,"_store",IDBObjectStore,["deleteIndex"]),ne.prototype.objectStore=function(){return new j(this._tx.objectStore.apply(this._tx,arguments))},oe(ne,"_tx",["objectStoreNames","mode"]),X(ne,"_tx",IDBTransaction,["abort"]),je.prototype.createObjectStore=function(){return new j(this._db.createObjectStore.apply(this._db,arguments))},oe(je,"_db",["name","version","objectStoreNames"]),X(je,"_db",IDBDatabase,["deleteObjectStore","close"]),Me.prototype.transaction=function(){return new ne(this._db.transaction.apply(this._db,arguments))},oe(Me,"_db",["name","version","objectStoreNames"]),X(Me,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Z){[j,ce].forEach(function(se){Z in se.prototype&&(se.prototype[Z.replace("open","iterate")]=function(){var me=l(arguments),De=me[me.length-1],ge=this._store||this._index,Ge=ge[Z].apply(ge,me.slice(0,-1));Ge.onsuccess=function(){De(Ge.result)}})})}),[ce,j].forEach(function(Z){Z.prototype.getAll||(Z.prototype.getAll=function(se,me){var De=this,ge=[];return new Promise(function(Ge){De.iterateCursor(se,function(xe){xe?(ge.push(xe.value),void 0===me||ge.length!=me?xe.continue():Ge(ge)):Ge(ge)})})})}),P.openDb=function Re(Z,se,me){var De=N(indexedDB,"open",[Z,se]),ge=De.request;return ge&&(ge.onupgradeneeded=function(Ge){me&&me(new je(ge.result,Ge.oldVersion,ge.transaction))}),De.then(function(Ge){return new Me(Ge)})},P.deleteDb=function ze(Z){return N(indexedDB,"deleteDatabase",[Z])},Object.defineProperty(P,"__esModule",{value:!0})}(Ce)},8306:(lt,Ce,P)=>{"use strict";P.d(Ce,{y:()=>U});var l=P(930),J=P(727),N=P(8822),ae=P(4671);var X=P(2416),le=P(576),ce=P(2806);let U=(()=>{class Me{constructor(ze){ze&&(this._subscribe=ze)}lift(ze){const Z=new Me;return Z.source=this,Z.operator=ze,Z}subscribe(ze,Z,se){const me=function je(Me){return Me&&Me instanceof l.Lv||function ne(Me){return Me&&(0,le.m)(Me.next)&&(0,le.m)(Me.error)&&(0,le.m)(Me.complete)}(Me)&&(0,J.Nn)(Me)}(ze)?ze:new l.Hp(ze,Z,se);return(0,ce.x)(()=>{const{operator:De,source:ge}=this;me.add(De?De.call(me,ge):ge?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(ze){try{return this._subscribe(ze)}catch(Z){ze.error(Z)}}forEach(ze,Z){return new(Z=j(Z))((se,me)=>{let De;De=this.subscribe(ge=>{try{ze(ge)}catch(Ge){me(Ge),null==De||De.unsubscribe()}},me,se)})}_subscribe(ze){var Z;return null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(ze)}[N.L](){return this}pipe(...ze){return function he(Me){return 0===Me.length?ae.y:1===Me.length?Me[0]:function(ze){return Me.reduce((Z,se)=>se(Z),ze)}}(ze)(this)}toPromise(ze){return new(ze=j(ze))((Z,se)=>{let me;this.subscribe(De=>me=De,De=>se(De),()=>Z(me))})}}return Me.create=Re=>new Me(Re),Me})();function j(Me){var Re;return null!==(Re=null!=Me?Me:X.v.Promise)&&void 0!==Re?Re:Promise}},7579:(lt,Ce,P)=>{"use strict";P.d(Ce,{x:()=>X});var l=P(8306),J=P(727);const ae=(0,P(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=P(8737),he=P(2806);let X=(()=>{class ce extends l.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const ne=new le(this,this);return ne.operator=j,ne}_throwIfClosed(){if(this.closed)throw new ae}next(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ne=this.observers.slice();for(const je of ne)je.next(j)}})}error(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:ne}=this;for(;ne.length;)ne.shift().error(j)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:ne,isStopped:je,observers:Me}=this;return ne||je?J.Lc:(Me.push(j),new J.w0(()=>(0,oe.P)(Me,j)))}_checkFinalizedStatuses(j){const{hasError:ne,thrownError:je,isStopped:Me}=this;ne?j.error(je):Me&&j.complete()}asObservable(){const j=new l.y;return j.source=this,j}}return ce.create=(U,j)=>new le(U,j),ce})();class le extends X{constructor(U,j){super(),this.destination=U,this.source=j}next(U){var j,ne;null===(ne=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===ne||ne.call(j,U)}error(U){var j,ne;null===(ne=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===ne||ne.call(j,U)}complete(){var U,j;null===(j=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===j||j.call(U)}_subscribe(U){var j,ne;return null!==(ne=null===(j=this.source)||void 0===j?void 0:j.subscribe(U))&&void 0!==ne?ne:J.Lc}}},930:(lt,Ce,P)=>{"use strict";P.d(Ce,{Hp:()=>je,Lv:()=>ne});var l=P(576),J=P(727),N=P(2416),ae=P(7849),oe=P(5032);const he=ce("C",void 0,void 0);function ce(se,me,De){return{kind:se,value:me,error:De}}var U=P(3410),j=P(2806);class ne extends J.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,J.Nn)(me)&&me.add(this)):this.destination=Z}static create(me,De,ge){return new je(me,De,ge)}next(me){this.isStopped?ze(function le(se){return ce("N",se,void 0)}(me),this):this._next(me)}error(me){this.isStopped?ze(function X(se){return ce("E",void 0,se)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?ze(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class je extends ne{constructor(me,De,ge){let Ge;if(super(),(0,l.m)(me))Ge=me;else if(me){let xe;({next:Ge,error:De,complete:ge}=me),this&&N.v.useDeprecatedNextContext?(xe=Object.create(me),xe.unsubscribe=()=>this.unsubscribe()):xe=me,Ge=null==Ge?void 0:Ge.bind(xe),De=null==De?void 0:De.bind(xe),ge=null==ge?void 0:ge.bind(xe)}this.destination={next:Ge?Me(Ge):oe.Z,error:Me(null!=De?De:Re),complete:ge?Me(ge):oe.Z}}}function Me(se,me){return(...De)=>{try{se(...De)}catch(ge){N.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(ge):(0,ae.h)(ge)}}}function Re(se){throw se}function ze(se,me){const{onStoppedNotification:De}=N.v;De&&U.z.setTimeout(()=>De(se,me))}const Z={closed:!0,next:oe.Z,error:Re,complete:oe.Z}},727:(lt,Ce,P)=>{"use strict";P.d(Ce,{Lc:()=>he,w0:()=>oe,Nn:()=>X});var l=P(576);const N=(0,P(3888).d)(ce=>function(j){ce(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((ne,je)=>`${je+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ae=P(8737);class oe{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Me of j)Me.remove(this);else j.remove(this);const{initialTeardown:ne}=this;if((0,l.m)(ne))try{ne()}catch(Me){U=Me instanceof N?Me.errors:[Me]}const{_teardowns:je}=this;if(je){this._teardowns=null;for(const Me of je)try{le(Me)}catch(Re){U=null!=U?U:[],Re instanceof N?U=[...U,...Re.errors]:U.push(Re)}}if(U)throw new N(U)}}add(U){var j;if(U&&U!==this)if(this.closed)le(U);else{if(U instanceof oe){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._teardowns=null!==(j=this._teardowns)&&void 0!==j?j:[]).push(U)}}_hasParent(U){const{_parentage:j}=this;return j===U||Array.isArray(j)&&j.includes(U)}_addParent(U){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(U),j):j?[j,U]:U}_removeParent(U){const{_parentage:j}=this;j===U?this._parentage=null:Array.isArray(j)&&(0,ae.P)(j,U)}remove(U){const{_teardowns:j}=this;j&&(0,ae.P)(j,U),U instanceof oe&&U._removeParent(this)}}oe.EMPTY=(()=>{const ce=new oe;return ce.closed=!0,ce})();const he=oe.EMPTY;function X(ce){return ce instanceof oe||ce&&"closed"in ce&&(0,l.m)(ce.remove)&&(0,l.m)(ce.add)&&(0,l.m)(ce.unsubscribe)}function le(ce){(0,l.m)(ce)?ce():ce.unsubscribe()}},2416:(lt,Ce,P)=>{"use strict";P.d(Ce,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(lt,Ce,P)=>{"use strict";P.d(Ce,{E:()=>J});const J=new(P(8306).y)(oe=>oe.complete())},8996:(lt,Ce,P)=>{"use strict";P.d(Ce,{D:()=>Ge});var l=P(8421),J=P(5363),N=P(9468),he=P(8306),le=P(2202),ce=P(576),U=P(9672);function ne(xe,ot){if(!xe)throw new Error("Iterable cannot be null");return new he.y(Ke=>{(0,U.f)(Ke,ot,()=>{const yt=xe[Symbol.asyncIterator]();(0,U.f)(Ke,ot,()=>{yt.next().then(ee=>{ee.done?Ke.complete():Ke.next(ee.value)})},0,!0)})})}var je=P(3670),Me=P(8239),Re=P(1144),ze=P(6495),Z=P(2206),se=P(4532),me=P(3260);function Ge(xe,ot){return ot?function ge(xe,ot){if(null!=xe){if((0,je.c)(xe))return function ae(xe,ot){return(0,l.Xf)(xe).pipe((0,N.R)(ot),(0,J.Q)(ot))}(xe,ot);if((0,Re.z)(xe))return function X(xe,ot){return new he.y(Ke=>{let yt=0;return ot.schedule(function(){yt===xe.length?Ke.complete():(Ke.next(xe[yt++]),Ke.closed||this.schedule())})})}(xe,ot);if((0,Me.t)(xe))return function oe(xe,ot){return(0,l.Xf)(xe).pipe((0,N.R)(ot),(0,J.Q)(ot))}(xe,ot);if((0,Z.D)(xe))return ne(xe,ot);if((0,ze.T)(xe))return function j(xe,ot){return new he.y(Ke=>{let yt;return(0,U.f)(Ke,ot,()=>{yt=xe[le.h](),(0,U.f)(Ke,ot,()=>{let ee,pe;try{({value:ee,done:pe}=yt.next())}catch(_e){return void Ke.error(_e)}pe?Ke.complete():Ke.next(ee)},0,!0)}),()=>(0,ce.m)(null==yt?void 0:yt.return)&&yt.return()})}(xe,ot);if((0,me.L)(xe))return function De(xe,ot){return ne((0,me.Q)(xe),ot)}(xe,ot)}throw(0,se.z)(xe)}(xe,ot):(0,l.Xf)(xe)}},8421:(lt,Ce,P)=>{"use strict";P.d(Ce,{Xf:()=>je});var l=P(5987),J=P(1144),N=P(8239),ae=P(8306),oe=P(3670),he=P(2206),X=P(4532),le=P(6495),ce=P(3260),U=P(576),j=P(7849),ne=P(8822);function je(ge){if(ge instanceof ae.y)return ge;if(null!=ge){if((0,oe.c)(ge))return function Me(ge){return new ae.y(Ge=>{const xe=ge[ne.L]();if((0,U.m)(xe.subscribe))return xe.subscribe(Ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ge);if((0,J.z)(ge))return function Re(ge){return new ae.y(Ge=>{for(let xe=0;xe<ge.length&&!Ge.closed;xe++)Ge.next(ge[xe]);Ge.complete()})}(ge);if((0,N.t)(ge))return function ze(ge){return new ae.y(Ge=>{ge.then(xe=>{Ge.closed||(Ge.next(xe),Ge.complete())},xe=>Ge.error(xe)).then(null,j.h)})}(ge);if((0,he.D)(ge))return se(ge);if((0,le.T)(ge))return function Z(ge){return new ae.y(Ge=>{for(const xe of ge)if(Ge.next(xe),Ge.closed)return;Ge.complete()})}(ge);if((0,ce.L)(ge))return function me(ge){return se((0,ce.Q)(ge))}(ge)}throw(0,X.z)(ge)}function se(ge){return new ae.y(Ge=>{(function De(ge,Ge){var xe,ot,Ke,yt;return(0,l.mG)(this,void 0,void 0,function*(){try{for(xe=(0,l.KL)(ge);!(ot=yield xe.next()).done;)if(Ge.next(ot.value),Ge.closed)return}catch(ee){Ke={error:ee}}finally{try{ot&&!ot.done&&(yt=xe.return)&&(yield yt.call(xe))}finally{if(Ke)throw Ke.error}}Ge.complete()})})(ge,Ge).catch(xe=>Ge.error(xe))})}},6451:(lt,Ce,P)=>{"use strict";P.d(Ce,{T:()=>he});var l=P(8189),J=P(8421),N=P(515),ae=P(3269),oe=P(8996);function he(...X){const le=(0,ae.yG)(X),ce=(0,ae._6)(X,1/0),U=X;return U.length?1===U.length?(0,J.Xf)(U[0]):(0,l.J)(ce)((0,oe.D)(U,le)):N.E}},5403:(lt,Ce,P)=>{"use strict";P.d(Ce,{Q:()=>J});var l=P(930);class J extends l.Lv{constructor(ae,oe,he,X,le){super(ae),this.onFinalize=le,this._next=oe?function(ce){try{oe(ce)}catch(U){ae.error(U)}}:super._next,this._error=X?function(ce){try{X(ce)}catch(U){ae.error(U)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(ce){ae.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;const{closed:oe}=this;super.unsubscribe(),!oe&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}},4004:(lt,Ce,P)=>{"use strict";P.d(Ce,{U:()=>N});var l=P(4482),J=P(5403);function N(ae,oe){return(0,l.e)((he,X)=>{let le=0;he.subscribe(new J.Q(X,ce=>{X.next(ae.call(oe,ce,le++))}))})}},8189:(lt,Ce,P)=>{"use strict";P.d(Ce,{J:()=>N});var l=P(5577),J=P(4671);function N(ae=1/0){return(0,l.z)(J.y,ae)}},5577:(lt,Ce,P)=>{"use strict";P.d(Ce,{z:()=>le});var l=P(4004),J=P(8421),N=P(4482),ae=P(9672),oe=P(5403),X=P(576);function le(ce,U,j=1/0){return(0,X.m)(U)?le((ne,je)=>(0,l.U)((Me,Re)=>U(ne,Me,je,Re))((0,J.Xf)(ce(ne,je))),j):("number"==typeof U&&(j=U),(0,N.e)((ne,je)=>function he(ce,U,j,ne,je,Me,Re,ze){const Z=[];let se=0,me=0,De=!1;const ge=()=>{De&&!Z.length&&!se&&U.complete()},Ge=ot=>se<ne?xe(ot):Z.push(ot),xe=ot=>{Me&&U.next(ot),se++;let Ke=!1;(0,J.Xf)(j(ot,me++)).subscribe(new oe.Q(U,yt=>{null==je||je(yt),Me?Ge(yt):U.next(yt)},()=>{Ke=!0},void 0,()=>{if(Ke)try{for(se--;Z.length&&se<ne;){const yt=Z.shift();Re?(0,ae.f)(U,Re,()=>xe(yt)):xe(yt)}ge()}catch(yt){U.error(yt)}}))};return ce.subscribe(new oe.Q(U,Ge,()=>{De=!0,ge()})),()=>{null==ze||ze()}}(ne,je,ce,j)))}},5363:(lt,Ce,P)=>{"use strict";P.d(Ce,{Q:()=>ae});var l=P(9672),J=P(4482),N=P(5403);function ae(oe,he=0){return(0,J.e)((X,le)=>{X.subscribe(new N.Q(le,ce=>(0,l.f)(le,oe,()=>le.next(ce),he),()=>(0,l.f)(le,oe,()=>le.complete(),he),ce=>(0,l.f)(le,oe,()=>le.error(ce),he)))})}},3099:(lt,Ce,P)=>{"use strict";P.d(Ce,{B:()=>he});var l=P(8996),J=P(5698),N=P(7579),ae=P(930),oe=P(4482);function he(le={}){const{connector:ce=(()=>new N.x),resetOnError:U=!0,resetOnComplete:j=!0,resetOnRefCountZero:ne=!0}=le;return je=>{let Me=null,Re=null,ze=null,Z=0,se=!1,me=!1;const De=()=>{null==Re||Re.unsubscribe(),Re=null},ge=()=>{De(),Me=ze=null,se=me=!1},Ge=()=>{const xe=Me;ge(),null==xe||xe.unsubscribe()};return(0,oe.e)((xe,ot)=>{Z++,!me&&!se&&De();const Ke=ze=null!=ze?ze:ce();ot.add(()=>{Z--,0===Z&&!me&&!se&&(Re=X(Ge,ne))}),Ke.subscribe(ot),Me||(Me=new ae.Hp({next:yt=>Ke.next(yt),error:yt=>{me=!0,De(),Re=X(ge,U,yt),Ke.error(yt)},complete:()=>{se=!0,De(),Re=X(ge,j),Ke.complete()}}),(0,l.D)(xe).subscribe(Me))})(je)}}function X(le,ce,...U){return!0===ce?(le(),null):!1===ce?null:ce(...U).pipe((0,J.q)(1)).subscribe(()=>le())}},9468:(lt,Ce,P)=>{"use strict";P.d(Ce,{R:()=>J});var l=P(4482);function J(N,ae=0){return(0,l.e)((oe,he)=>{he.add(N.schedule(()=>oe.subscribe(he),ae))})}},5698:(lt,Ce,P)=>{"use strict";P.d(Ce,{q:()=>ae});var l=P(515),J=P(4482),N=P(5403);function ae(oe){return oe<=0?()=>l.E:(0,J.e)((he,X)=>{let le=0;he.subscribe(new N.Q(X,ce=>{++le<=oe&&(X.next(ce),oe<=le&&X.complete())}))})}},8505:(lt,Ce,P)=>{"use strict";P.d(Ce,{b:()=>oe});var l=P(576),J=P(4482),N=P(5403),ae=P(4671);function oe(he,X,le){const ce=(0,l.m)(he)||X||le?{next:he,error:X,complete:le}:he;return ce?(0,J.e)((U,j)=>{var ne;null===(ne=ce.subscribe)||void 0===ne||ne.call(ce);let je=!0;U.subscribe(new N.Q(j,Me=>{var Re;null===(Re=ce.next)||void 0===Re||Re.call(ce,Me),j.next(Me)},()=>{var Me;je=!1,null===(Me=ce.complete)||void 0===Me||Me.call(ce),j.complete()},Me=>{var Re;je=!1,null===(Re=ce.error)||void 0===Re||Re.call(ce,Me),j.error(Me)},()=>{var Me,Re;je&&(null===(Me=ce.unsubscribe)||void 0===Me||Me.call(ce)),null===(Re=ce.finalize)||void 0===Re||Re.call(ce)}))}):ae.y}},4408:(lt,Ce,P)=>{"use strict";P.d(Ce,{o:()=>oe});var l=P(727);class J extends l.w0{constructor(X,le){super()}schedule(X,le=0){return this}}const N={setInterval(...he){const{delegate:X}=N;return((null==X?void 0:X.setInterval)||setInterval)(...he)},clearInterval(he){const{delegate:X}=N;return((null==X?void 0:X.clearInterval)||clearInterval)(he)},delegate:void 0};var ae=P(8737);class oe extends J{constructor(X,le){super(X,le),this.scheduler=X,this.work=le,this.pending=!1}schedule(X,le=0){if(this.closed)return this;this.state=X;const ce=this.id,U=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(U,ce,le)),this.pending=!0,this.delay=le,this.id=this.id||this.requestAsyncId(U,this.id,le),this}requestAsyncId(X,le,ce=0){return N.setInterval(X.flush.bind(X,this),ce)}recycleAsyncId(X,le,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return le;N.clearInterval(le)}execute(X,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(X,le);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(X,le){let U,ce=!1;try{this.work(X)}catch(j){ce=!0,U=j||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:X,scheduler:le}=this,{actions:ce}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ce,this),null!=X&&(this.id=this.recycleAsyncId(le,X,null)),this.delay=null,super.unsubscribe()}}}},7565:(lt,Ce,P)=>{"use strict";P.d(Ce,{v:()=>N});var l=P(6063);class J{constructor(oe,he=J.now){this.schedulerActionCtor=oe,this.now=he}schedule(oe,he=0,X){return new this.schedulerActionCtor(this,oe).schedule(X,he)}}J.now=l.l.now;class N extends J{constructor(oe,he=J.now){super(oe,he),this.actions=[],this._active=!1,this._scheduled=void 0}flush(oe){const{actions:he}=this;if(this._active)return void he.push(oe);let X;this._active=!0;do{if(X=oe.execute(oe.state,oe.delay))break}while(oe=he.shift());if(this._active=!1,X){for(;oe=he.shift();)oe.unsubscribe();throw X}}}},4986:(lt,Ce,P)=>{"use strict";P.d(Ce,{z:()=>N,P:()=>ae});var l=P(4408);const N=new(P(7565).v)(l.o),ae=N},6063:(lt,Ce,P)=>{"use strict";P.d(Ce,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(lt,Ce,P)=>{"use strict";P.d(Ce,{z:()=>l});const l={setTimeout(...J){const{delegate:N}=l;return((null==N?void 0:N.setTimeout)||setTimeout)(...J)},clearTimeout(J){const{delegate:N}=l;return((null==N?void 0:N.clearTimeout)||clearTimeout)(J)},delegate:void 0}},2202:(lt,Ce,P)=>{"use strict";P.d(Ce,{h:()=>J});const J=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(lt,Ce,P)=>{"use strict";P.d(Ce,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(lt,Ce,P)=>{"use strict";P.d(Ce,{jO:()=>ae,yG:()=>oe,_6:()=>he});var l=P(576),J=P(3532);function N(X){return X[X.length-1]}function ae(X){return(0,l.m)(N(X))?X.pop():void 0}function oe(X){return(0,J.K)(N(X))?X.pop():void 0}function he(X,le){return"number"==typeof N(X)?X.pop():le}},8737:(lt,Ce,P)=>{"use strict";function l(J,N){if(J){const ae=J.indexOf(N);0<=ae&&J.splice(ae,1)}}P.d(Ce,{P:()=>l})},3888:(lt,Ce,P)=>{"use strict";function l(J){const ae=J(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}P.d(Ce,{d:()=>l})},2806:(lt,Ce,P)=>{"use strict";P.d(Ce,{x:()=>N,O:()=>ae});var l=P(2416);let J=null;function N(oe){if(l.v.useDeprecatedSynchronousErrorHandling){const he=!J;if(he&&(J={errorThrown:!1,error:null}),oe(),he){const{errorThrown:X,error:le}=J;if(J=null,X)throw le}}else oe()}function ae(oe){l.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=oe)}},9672:(lt,Ce,P)=>{"use strict";function l(J,N,ae,oe=0,he=!1){const X=N.schedule(function(){ae(),he?J.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(J.add(X),!he)return X}P.d(Ce,{f:()=>l})},4671:(lt,Ce,P)=>{"use strict";function l(J){return J}P.d(Ce,{y:()=>l})},1144:(lt,Ce,P)=>{"use strict";P.d(Ce,{z:()=>l});const l=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(lt,Ce,P)=>{"use strict";P.d(Ce,{D:()=>J});var l=P(576);function J(N){return Symbol.asyncIterator&&(0,l.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:(lt,Ce,P)=>{"use strict";function l(J){return"function"==typeof J}P.d(Ce,{m:()=>l})},3670:(lt,Ce,P)=>{"use strict";P.d(Ce,{c:()=>N});var l=P(8822),J=P(576);function N(ae){return(0,J.m)(ae[l.L])}},6495:(lt,Ce,P)=>{"use strict";P.d(Ce,{T:()=>N});var l=P(2202),J=P(576);function N(ae){return(0,J.m)(null==ae?void 0:ae[l.h])}},8239:(lt,Ce,P)=>{"use strict";P.d(Ce,{t:()=>J});var l=P(576);function J(N){return(0,l.m)(null==N?void 0:N.then)}},3260:(lt,Ce,P)=>{"use strict";P.d(Ce,{Q:()=>N,L:()=>ae});var l=P(5987),J=P(576);function N(oe){return(0,l.FC)(this,arguments,function*(){const X=oe.getReader();try{for(;;){const{value:le,done:ce}=yield(0,l.qq)(X.read());if(ce)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(le)}}finally{X.releaseLock()}})}function ae(oe){return(0,J.m)(null==oe?void 0:oe.getReader)}},3532:(lt,Ce,P)=>{"use strict";P.d(Ce,{K:()=>J});var l=P(576);function J(N){return N&&(0,l.m)(N.schedule)}},4482:(lt,Ce,P)=>{"use strict";P.d(Ce,{A:()=>J,e:()=>N});var l=P(576);function J(ae){return(0,l.m)(null==ae?void 0:ae.lift)}function N(ae){return oe=>{if(J(oe))return oe.lift(function(he){try{return ae(he,this)}catch(X){this.error(X)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(lt,Ce,P)=>{"use strict";function l(){}P.d(Ce,{Z:()=>l})},7849:(lt,Ce,P)=>{"use strict";P.d(Ce,{h:()=>N});var l=P(2416),J=P(3410);function N(ae){J.z.setTimeout(()=>{const{onUnhandledError:oe}=l.v;if(!oe)throw ae;oe(ae)})}},4532:(lt,Ce,P)=>{"use strict";function l(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ce,{z:()=>l})},5987:(lt,Ce,P)=>{"use strict";function le(ee,pe,_e,be){return new(_e||(_e=Promise))(function(de,Rt){function qt(ct){try{dt(be.next(ct))}catch(Hi){Rt(Hi)}}function bi(ct){try{dt(be.throw(ct))}catch(Hi){Rt(Hi)}}function dt(ct){ct.done?de(ct.value):function Fe(de){return de instanceof _e?de:new _e(function(Rt){Rt(de)})}(ct.value).then(qt,bi)}dt((be=be.apply(ee,pe||[])).next())})}function Z(ee){return this instanceof Z?(this.v=ee,this):new Z(ee)}function se(ee,pe,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,be=_e.apply(ee,pe||[]),de=[];return Fe={},Rt("next"),Rt("throw"),Rt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function Rt(mn){be[mn]&&(Fe[mn]=function(ji){return new Promise(function(ln,Tr){de.push([mn,ji,ln,Tr])>1||qt(mn,ji)})})}function qt(mn,ji){try{!function bi(mn){mn.value instanceof Z?Promise.resolve(mn.value.v).then(dt,ct):Hi(de[0][2],mn)}(be[mn](ji))}catch(ln){Hi(de[0][3],ln)}}function dt(mn){qt("next",mn)}function ct(mn){qt("throw",mn)}function Hi(mn,ji){mn(ji),de.shift(),de.length&&qt(de[0][0],de[0][1])}}function De(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,pe=ee[Symbol.asyncIterator];return pe?pe.call(ee):(ee=function ne(ee){var pe="function"==typeof Symbol&&Symbol.iterator,_e=pe&&ee[pe],be=0;if(_e)return _e.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&be>=ee.length&&(ee=void 0),{value:ee&&ee[be++],done:!ee}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),_e={},be("next"),be("throw"),be("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function be(de){_e[de]=ee[de]&&function(Rt){return new Promise(function(qt,bi){!function Fe(de,Rt,qt,bi){Promise.resolve(bi).then(function(dt){de({value:dt,done:qt})},Rt)}(qt,bi,(Rt=ee[de](Rt)).done,Rt.value)})}}}P.d(Ce,{mG:()=>le,qq:()=>Z,FC:()=>se,KL:()=>De})},5e3:(lt,Ce,P)=>{"use strict";P.d(Ce,{deG:()=>pa,tb:()=>I3,AFp:()=>g_,ip1:()=>E3,CZH:()=>pd,hGG:()=>W3,z2F:()=>E2,sBO:()=>FI,Sil:()=>vp,_Vd:()=>h2,EJc:()=>v_,SBq:()=>f2,qLn:()=>uu,vpe:()=>Ea,tBr:()=>ui,XFs:()=>nt,OlP:()=>Xt,zs3:()=>Fo,ZZ4:()=>$3,aQg:()=>Pt,soG:()=>_p,YKP:()=>P8,h0i:()=>cd,PXZ:()=>mw,R0b:()=>$r,FiY:()=>yn,Lbi:()=>w2,g9A:()=>S3,n_E:()=>hp,Qsj:()=>aC,FYo:()=>T8,JOm:()=>so,q3G:()=>wn,tp0:()=>Hr,Rgc:()=>_2,dDg:()=>Cp,q4F:()=>k8,GfV:()=>A8,s_b:()=>pp,ifc:()=>Ft,eFA:()=>D_,G48:()=>k_,Gpc:()=>j,f3M:()=>Se,X6Q:()=>A_,_c5:()=>H_,VLi:()=>hw,c2e:()=>__,zSh:()=>x0,wAp:()=>xt,vHH:()=>Re,EiD:()=>Ch,mCW:()=>pl,qzn:()=>_a,JVY:()=>D1,pB0:()=>Sf,eBb:()=>ph,L6k:()=>ic,LAX:()=>nu,cg1:()=>r3,kL8:()=>X6,yhl:()=>Ef,dqk:()=>Ct,sIi:()=>r2,CqO:()=>r6,QGY:()=>$0,F4k:()=>q0,RDi:()=>r1,AaK:()=>le,z3N:()=>Ro,qOj:()=>k0,TTD:()=>Ha,_Bn:()=>E8,xp6:()=>B1,uIk:()=>P0,Gre:()=>j6,ekj:()=>X0,Suo:()=>J8,Xpm:()=>ni,lG2:()=>Rl,Yz7:()=>ln,cJS:()=>vs,oAB:()=>Us,Yjl:()=>wo,Y36:()=>o2,_UZ:()=>e6,GkF:()=>t6,BQk:()=>G0,ynx:()=>U0,qZA:()=>j0,TgZ:()=>H0,EpF:()=>n6,n5z:()=>Bn,Ikx:()=>t3,LFG:()=>q,$8M:()=>In,$Z:()=>J5,NdJ:()=>W0,CRH:()=>e_,kcU:()=>u1,O4$:()=>Gl,oxw:()=>a6,ALo:()=>G8,lcZ:()=>$8,Hsn:()=>c6,F$t:()=>l6,Q6J:()=>V0,VKq:()=>z8,iGM:()=>Q8,MAs:()=>j5,CHM:()=>Fl,oJD:()=>T1,LSH:()=>oc,Udp:()=>Q0,WFA:()=>Y0,d8E:()=>n3,YNc:()=>H5,_uU:()=>O6,Oqu:()=>e3,hij:()=>sp,Gf:()=>X8});var l=P(7579),J=P(727),N=P(8306),ae=P(6451),oe=P(3099);function he(o){for(let a in o)if(o[a]===he)return a;throw Error("Could not find renamed property on target object.")}function X(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function le(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(le).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function ce(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const U=he({__forward_ref__:he});function j(o){return o.__forward_ref__=j,o.toString=function(){return le(this())},o}function ne(o){return je(o)?o():o}function je(o){return"function"==typeof o&&o.hasOwnProperty(U)&&o.__forward_ref__===j}class Re extends Error{constructor(a,c){super(function ze(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,c)),this.code=a}}function Z(o){return"string"==typeof o?o:null==o?"":String(o)}function se(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Z(o)}function Ge(o,a){const c=a?` in ${a}`:"";throw new Re(-201,`No provider for ${se(o)} found${c}`)}function dt(o,a){null==o&&function ct(o,a,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function ln(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function vs(o){return{providers:o.providers||[],imports:o.imports||[]}}function Un(o){return ts(o,cr)||ts(o,Ie)}function ts(o,a){return o.hasOwnProperty(a)?o[a]:null}function yo(o){return o&&(o.hasOwnProperty(ys)||o.hasOwnProperty(Si))?o[ys]:null}const cr=he({\u0275prov:he}),ys=he({\u0275inj:he}),Ie=he({ngInjectableDef:he}),Si=he({ngInjectorDef:he});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let _r;function ti(o){const a=_r;return _r=o,a}function bo(o,a,c){const d=Un(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&nt.Optional?null:void 0!==a?a:void Ge(le(o),"Injector")}function at(o){return{toString:o}.toString()}var Nt=(()=>((Nt=Nt||{})[Nt.OnPush=0]="OnPush",Nt[Nt.Default=1]="Default",Nt))(),Ft=(()=>{return(o=Ft||(Ft={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Ft;var o})();const it="undefined"!=typeof globalThis&&globalThis,ht="undefined"!=typeof window&&window,Ec="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ct=it||"undefined"!=typeof global&&global||ht||Ec,bs={},B=[],$=he({\u0275cmp:he}),W=he({\u0275dir:he}),ye=he({\u0275pipe:he}),ie=he({\u0275mod:he}),We=he({\u0275fac:he}),Dt=he({__NG_ELEMENT_ID__:he});let bn=0;function ni(o){return at(()=>{const c={},d={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Nt.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||B,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Ft.Emulated,id:"c",styles:o.styles||B,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.directives,g=o.features,y=o.pipes;return d.id+=bn++,d.inputs=Zo(o.inputs,c),d.outputs=Zo(o.outputs),g&&g.forEach(w=>w(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(Gi):null,d.pipeDefs=y?()=>("function"==typeof y?y():y).map(Ut):null,d})}function Gi(o){return Ci(o)||function ii(o){return o[W]||null}(o)}function Ut(o){return function ns(o){return o[ye]||null}(o)}const Ii={};function Us(o){return at(()=>{const a={type:o.type,bootstrap:o.bootstrap||B,declarations:o.declarations||B,imports:o.imports||B,exports:o.exports||B,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(Ii[o.id]=o.type),a})}function Zo(o,a){if(null==o)return bs;const c={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),c[f]=d,a&&(a[f]=g)}return c}const Rl=ni;function wo(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function Ci(o){return o[$]||null}function wi(o,a){const c=o[ie]||null;if(!c&&!0===a)throw new Error(`Type ${le(o)} does not have '\u0275mod' property.`);return c}function qi(o){return Array.isArray(o)&&"object"==typeof o[1]}function Wi(o){return Array.isArray(o)&&!0===o[1]}function Tc(o){return 0!=(8&o.flags)}function Wn(o){return 2==(2&o.flags)}function Cs(o){return 1==(1&o.flags)}function ss(o){return null!==o.template}function Ac(o){return 0!=(512&o[2])}function xo(o,a){return o.hasOwnProperty(We)?o[We]:null}class Ol{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ha(){return Eo}function Eo(o){return o.type.prototype.ngOnChanges&&(o.setInput=qs),ja}function ja(){const o=t1(this),a=null==o?void 0:o.current;if(a){const c=o.previous;if(c===bs)o.previous=a;else for(let d in a)c[d]=a[d];o.current=null,this.ngOnChanges(a)}}function qs(o,a,c,d){const f=t1(o)||function Ni(o,a){return o[Cn]=a}(o,{previous:bs,current:null}),g=f.current||(f.current={}),y=f.previous,w=this.declaredInputs[c],D=y[w];g[w]=new Ol(D&&D.currentValue,a,y===bs),o[d]=a}Ha.ngInherit=!0;const Cn="__ngSimpleChanges__";function t1(o){return o[Cn]||null}const Ua="http://www.w3.org/2000/svg";let Pl;function r1(o){Pl=o}function Fc(){return void 0!==Pl?Pl:"undefined"!=typeof document?document:void 0}function rn(o){return!!o.listen}const Ws={createRenderer:(o,a)=>Fc()};function _n(o){for(;Array.isArray(o);)o=o[0];return o}function ai(o,a){return _n(a[o])}function Yn(o,a){return _n(a[o.index])}function ta(o,a){return o.data[a]}function os(o,a){return o[a]}function Yi(o,a){const c=a[o];return qi(c)?c:c[0]}function li(o){return 4==(4&o[2])}function as(o){return 128==(128&o[2])}function Zi(o,a){return null==a?null:o[a]}function Ys(o){o[18]=0}function na(o,a){o[5]+=a;let c=o,d=o[3];for(;null!==d&&(1===a&&1===c[5]||-1===a&&0===c[5]);)d[5]+=a,c=d,d=d[3]}const wt={lFrame:Qa(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ra(){return wt.bindingsEnabled}function Ee(){return wt.lFrame.lView}function zt(){return wt.lFrame.tView}function Fl(o){return wt.lFrame.contextLView=o,o[8]}function vn(){let o=So();for(;null!==o&&64===o.type;)o=o.parent;return o}function So(){return wt.lFrame.currentTNode}function Ki(o,a){const c=wt.lFrame;c.currentTNode=o,c.isParent=a}function Ms(){return wt.lFrame.isParent}function Ll(){wt.lFrame.isParent=!1}function sa(){return wt.isInCheckNoChangesMode}function qa(o){wt.isInCheckNoChangesMode=o}function ci(){const o=wt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Ds(){return wt.lFrame.bindingIndex++}function Nr(o){const a=wt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function Hl(o,a){const c=wt.lFrame;c.bindingIndex=c.bindingRootIndex=o,aa(a)}function aa(o){wt.lFrame.currentDirectiveIndex=o}function Ya(o){const a=wt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function Za(){return wt.lFrame.currentQueryIndex}function Ka(o){wt.lFrame.currentQueryIndex=o}function jl(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Vc(o,a,c){if(c&nt.SkipSelf){let f=a,g=o;for(;!(f=f.parent,null!==f||c&nt.Host||(f=jl(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;a=f,o=g}const d=wt.lFrame=l1();return d.currentTNode=a,d.lView=o,!0}function la(o){const a=l1(),c=o[1];wt.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function l1(){const o=wt.lFrame,a=null===o?null:o.child;return null===a?Qa(o):a}function Qa(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Bc(){const o=wt.lFrame;return wt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Xa=Bc;function Ul(){const o=Bc();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function xi(){return wt.lFrame.selectedIndex}function Zn(o){wt.lFrame.selectedIndex=o}function On(){const o=wt.lFrame;return ta(o.tView,o.selectedIndex)}function Gl(){wt.lFrame.currentNamespace=Ua}function u1(){!function Kd(){wt.lFrame.currentNamespace=null}()}function Hc(o,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const g=o.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:T,ngOnDestroy:k}=g;y&&(o.contentHooks||(o.contentHooks=[])).push(-c,y),w&&((o.contentHooks||(o.contentHooks=[])).push(c,w),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,w)),D&&(o.viewHooks||(o.viewHooks=[])).push(-c,D),T&&((o.viewHooks||(o.viewHooks=[])).push(c,T),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,T)),null!=k&&(o.destroyHooks||(o.destroyHooks=[])).push(c,k)}}function Ks(o,a,c){Xd(o,a,3,c)}function $l(o,a,c,d){(3&o[2])===c&&Xd(o,a,c,d)}function ql(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function Xd(o,a,c,d){const g=null!=d?d:-1,y=a.length-1;let w=0;for(let D=void 0!==d?65535&o[18]:0;D<y;D++)if("number"==typeof a[D+1]){if(w=a[D],null!=d&&w>=d)break}else a[D]<0&&(o[18]+=65536),(w<g||-1==g)&&(h1(o,c,a,D),o[18]=(4294901760&o[18])+D+2),D++}function h1(o,a,c,d){const f=c[d]<0,g=c[d+1],w=o[f?-c[d]:c[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class Pn{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Uc(o,a,c){const d=rn(o);let f=0;for(;f<c.length;){const g=c[f];if("number"==typeof g){if(0!==g)break;f++;const y=c[f++],w=c[f++],D=c[f++];d?o.setAttribute(a,w,D,y):a.setAttributeNS(y,w,D)}else{const y=g,w=c[++f];Qs(y)?d&&o.setProperty(a,y,w):d?o.setAttribute(a,y,w):a.setAttribute(y,w),f++}}return f}function Sn(o){return 3===o||4===o||6===o}function Qs(o){return 64===o.charCodeAt(0)}function qe(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?c=f:0===c||Mt(o,c,f,null,-1===c||2===c?a[++d]:null)}}return o}function Mt(o,a,c,d,f){let g=0,y=o.length;if(-1===a)y=-1;else for(;g<o.length;){const w=o[g++];if("number"==typeof w){if(w===a){y=-1;break}if(w>a){y=g-1;break}}}for(;g<o.length;){const w=o[g];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==f&&(o[g+1]=f));if(d===o[g+1])return void(o[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==y&&(o.splice(y,0,a),g=y+1),o.splice(g++,0,c),null!==d&&o.splice(g++,0,d),null!==f&&o.splice(g++,0,f)}function hr(o){return-1!==o}function Nn(o){return 32767&o}function tl(o,a){let c=function th(o){return o>>16}(o),d=a;for(;c>0;)d=d[15],c--;return d}let p1=!0;function nl(o){const a=p1;return p1=o,a}let ft=0;function il(o,a){const c=ca(o,a);if(-1!==c)return c;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,rl(d.data,o),rl(a,null),rl(d.blueprint,null));const f=dn(o,a),g=o.injectorIndex;if(hr(f)){const y=Nn(f),w=tl(f,a),D=w[1].data;for(let T=0;T<8;T++)a[g+T]=w[y+T]|D[y+T]}return a[g+8]=f,g}function rl(o,a){o.push(0,0,0,0,0,0,0,0,a)}function ca(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function dn(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,f=a;for(;null!==f;){const g=f[1],y=g.type;if(d=2===y?g.declTNode:1===y?f[6]:null,null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Yl(o,a,c){!function nh(o,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Dt)&&(d=c[Dt]),null==d&&(d=c[Dt]=ft++);const f=255&d;a.data[o+(f>>5)]|=1<<f}(o,a,c)}function $c(o,a,c){if(c&nt.Optional)return o;Ge(a,"NodeInjector")}function Fr(o,a,c,d){if(c&nt.Optional&&void 0===d&&(d=null),0==(c&(nt.Self|nt.Host))){const f=o[9],g=ti(void 0);try{return f?f.get(a,d,c&nt.Optional):bo(a,d,c&nt.Optional)}finally{ti(g)}}return $c(d,a,c)}function qc(o,a,c,d=nt.Default,f){if(null!==o){const g=function To(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Dt)?o[Dt]:void 0;return"number"==typeof a?a>=0?255&a:ha:a}(c);if("function"==typeof g){if(!Vc(a,o,d))return d&nt.Host?$c(f,c,d):Fr(a,c,d,f);try{const y=g(d);if(null!=y||d&nt.Optional)return y;Ge(c)}finally{Xa()}}else if("number"==typeof g){let y=null,w=ca(o,a),D=-1,T=d&nt.Host?a[16][6]:null;for((-1===w||d&nt.SkipSelf)&&(D=-1===w?dn(o,a):a[w+8],-1!==D&&Ln(d,!1)?(y=a[1],w=Nn(D),a=tl(D,a)):w=-1);-1!==w;){const k=a[1];if(Ao(g,w,k.data)){const F=sl(w,a,c,y,d,T);if(F!==da)return F}D=a[w+8],-1!==D&&Ln(d,a[1].data[w+8]===T)&&Ao(g,w,a)?(y=k,w=Nn(D),a=tl(D,a)):w=-1}}}return Fr(a,c,d,f)}const da={};function ha(){return new Tn(vn(),Ee())}function sl(o,a,c,d,f,g){const y=a[1],w=y.data[o+8],k=Io(w,y,c,null==d?Wn(w)&&p1:d!=y&&0!=(3&w.type),f&nt.Host&&g===w);return null!==k?Fn(a,y,k,w):da}function Io(o,a,c,d,f){const g=o.providerIndexes,y=a.data,w=1048575&g,D=o.directiveStart,k=g>>20,G=f?w+k:o.directiveEnd;for(let K=d?w:w+k;K<G;K++){const fe=y[K];if(K<D&&c===fe||K>=D&&fe.type===c)return K}if(f){const K=y[D];if(K&&ss(K)&&K.type===c)return D}return null}function Fn(o,a,c,d){let f=o[c];const g=a.data;if(function Jd(o){return o instanceof Pn}(f)){const y=f;y.resolving&&function me(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Re(-200,`Circular dependency in DI detected for ${o}${c}`)}(se(g[c]));const w=nl(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?ti(y.injectImpl):null;Vc(o,d,nt.Default);try{f=o[c]=y.factory(void 0,g,o,d),a.firstCreatePass&&c>=d.directiveStart&&function Qd(o,a,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=a.type.prototype;if(d){const y=Eo(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,y)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,f),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,g))}(c,g[c],a)}finally{null!==D&&ti(D),nl(w),y.resolving=!1,Xa()}}return f}function Ao(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function Ln(o,a){return!(o&nt.Self||o&nt.Host&&a)}class Tn{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return qc(this._tNode,this._lView,a,d,c)}}function Bn(o){return at(()=>{const a=o.prototype.constructor,c=a[We]||ol(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const g=f[We]||ol(f);if(g&&g!==c)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function ol(o){return je(o)?()=>{const a=ol(ne(o));return a&&a()}:xo(o)}function In(o){return function ua(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const g=c[f];if(Sn(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(g===a)return c[f+1];f+=2}}}return null}(vn(),o)}const Hn="__parameters__";function Qi(o,a,c){return at(()=>{const d=function fn(o){return function(...c){if(o){const d=o(...c);for(const f in d)this[f]=d[f]}}}(a);function f(...g){if(this instanceof f)return d.apply(this,g),this;const y=new f(...g);return w.annotation=y,w;function w(D,T,k){const F=D.hasOwnProperty(Hn)?D[Hn]:Object.defineProperty(D,Hn,{value:[]})[Hn];for(;F.length<=k;)F.push(null);return(F[k]=F[k]||[]).push(y),D}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class Xt{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=ln({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const pa=new Xt("AnalyzeForEntryComponents");function yr(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let d=o[c];Array.isArray(d)?(a===o&&(a=o.slice(0,c)),yr(d,a)):a!==o&&a.push(d)}return a}function zr(o,a){o.forEach(c=>Array.isArray(c)?zr(c,a):a(c))}function m1(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function ll(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function ko(o,a){const c=[];for(let d=0;d<o;d++)c.push(a);return c}function gt(o,a,c){let d=fr(o,a);return d>=0?o[1|d]=c:(d=~d,function cl(o,a,c,d){let f=o.length;if(f==a)o.push(c,d);else if(1===f)o.push(d,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=c,o[a+1]=d}}(o,d,a,c)),d}function dl(o,a){const c=fr(o,a);if(c>=0)return o[1|c]}function fr(o,a){return function Zc(o,a,c){let d=0,f=o.length>>c;for(;f!==d;){const g=d+(f-d>>1),y=o[g<<c];if(a===y)return g<<c;y>a?f=g:d=g+1}return~(f<<c)}(o,a,1)}const Vn={},v1="__NG_DI_FLAG__",fl="ngTempTokenPath",Kl=/\n/gm,Ql="__source",x=he({provide:String,useValue:he});let E;function R(o){const a=E;return E=o,a}function z(o,a=nt.Default){if(void 0===E)throw new Re(203,"");return null===E?bo(o,void 0,a):E.get(o,a&nt.Optional?null:void 0,a)}function q(o,a=nt.Default){return(function Jt(){return _r}()||z)(ne(o),a)}const Se=q;function Xe(o){const a=[];for(let c=0;c<o.length;c++){const d=ne(o[c]);if(Array.isArray(d)){if(0===d.length)throw new Re(900,"");let f,g=nt.Default;for(let y=0;y<d.length;y++){const w=d[y],D=Yt(w);"number"==typeof D?-1===D?f=w.token:g|=D:f=w}a.push(q(f,g))}else a.push(q(d))}return a}function $e(o,a){return o[v1]=a,o.prototype[v1]=a,o}function Yt(o){return o[v1]}const ui=$e(Qi("Inject",o=>({token:o})),-1),yn=$e(Qi("Optional"),8),Hr=$e(Qi("SkipSelf"),4);let ec,no;function Ts(o){var a;return(null===(a=function Ur(){if(void 0===ec&&(ec=null,Ct.trustedTypes))try{ec=Ct.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return ec}())||void 0===a?void 0:a.createHTML(o))||o}function Df(o){var a;return(null===(a=function tc(){if(void 0===no&&(no=null,Ct.trustedTypes))try{no=Ct.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return no}())||void 0===a?void 0:a.createHTML(o))||o}class io{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class xf extends io{getTypeName(){return"HTML"}}class M1 extends io{getTypeName(){return"Style"}}class eu extends io{getTypeName(){return"Script"}}class km extends io{getTypeName(){return"URL"}}class tu extends io{getTypeName(){return"ResourceURL"}}function Ro(o){return o instanceof io?o.changingThisBreaksApplicationSecurity:o}function _a(o,a){const c=Ef(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function Ef(o){return o instanceof io&&o.getTypeName()||null}function D1(o){return new xf(o)}function ic(o){return new M1(o)}function ph(o){return new eu(o)}function nu(o){return new km(o)}function Sf(o){return new tu(o)}class mh{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Ts(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class Rm{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Ts(a),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Ts(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const c=a.attributes;for(let f=c.length-1;0<f;f--){const y=c.item(f).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&a.removeAttribute(y)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Pm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,x1=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function pl(o){return(o=String(o)).match(Pm)||o.match(x1)?o:"unsafe:"+o}function ro(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function rc(...o){const a={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const gh=ro("area,br,col,hr,img,wbr"),Tf=ro("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_h=ro("rp,rt"),vh=rc(gh,rc(Tf,ro("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rc(_h,ro("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rc(_h,Tf)),As=ro("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yh=ro("srcset"),bh=rc(As,yh,ro("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ro("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),iu=ro("script,style,template");class gl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!vh.hasOwnProperty(c))return this.sanitizedSomething=!0,!iu.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),y=g.name,w=y.toLowerCase();if(!bh.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let D=g.value;As[w]&&(D=pl(D)),yh[w]&&(o=D,D=(o=String(o)).split(",").map(a=>pl(a.trim())).join(", ")),this.buf.push(" ",y,'="',ru(D),'"')}var o;return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();vh.hasOwnProperty(c)&&!gh.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(ru(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const Fm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sc=/([^\#-~ |!])/g;function ru(o){return o.replace(/&/g,"&amp;").replace(Fm,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(sc,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let S1;function Ch(o,a){let c=null;try{S1=S1||function If(o){const a=new Rm(o);return function Om(){try{return!!(new window.DOMParser).parseFromString(Ts(""),"text/html")}catch(o){return!1}}()?new mh(a):a}(o);let d=a?String(a):"";c=S1.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=c.innerHTML,c=S1.getInertBodyElement(d)}while(d!==g);return Ts((new gl).sanitizeChildren(I1(c)||c))}finally{if(c){const d=I1(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function I1(o){return"content"in o&&function Tg(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var wn=(()=>((wn=wn||{})[wn.NONE=0]="NONE",wn[wn.HTML=1]="HTML",wn[wn.STYLE=2]="STYLE",wn[wn.SCRIPT=3]="SCRIPT",wn[wn.URL=4]="URL",wn[wn.RESOURCE_URL=5]="RESOURCE_URL",wn))();function T1(o){const a=lc();return a?Df(a.sanitize(wn.HTML,o)||""):_a(o,"HTML")?Df(Ro(o)):Ch(Fc(),Z(o))}function oc(o){const a=lc();return a?a.sanitize(wn.URL,o)||"":_a(o,"URL")?Ro(o):pl(Z(o))}function lc(){const o=Ee();return o&&o[12]}const ou="__ngContext__";function Ai(o,a){o[ou]=a}function xh(o){const a=function vl(o){return o[ou]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function Ih(o){return o.ngOriginalError}function va(o,...a){o.error(...a)}class uu{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a),d=function Um(o){return o&&o.ngErrorLogger||va}(a);d(this._console,"ERROR",a),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Ih(a);for(;c&&Ih(c);)c=Ih(c);return c||null}}const R1=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ct))();function Oo(o){return o instanceof Function?o():o}var so=(()=>((so=so||{})[so.Important=1]="Important",so[so.DashCase=2]="DashCase",so))();function O1(o,a){return undefined(o,a)}function bl(o){const a=o[3];return Wi(a)?a[3]:a}function hu(o){return Lh(o[13])}function Cl(o){return Lh(o[4])}function Lh(o){for(;null!==o&&!Wi(o);)o=o[4];return o}function ao(o,a,c,d,f){if(null!=d){let g,y=!1;Wi(d)?g=d:qi(d)&&(y=!0,d=d[0]);const w=_n(d);0===o&&null!==c?null==f?Je(a,c,w):et(a,c,w,f||null,!0):1===o&&null!==c?et(a,c,w,f||null,!0):2===o?function L1(o,a,c){const d=ks(o,a);d&&function ki(o,a,c,d){rn(o)?o.removeChild(a,c,d):a.removeChild(c)}(o,d,a,c)}(a,w,y):3===o&&a.destroyNode(w),null!=g&&function kg(o,a,c,d,f){const g=c[7];g!==_n(c)&&ao(a,o,d,g,f);for(let w=10;w<c.length;w++){const D=c[w];Uh(D[1],D,o,a,d,g)}}(a,o,g,c,f)}}function fu(o,a,c){return rn(o)?o.createElement(a,c):null===c?o.createElement(a):o.createElementNS(c,a)}function m(o,a){const c=o[9],d=c.indexOf(a),f=a[3];1024&a[2]&&(a[2]&=-1025,na(f,-1)),c.splice(d,1)}function b(o,a){if(o.length<=10)return;const c=10+a,d=o[c];if(d){const f=d[17];null!==f&&f!==o&&m(f,d),a>0&&(o[c-1][4]=d[4]);const g=ll(o,10+a);!function Qm(o,a){Uh(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const y=g[19];null!==y&&y.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function S(o,a){if(!(256&a[2])){const c=a[11];rn(c)&&c.destroyNode&&Uh(o,a,c,3,null,null),function N1(o){let a=o[13];if(!a)return A(o[1],o);for(;a;){let c=null;if(qi(a))c=a[13];else{const d=a[10];d&&(c=d)}if(!c){for(;a&&!a[4]&&a!==o;)qi(a)&&A(a[1],a),a=a[3];null===a&&(a=o),qi(a)&&A(a[1],a),c=a&&a[4]}a=c}}(a)}}function A(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function re(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const f=a[c[d]];if(!(f instanceof Pn)){const g=c[d+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const w=f[g[y]],D=g[y+1];try{D.call(w)}finally{}}else try{g.call(f)}finally{}}}}(o,a),function H(o,a){const c=o.cleanup,d=a[7];let f=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const y=c[g+1],w="function"==typeof y?y(a):_n(a[y]),D=d[f=c[g+2]],T=c[g+3];"boolean"==typeof T?w.removeEventListener(c[g],D,T):T>=0?d[f=T]():d[f=-T].unsubscribe(),g+=2}else{const y=d[f=c[g+1]];c[g].call(y)}if(null!==d){for(let g=f+1;g<d.length;g++)d[g]();a[7]=null}}(o,a),1===a[1].type&&rn(a[11])&&a[11].destroy();const c=a[17];if(null!==c&&Wi(a[3])){c!==a[3]&&m(c,a);const d=a[19];null!==d&&d.detachView(o)}}}function Pe(o,a,c){return function Te(o,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===Ft.None||f===Ft.Emulated)return null}return Yn(d,c)}(o,a.parent,c)}function et(o,a,c,d,f){rn(o)?o.insertBefore(a,c,d,f):a.insertBefore(c,d,f)}function Je(o,a,c){rn(o)?o.appendChild(a,c):a.appendChild(c)}function Ht(o,a,c,d,f){null!==d?et(o,a,c,d,f):Je(o,a,c)}function ks(o,a){return rn(o)?o.parentNode(a):a.parentNode}function F1(o,a,c){return Bh(o,a,c)}let Bh=function Vh(o,a,c){return 40&o.type?Yn(o,c):null};function mu(o,a,c,d){const f=Pe(o,d,a),g=a[11],w=F1(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(c))for(let D=0;D<c.length;D++)Ht(g,f,c[D],w,!1);else Ht(g,f,c,w,!1)}function uc(o,a){if(null!==a){const c=a.type;if(3&c)return Yn(a,o);if(4&c)return jh(-1,o[a.index]);if(8&c){const d=a.child;if(null!==d)return uc(o,d);{const f=o[a.index];return Wi(f)?jh(-1,f):_n(f)}}if(32&c)return O1(a,o)()||_n(o[a.index]);{const d=gu(o,a);return null!==d?Array.isArray(d)?d[0]:uc(bl(o[16]),d):uc(o,a.next)}}return null}function gu(o,a){return null!==a?o[16][6].projection[a.projection]:null}function jh(o,a){const c=10+o+1;if(c<a.length){const d=a[c],f=d[1].firstChild;if(null!==f)return uc(d,f)}return a[7]}function z1(o,a,c,d,f,g,y){for(;null!=c;){const w=d[c.index],D=c.type;if(y&&0===a&&(w&&Ai(_n(w),d),c.flags|=4),64!=(64&c.flags))if(8&D)z1(o,a,c.child,d,f,g,!1),ao(a,o,f,w,g);else if(32&D){const T=O1(c,d);let k;for(;k=T();)ao(a,o,f,k,g);ao(a,o,f,w,g)}else 16&D?Jm(o,a,d,c,f,g):ao(a,o,f,w,g);c=y?c.projectionNext:c.next}}function Uh(o,a,c,d,f,g){z1(c,d,o.firstChild,a,f,g,!1)}function Jm(o,a,c,d,f,g){const y=c[16],D=y[6].projection[d.projection];if(Array.isArray(D))for(let T=0;T<D.length;T++)ao(a,o,f,D[T],g);else z1(o,a,D,y[3],f,g,!0)}function zi(o,a,c){rn(o)?o.setAttribute(a,"style",c):a.style.cssText=c}function e0(o,a,c){rn(o)?""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c):a.className=c}function t0(o,a,c){let d=o.length;for(;;){const f=o.indexOf(a,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=a.length;if(f+g===d||o.charCodeAt(f+g)<=32)return f}c=f+1}}const Rg="ng-template";function av(o,a,c){let d=0;for(;d<o.length;){let f=o[d++];if(c&&"class"===f){if(f=o[d],-1!==t0(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function V1(o){return 4===o.type&&o.value!==Rg}function dc(o,a,c){return a===(4!==o.type||c?o.value:Rg)}function Og(o,a,c){let d=4;const f=o.attrs||[],g=function Ng(o){for(let a=0;a<o.length;a++)if(Sn(o[a]))return a;return o.length}(f);let y=!1;for(let w=0;w<a.length;w++){const D=a[w];if("number"!=typeof D){if(!y)if(4&d){if(d=2|1&d,""!==D&&!dc(o,D,c)||""===D&&1===a.length){if(Mn(d))return!1;y=!0}}else{const T=8&d?D:a[++w];if(8&d&&null!==o.attrs){if(!av(o.attrs,T,c)){if(Mn(d))return!1;y=!0}continue}const F=hc(8&d?"class":D,f,V1(o),c);if(-1===F){if(Mn(d))return!1;y=!0;continue}if(""!==T){let G;G=F>g?"":f[F+1].toLowerCase();const K=8&d?G:null;if(K&&-1!==t0(K,T,0)||2&d&&T!==G){if(Mn(d))return!1;y=!0}}}}else{if(!y&&!Mn(d)&&!Mn(D))return!1;if(y&&Mn(D))continue;y=!1,d=D|1&d}}return Mn(d)||y}function Mn(o){return 0==(1&o)}function hc(o,a,c,d){if(null===a)return-1;let f=0;if(d||!c){let g=!1;for(;f<a.length;){const y=a[f];if(y===o)return f;if(3===y||6===y)g=!0;else{if(1===y||2===y){let w=a[++f];for(;"string"==typeof w;)w=a[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=g?1:2}return-1}return function Fg(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,o)}function Pg(o,a,c=!1){for(let d=0;d<a.length;d++)if(Og(o,a[d],c))return!0;return!1}function Lg(o,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function n0(o,a){return o?":not("+a.trim()+")":a}function zg(o){let a=o[0],c=1,d=2,f="",g=!1;for(;c<o.length;){let y=o[c];if("string"==typeof y)if(2&d){const w=o[++c];f+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+y:4&d&&(f+=" "+y);else""!==f&&!Mn(y)&&(a+=n0(g,f),f=""),d=y,g=g||!Mn(d);c++}return""!==f&&(a+=n0(g,f)),a}const kt={};function B1(o){r0(zt(),Ee(),xi()+o,sa())}function r0(o,a,c,d){if(!d)if(3==(3&a[2])){const g=o.preOrderCheckHooks;null!==g&&Ks(a,g,c)}else{const g=o.preOrderHooks;null!==g&&$l(a,g,0,c)}Zn(c)}function Gh(o,a){return o<<17|a<<2}function lo(o){return o>>17&32767}function Lf(o){return 2|o}function Po(o){return(131068&o)>>2}function zf(o,a){return-131069&o|a<<2}function Bf(o){return 1|o}function Xg(o,a){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],g=c[d+1];if(-1!==g){const y=o.data[g];Ka(f),y.contentQueries(2,a[g],g)}}}function j1(o,a,c,d,f,g,y,w,D,T){const k=a.blueprint.slice();return k[0]=f,k[2]=140|d,Ys(k),k[3]=k[15]=o,k[8]=c,k[10]=y||o&&o[10],k[11]=w||o&&o[11],k[12]=D||o&&o[12]||null,k[9]=T||o&&o[9]||null,k[6]=g,k[16]=2==a.type?o[16]:k,k}function pc(o,a,c,d,f){let g=o.data[a];if(null===g)g=function U1(o,a,c,d,f){const g=So(),y=Ms(),D=o.data[a]=function t5(o,a,c,d,f,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,c,a,d,f);return null===o.firstChild&&(o.firstChild=D),null!==g&&(y?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(o,a,c,d,f),function a1(){return wt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=f;const y=function Zs(){const o=wt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return Ki(g,!0),g}function Yh(o,a,c,d){if(0===c)return-1;const f=a.length;for(let g=0;g<c;g++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function yu(o,a,c){la(a);try{const d=o.viewQuery;null!==d&&Qh(1,d,c);const f=o.template;null!==f&&bu(o,a,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Xg(o,a),o.staticViewQueries&&Qh(2,o.viewQuery,c);const g=o.components;null!==g&&function dv(o,a){for(let c=0;c<a.length;c++)Mv(o,a[c])}(a,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,Ul()}}function Ca(o,a,c,d){const f=a[2];if(256==(256&f))return;la(a);const g=sa();try{Ys(a),function Bl(o){return wt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&bu(o,a,c,2,d);const y=3==(3&f);if(!g)if(y){const T=o.preOrderCheckHooks;null!==T&&Ks(a,T,null)}else{const T=o.preOrderHooks;null!==T&&$l(a,T,0,null),ql(a,0)}if(function Qf(o){for(let a=hu(o);null!==a;a=Cl(a)){if(!a[2])continue;const c=a[9];for(let d=0;d<c.length;d++){const f=c[d],g=f[3];0==(1024&f[2])&&na(g,1),f[2]|=1024}}}(a),function Cv(o){for(let a=hu(o);null!==a;a=Cl(a))for(let c=10;c<a.length;c++){const d=a[c],f=d[1];as(d)&&Ca(f,d,f.template,d[8])}}(a),null!==o.contentQueries&&Xg(o,a),!g)if(y){const T=o.contentCheckHooks;null!==T&&Ks(a,T)}else{const T=o.contentHooks;null!==T&&$l(a,T,1),ql(a,1)}!function LS(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Zn(~f);else{const g=f,y=c[++d],w=c[++d];Hl(y,g),w(2,a[g])}}}finally{Zn(-1)}}(o,a);const w=o.components;null!==w&&function d0(o,a){for(let c=0;c<a.length;c++)wv(o,a[c])}(a,w);const D=o.viewQuery;if(null!==D&&Qh(2,D,d),!g)if(y){const T=o.viewCheckHooks;null!==T&&Ks(a,T)}else{const T=o.viewHooks;null!==T&&$l(a,T,2),ql(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),g||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,na(a[3],-1))}finally{Ul()}}function qf(o,a,c,d){const f=a[10],g=!sa(),y=li(a);try{g&&!y&&f.begin&&f.begin(),y&&yu(o,a,d),Ca(o,a,c,d)}finally{g&&!y&&f.end&&f.end()}}function bu(o,a,c,d,f){const g=xi(),y=2&d;try{Zn(-1),y&&a.length>20&&r0(o,a,20,sa()),c(d,f)}finally{Zn(g)}}function G1(o,a,c){if(Tc(a)){const f=a.directiveEnd;for(let g=a.directiveStart;g<f;g++){const y=o.data[g];y.contentQueries&&y.contentQueries(1,c[g],g)}}}function h0(o,a,c){!ra()||(function gv(o,a,c,d){const f=c.directiveStart,g=c.directiveEnd;o.firstCreatePass||il(c,a),Ai(d,a);const y=c.initialInputs;for(let w=f;w<g;w++){const D=o.data[w],T=ss(D);T&&HS(a,c,D);const k=Fn(a,o,w,c);Ai(k,a),null!==y&&c5(0,w-f,k,D,0,y),T&&(Yi(c.index,a)[8]=k)}}(o,a,c,Yn(c,a)),128==(128&c.flags)&&function s5(o,a,c){const d=c.directiveStart,f=c.directiveEnd,y=c.index,w=function Wa(){return wt.lFrame.currentDirectiveIndex}();try{Zn(y);for(let D=d;D<f;D++){const T=o.data[D],k=a[D];aa(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&o5(T,k)}}finally{Zn(-1),aa(w)}}(o,a,c))}function Zh(o,a,c=Yn){const d=a.localNames;if(null!==d){let f=a.index+1;for(let g=0;g<d.length;g+=2){const y=d[g+1],w=-1===y?c(a,o):o[y];o[f++]=w}}}function f0(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=$1(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function $1(o,a,c,d,f,g,y,w,D,T){const k=20+d,F=k+f,G=function Jg(o,a){const c=[];for(let d=0;d<a;d++)c.push(d<o?null:kt);return c}(k,F),K="function"==typeof T?T():T;return G[1]={type:o,blueprint:G,template:c,queries:null,viewQuery:w,declTNode:a,data:G.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:K,incompleteFirstPass:!1}}function e5(o,a,c,d){const f=w0(a);null===c?f.push(d):(f.push(c),o.firstCreatePass&&f5(o).push(d,f.length-1))}function p0(o,a,c){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(a,f):c[d]=[a,f]}return c}function br(o,a,c,d,f,g,y,w){const D=Yn(a,c);let k,T=a.inputs;!w&&null!=T&&(k=T[d])?(p5(o,c,k,d,f),Wn(a)&&function g0(o,a){const c=Yi(a,o);16&c[2]||(c[2]|=64)}(c,a.index)):3&a.type&&(d=function m0(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=y?y(f,a.value||"",d):f,rn(g)?g.setProperty(D,d,f):Qs(d)||(D.setProperty?D.setProperty(d,f):D[d]=f))}function r5(o,a,c,d){let f=!1;if(ra()){const g=function a5(o,a,c){const d=o.directiveRegistry;let f=null;if(d)for(let g=0;g<d.length;g++){const y=d[g];Pg(c,y.selectors,!1)&&(f||(f=[]),Yl(il(c,a),o,y.type),ss(y)?(_0(o,c),f.unshift(y)):f.push(y))}return f}(o,a,c),y=null===d?null:{"":-1};if(null!==g){f=!0,v0(c,o.data.length,g.length);for(let k=0;k<g.length;k++){const F=g[k];F.providersResolver&&F.providersResolver(F)}let w=!1,D=!1,T=Yh(o,a,g.length,null);for(let k=0;k<g.length;k++){const F=g[k];c.mergedAttrs=qe(c.mergedAttrs,F.hostAttrs),l5(o,c,a,T,F),vv(T,F,y),null!==F.contentQueries&&(c.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(c.flags|=128);const G=F.type.prototype;!w&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),w=!0),!D&&(G.ngOnChanges||G.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),D=!0),T++}!function n5(o,a){const d=a.directiveEnd,f=o.data,g=a.attrs,y=[];let w=null,D=null;for(let T=a.directiveStart;T<d;T++){const k=f[T],F=k.inputs,G=null===g||V1(a)?null:yv(F,g);y.push(G),w=p0(F,T,w),D=p0(k.outputs,T,D)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=y,a.inputs=w,a.outputs=D}(o,c)}y&&function _v(o,a,c){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const g=c[a[f+1]];if(null==g)throw new Re(-301,`Export of name '${a[f+1]}' not found!`);d.push(a[f],g)}}}(c,d,y)}return c.mergedAttrs=qe(c.mergedAttrs,c.attrs),f}function mv(o,a,c,d,f,g){const y=g.hostBindings;if(y){let w=o.hostBindingOpCodes;null===w&&(w=o.hostBindingOpCodes=[]);const D=~a.index;(function BS(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(w)!=D&&w.push(D),w.push(d,f,y)}}function o5(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function _0(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function vv(o,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=o;ss(a)&&(c[""]=o)}}function v0(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}function l5(o,a,c,d,f){o.data[d]=f;const g=f.factory||(f.factory=xo(f.type)),y=new Pn(g,ss(f),null);o.blueprint[d]=y,c[d]=y,mv(o,a,0,d,Yh(o,c,f.hostVars,kt),f)}function HS(o,a,c){const d=Yn(a,o),f=f0(c),g=o[10],y=Xf(o,j1(o,f,null,c.onPush?64:16,d,a,g,g.createRenderer(d,c),null,null));o[a.index]=y}function No(o,a,c,d,f,g){const y=Yn(o,a);!function y0(o,a,c,d,f,g,y){if(null==g)rn(o)?o.removeAttribute(a,f,c):a.removeAttribute(f);else{const w=null==y?Z(g):y(g,d||"",f);rn(o)?o.setAttribute(a,f,w,c):c?a.setAttributeNS(c,f,w):a.setAttribute(f,w)}}(a[11],y,g,o.value,c,d,f)}function c5(o,a,c,d,f,g){const y=g[a];if(null!==y){const w=d.setInput;for(let D=0;D<y.length;){const T=y[D++],k=y[D++],F=y[D++];null!==w?d.setInput(c,F,T,k):c[k]=F}}}function yv(o,a){let c=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,o[f],a[d+1])),d+=2}else d+=2;else d+=4}return c}function Kf(o,a,c,d){return new Array(o,!0,!1,a,null,0,d,c,null,null)}function wv(o,a){const c=Yi(a,o);if(as(c)){const d=c[1];80&c[2]?Ca(d,c,d.template,c[8]):c[5]>0&&mc(c)}}function mc(o){for(let d=hu(o);null!==d;d=Cl(d))for(let f=10;f<d.length;f++){const g=d[f];if(1024&g[2]){const y=g[1];Ca(y,g,y.template,g[8])}else g[5]>0&&mc(g)}const c=o[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Yi(c[d],o);as(f)&&f[5]>0&&mc(f)}}function Mv(o,a){const c=Yi(a,o),d=c[1];(function b0(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(d,c),yu(d,c,c[8])}function Xf(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function Kh(o){for(;o;){o[2]|=64;const a=bl(o);if(Ac(o)&&!a)return o;o=a}return null}function Jf(o,a,c){const d=a[10];d.begin&&d.begin();try{Ca(o,a,o.template,c)}catch(f){throw ep(a,f),f}finally{d.end&&d.end()}}function d5(o){!function C0(o){for(let a=0;a<o.components.length;a++){const c=o.components[a],d=xh(c),f=d[1];qf(f,d,f.template,c)}}(o[8])}function Qh(o,a,c){Ka(0),a(o,c)}const xv=(()=>Promise.resolve(null))();function w0(o){return o[7]||(o[7]=[])}function f5(o){return o.cleanup||(o.cleanup=[])}function Ev(o,a,c){return(null===o||ss(o))&&(c=function Zd(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(c[a.index])),c[11]}function ep(o,a){const c=o[9],d=c?c.get(uu,null):null;d&&d.handleError(a)}function p5(o,a,c,d,f){for(let g=0;g<c.length;){const y=c[g++],w=c[g++],D=a[y],T=o.data[y];null!==T.setInput?T.setInput(D,f,d,w):D[w]=f}}function wa(o,a,c){const d=ai(a,o);!function zh(o,a,c){rn(o)?o.setValue(a,c):a.textContent=c}(o[11],d,c)}function Xh(o,a,c){let d=c?o.styles:null,f=c?o.classes:null,g=0;if(null!==a)for(let y=0;y<a.length;y++){const w=a[y];"number"==typeof w?g=w:1==g?f=ce(f,w):2==g&&(d=ce(d,w+": "+a[++y]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=f:o.classesWithoutHost=f}const M0=new Xt("INJECTOR",-1);class D0{get(a,c=Vn){if(c===Vn){const d=new Error(`NullInjectorError: No provider for ${le(a)}!`);throw d.name="NullInjectorError",d}return c}}const x0=new Xt("Set Injector scope."),e2={},t2={};let q1;function m5(){return void 0===q1&&(q1=new D0),q1}function E0(o,a=null,c=null,d){const f=g5(o,a,c,d);return f._resolveInjectorDefTypes(),f}function g5(o,a=null,c=null,d){return new _5(o,c,a||m5(),d)}class _5{constructor(a,c,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];c&&zr(c,w=>this.processProvider(w,a,c)),zr([a],w=>this.processInjectorType(w,[],g)),this.records.set(M0,n2(void 0,this));const y=this.records.get(x0);this.scope=null!=y?y.value:null,this.source=f||("object"==typeof a?null:le(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,c=Vn,d=nt.Default){this.assertNotDestroyed();const f=R(this),g=ti(void 0);try{if(!(d&nt.SkipSelf)){let w=this.records.get(a);if(void 0===w){const D=function qS(o){return"function"==typeof o||"object"==typeof o&&o instanceof Xt}(a)&&Un(a);w=D&&this.injectableDefInScope(D)?n2(S0(a),e2):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&nt.Self?m5():this.parent).get(a,c=d&nt.Optional&&c===Vn?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[fl]=y[fl]||[]).unshift(le(a)),f)throw y;return function sn(o,a,c,d){const f=o[fl];throw a[Ql]&&f.unshift(a[Ql]),o.message=function Xi(o,a,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let f=le(a);if(Array.isArray(a))f=a.map(le).join(" -> ");else if("object"==typeof a){let g=[];for(let y in a)if(a.hasOwnProperty(y)){let w=a[y];g.push(y+":"+("string"==typeof w?JSON.stringify(w):le(w)))}f=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${o.replace(Kl,"\n  ")}`}("\n"+o.message,f,c,d),o.ngTokenPath=f,o[fl]=null,o}(y,a,"R3InjectorError",this.source)}throw y}finally{ti(g),R(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((d,f)=>a.push(le(f))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,"")}processInjectorType(a,c,d){if(!(a=ne(a)))return!1;let f=yo(a);const g=null==f&&a.ngModule||void 0,y=void 0===g?a:g,w=-1!==d.indexOf(y);if(void 0!==g&&(f=yo(g)),null==f)return!1;if(null!=f.imports&&!w){let k;d.push(y);try{zr(f.imports,F=>{this.processInjectorType(F,c,d)&&(void 0===k&&(k=[]),k.push(F))})}finally{}if(void 0!==k)for(let F=0;F<k.length;F++){const{ngModule:G,providers:K}=k[F];zr(K,fe=>this.processProvider(fe,G,K||B))}}this.injectorDefTypes.add(y);const D=xo(y)||(()=>new y);this.records.set(y,n2(D,e2));const T=f.providers;if(null!=T&&!w){const k=a;zr(T,F=>this.processProvider(F,k,T))}return void 0!==g&&void 0!==a.providers}processProvider(a,c,d){let f=W1(a=ne(a))?a:ne(a&&a.provide);const g=function Tv(o,a,c){return Av(o)?n2(void 0,o.useValue):n2(I0(o),e2)}(a);if(W1(a)||!0!==a.multi)this.records.get(f);else{let y=this.records.get(f);y||(y=n2(void 0,e2,!0),y.factory=()=>Xe(y.multi),this.records.set(f,y)),f=a,y.multi.push(a)}this.records.set(f,g)}hydrate(a,c){return c.value===e2&&(c.value=t2,c.value=c.factory()),"object"==typeof c.value&&c.value&&function $S(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=ne(a.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function S0(o){const a=Un(o),c=null!==a?a.factory:xo(o);if(null!==c)return c;if(o instanceof Xt)throw new Re(204,"");if(o instanceof Function)return function v5(o){const a=o.length;if(a>0)throw ko(a,"?"),new Re(204,"");const c=function Wt(o){const a=o&&(o[cr]||o[Ie]);if(a){const c=function kn(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Re(204,"")}function I0(o,a,c){let d;if(W1(o)){const f=ne(o);return xo(f)||S0(f)}if(Av(o))d=()=>ne(o.useValue);else if(function y5(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Xe(o.deps||[]));else if(function US(o){return!(!o||!o.useExisting)}(o))d=()=>q(ne(o.useExisting));else{const f=ne(o&&(o.useClass||o.provide));if(!function GS(o){return!!o.deps}(o))return xo(f)||S0(f);d=()=>new f(...Xe(o.deps))}return d}function n2(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function Av(o){return null!==o&&"object"==typeof o&&x in o}function W1(o){return"function"==typeof o}let Fo=(()=>{class o{static create(c,d){var f;if(Array.isArray(c))return E0({name:""},d,c,"");{const g=null!==(f=c.name)&&void 0!==f?f:"";return E0({name:g},c.parent,c.providers,g)}}}return o.THROW_IF_NOT_FOUND=Vn,o.NULL=new D0,o.\u0275prov=ln({token:o,providedIn:"any",factory:()=>q(M0)}),o.__NG_ELEMENT_ID__=-1,o})();function Vv(o,a){Hc(xh(o)[1],vn())}function k0(o){let a=function k5(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;a;){let f;if(ss(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Re(903,"");f=a.\u0275dir}if(f){if(c){d.push(f);const y=o;y.inputs=R0(o.inputs),y.declaredInputs=R0(o.declaredInputs),y.outputs=R0(o.outputs);const w=f.hostBindings;w&&Uv(o,w);const D=f.viewQuery,T=f.contentQueries;if(D&&Hv(o,D),T&&jv(o,T),X(o.inputs,f.inputs),X(o.declaredInputs,f.declaredInputs),X(o.outputs,f.outputs),ss(f)&&f.data.animation){const k=o.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let y=0;y<g.length;y++){const w=g[y];w&&w.ngInherit&&w(o),w===k0&&(c=!1)}}a=Object.getPrototypeOf(a)}!function Bv(o){let a=0,c=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=qe(f.hostAttrs,c=qe(c,f.hostAttrs))}}(d)}function R0(o){return o===bs?{}:o===B?[]:o}function Hv(o,a){const c=o.viewQuery;o.viewQuery=c?(d,f)=>{a(d,f),c(d,f)}:a}function jv(o,a){const c=o.contentQueries;o.contentQueries=c?(d,f,g)=>{a(d,f,g),c(d,f,g)}:a}function Uv(o,a){const c=o.hostBindings;o.hostBindings=c?(d,f)=>{a(d,f),c(d,f)}:a}let tp=null;function Y1(){if(!tp){const o=Ct.Symbol;if(o&&o.iterator)tp=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const d=a[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(tp=d)}}}return tp}function r2(o){return!!O0(o)&&(Array.isArray(o)||!(o instanceof Map)&&Y1()in o)}function O0(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Cr(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function P0(o,a,c,d){const f=Ee();return Cr(f,Ds(),a)&&(zt(),No(On(),f,o,a,c,d)),P0}function K1(o,a,c,d){return Cr(o,Ds(),c)?a+Z(c)+d:kt}function H5(o,a,c,d,f,g,y,w){const D=Ee(),T=zt(),k=o+20,F=T.firstCreatePass?function Kv(o,a,c,d,f,g,y,w,D){const T=a.consts,k=pc(a,o,4,y||null,Zi(T,w));r5(a,c,k,Zi(T,D)),Hc(a,k);const F=k.tViews=$1(2,k,d,f,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,T);return null!==a.queries&&(a.queries.template(a,k),F.queries=a.queries.embeddedTView(k)),k}(k,T,D,a,c,d,f,g,y):T.data[k];Ki(F,!1);const G=D[11].createComment("");mu(T,D,G,F),Ai(G,D),Xf(D,D[k]=Kf(G,D,G,F)),Cs(F)&&h0(T,D,F),null!=y&&Zh(D,F,w)}function j5(o){return os(function Vl(){return wt.lFrame.contextLView}(),20+o)}function o2(o,a=nt.Default){const c=Ee();return null===c?q(o,a):qc(vn(),c,ne(o),a)}function J5(){throw new Error("invalid")}function V0(o,a,c){const d=Ee();return Cr(d,Ds(),a)&&br(zt(),On(),d,o,a,d[11],c,!1),V0}function B0(o,a,c,d,f){const y=f?"class":"style";p5(o,c,a.inputs[y],y,d)}function H0(o,a,c,d){const f=Ee(),g=zt(),y=20+o,w=f[11],D=f[y]=fu(w,a,function d1(){return wt.lFrame.currentNamespace}()),T=g.firstCreatePass?function _y(o,a,c,d,f,g,y){const w=a.consts,T=pc(a,o,2,f,Zi(w,g));return r5(a,c,T,Zi(w,y)),null!==T.attrs&&Xh(T,T.attrs,!1),null!==T.mergedAttrs&&Xh(T,T.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,T),T}(y,g,f,0,a,c,d):g.data[y];Ki(T,!0);const k=T.mergedAttrs;null!==k&&Uc(w,D,k);const F=T.classes;null!==F&&e0(w,D,F);const G=T.styles;null!==G&&zi(w,D,G),64!=(64&T.flags)&&mu(g,f,D,T),0===function Ga(){return wt.lFrame.elementDepthCount}()&&Ai(D,f),function $a(){wt.lFrame.elementDepthCount++}(),Cs(T)&&(h0(g,f,T),G1(g,T,f)),null!==d&&Zh(f,T)}function j0(){let o=vn();Ms()?Ll():(o=o.parent,Ki(o,!1));const a=o;!function ia(){wt.lFrame.elementDepthCount--}();const c=zt();c.firstCreatePass&&(Hc(c,o),Tc(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function f1(o){return 0!=(16&o.flags)}(a)&&B0(c,a,Ee(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Es(o){return 0!=(32&o.flags)}(a)&&B0(c,a,Ee(),a.stylesWithoutHost,!1)}function e6(o,a,c,d){H0(o,a,c,d),j0()}function U0(o,a,c){const d=Ee(),f=zt(),g=o+20,y=f.firstCreatePass?function vy(o,a,c,d,f){const g=a.consts,y=Zi(g,d),w=pc(a,o,8,"ng-container",y);return null!==y&&Xh(w,y,!0),r5(a,c,w,Zi(g,f)),null!==a.queries&&a.queries.elementStart(a,w),w}(g,f,d,a,c):f.data[g];Ki(y,!0);const w=d[g]=d[11].createComment("");mu(f,d,w,y),Ai(w,d),Cs(y)&&(h0(f,d,y),G1(f,y,d)),null!=c&&Zh(d,y)}function G0(){let o=vn();const a=zt();Ms()?Ll():(o=o.parent,Ki(o,!1)),a.firstCreatePass&&(Hc(a,o),Tc(o)&&a.queries.elementEnd(o))}function t6(o,a,c){U0(o,a,c),G0()}function n6(){return Ee()}function $0(o){return!!o&&"function"==typeof o.then}function q0(o){return!!o&&"function"==typeof o.subscribe}const r6=q0;function W0(o,a,c,d){const f=Ee(),g=zt(),y=vn();return s6(g,f,f[11],y,o,a,!!c,d),W0}function Y0(o,a){const c=vn(),d=Ee(),f=zt();return s6(f,d,Ev(Ya(f.data),c,d),c,o,a,!1),Y0}function s6(o,a,c,d,f,g,y,w){const D=Cs(d),k=o.firstCreatePass&&f5(o),F=a[8],G=w0(a);let K=!0;if(3&d.type||w){const Ue=Yn(d,a),tt=w?w(Ue):Ue,we=G.length,ut=w?Gt=>w(_n(Gt[d.index])):d.index;if(rn(c)){let Gt=null;if(!w&&D&&(Gt=function yy(o,a,c,d){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const y=f[g];if(y===c&&f[g+1]===d){const w=a[7],D=f[g+2];return w.length>D?w[D]:null}"string"==typeof y&&(g+=2)}return null}(o,a,f,d.index)),null!==Gt)(Gt.__ngLastListenerFn__||Gt).__ngNextListenerFn__=g,Gt.__ngLastListenerFn__=g,K=!1;else{g=Z0(d,a,F,g,!1);const on=c.listen(tt,f,g);G.push(g,on),k&&k.push(f,ut,we,we+1)}}else g=Z0(d,a,F,g,!0),tt.addEventListener(f,g,y),G.push(g),k&&k.push(f,ut,we,y)}else g=Z0(d,a,F,g,!1);const fe=d.outputs;let Ne;if(K&&null!==fe&&(Ne=fe[f])){const Ue=Ne.length;if(Ue)for(let tt=0;tt<Ue;tt+=2){const Ps=a[Ne[tt]][Ne[tt+1]].subscribe(g),po=G.length;G.push(g,Ps),k&&k.push(f,d.index,po,-(po+1))}}}function o6(o,a,c,d){try{return!1!==c(d)}catch(f){return ep(o,f),!1}}function Z0(o,a,c,d,f){return function g(y){if(y===Function)return d;const w=2&o.flags?Yi(o.index,a):a;0==(32&a[2])&&Kh(w);let D=o6(a,0,d,y),T=g.__ngNextListenerFn__;for(;T;)D=o6(a,0,T,y)&&D,T=T.__ngNextListenerFn__;return f&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function a6(o=1){return function c1(o){return(wt.lFrame.contextLView=function _f(o,a){for(;o>0;)a=a[15],o--;return a}(o,wt.lFrame.contextLView))[8]}(o)}function by(o,a){let c=null;const d=function fc(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(o);for(let f=0;f<a.length;f++){const g=a[f];if("*"!==g){if(null===d?Pg(o,g,!0):Lg(d,g))return f}else c=f}return c}function l6(o){const a=Ee()[16][6];if(!a.projection){const d=a.projection=ko(o?o.length:1,null),f=d.slice();let g=a.child;for(;null!==g;){const y=o?by(g,o):0;null!==y&&(f[y]?f[y].projectionNext=g:d[y]=g,f[y]=g),g=g.next}}}function c6(o,a=0,c){const d=Ee(),f=zt(),g=pc(f,20+o,16,null,c||null);null===g.projection&&(g.projection=a),Ll(),64!=(64&g.flags)&&function SS(o,a,c){Jm(a[11],0,a,c,Pe(o,c,a),F1(c.parent||a[6],c,a))}(f,d,g)}function y6(o,a,c,d,f){const g=o[c+1],y=null===a;let w=d?lo(g):Po(g),D=!1;for(;0!==w&&(!1===D||y);){const k=o[w+1];My(o[w],a)&&(D=!0,o[w+1]=d?Bf(k):Lf(k)),w=d?lo(k):Po(k)}D&&(o[c+1]=d?Lf(g):Bf(g))}function My(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&fr(o,a)>=0}const Vi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function b6(o){return o.substring(Vi.key,Vi.keyEnd)}function C6(o,a){const c=Vi.textEnd;return c===a?-1:(a=Vi.keyEnd=function Sy(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,Vi.key=a,c),sd(o,a,c))}function sd(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function Q0(o,a,c){return ho(o,a,c,!1),Q0}function X0(o,a){return ho(o,a,null,!0),X0}function xa(o,a){for(let c=function xy(o){return function M6(o){Vi.key=0,Vi.keyEnd=0,Vi.value=0,Vi.valueEnd=0,Vi.textEnd=o.length}(o),C6(o,sd(o,0,Vi.textEnd))}(a);c>=0;c=C6(a,c))gt(o,b6(a),!0)}function ho(o,a,c,d){const f=Ee(),g=zt(),y=Nr(2);g.firstUpdatePass&&I6(g,o,y,d),a!==kt&&Cr(f,y,a)&&A6(g,g.data[xi()],f,f[11],o,f[y+1]=function Ly(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=le(Ro(o)))),o}(a,c),d,y)}function S6(o,a){return a>=o.expandoStartIndex}function I6(o,a,c,d){const f=o.data;if(null===f[c+1]){const g=f[xi()],y=S6(o,c);R6(g,d)&&null===a&&!y&&(a=!1),a=function ky(o,a,c,d){const f=Ya(o);let g=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(c=a2(c=J0(null,o,a,c,d),a.attrs,d),g=null);else{const y=a.directiveStylingLast;if(-1===y||o[y]!==f)if(c=J0(f,o,a,c,d),null===g){let D=function Ry(o,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==Po(d))return o[lo(d)]}(o,a,d);void 0!==D&&Array.isArray(D)&&(D=J0(null,o,a,D[1],d),D=a2(D,a.attrs,d),function Oy(o,a,c,d){o[lo(c?a.classBindings:a.styleBindings)]=d}(o,a,d,D))}else g=function Py(o,a,c){let d;const f=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<f;g++)d=a2(d,o[g].hostAttrs,c);return a2(d,a.attrs,c)}(o,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),c}(f,g,a,d),function Cy(o,a,c,d,f,g){let y=g?a.classBindings:a.styleBindings,w=lo(y),D=Po(y);o[d]=c;let k,T=!1;if(Array.isArray(c)){const F=c;k=F[1],(null===k||fr(F,k)>0)&&(T=!0)}else k=c;if(f)if(0!==D){const G=lo(o[w+1]);o[d+1]=Gh(G,w),0!==G&&(o[G+1]=zf(o[G+1],d)),o[w+1]=function jg(o,a){return 131071&o|a<<17}(o[w+1],d)}else o[d+1]=Gh(w,0),0!==w&&(o[w+1]=zf(o[w+1],d)),w=d;else o[d+1]=Gh(D,0),0===w?w=d:o[D+1]=zf(o[D+1],d),D=d;T&&(o[d+1]=Lf(o[d+1])),y6(o,k,d,!0),y6(o,k,d,!1),function wy(o,a,c,d,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&fr(g,a)>=0&&(c[d+1]=Bf(c[d+1]))}(a,k,o,d,g),y=Gh(w,D),g?a.classBindings=y:a.styleBindings=y}(f,g,a,c,y,d)}}function J0(o,a,c,d,f){let g=null;const y=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<y&&(g=a[w],d=a2(d,g.hostAttrs,f),g!==o);)w++;return null!==o&&(c.directiveStylingLast=w),d}function a2(o,a,c){const d=c?1:2;let f=-1;if(null!==a)for(let g=0;g<a.length;g++){const y=a[g];"number"==typeof y?f=y:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),gt(o,y,!!c||a[++g]))}return void 0===o?null:o}function A6(o,a,c,d,f,g,y,w){if(!(3&a.type))return;const D=o.data,T=D[w+1];rp(function Vf(o){return 1==(1&o)}(T)?k6(D,a,c,f,Po(T),y):void 0)||(rp(g)||function Hg(o){return 2==(2&o)}(T)&&(g=k6(D,null,c,f,w,y)),function _u(o,a,c,d,f){const g=rn(o);if(a)f?g?o.addClass(c,d):c.classList.add(d):g?o.removeClass(c,d):c.classList.remove(d);else{let y=-1===d.indexOf("-")?void 0:so.DashCase;if(null==f)g?o.removeStyle(c,d,y):c.style.removeProperty(d);else{const w="string"==typeof f&&f.endsWith("!important");w&&(f=f.slice(0,-10),y|=so.Important),g?o.setStyle(c,d,f,y):c.style.setProperty(d,f,w?"important":"")}}}(d,y,ai(xi(),c),f,g))}function k6(o,a,c,d,f,g){const y=null===a;let w;for(;f>0;){const D=o[f],T=Array.isArray(D),k=T?D[1]:D,F=null===k;let G=c[f+1];G===kt&&(G=F?B:void 0);let K=F?dl(G,d):k===d?G:void 0;if(T&&!rp(K)&&(K=dl(D,d)),rp(K)&&(w=K,y))return w;const fe=o[f+1];f=y?lo(fe):Po(fe)}if(null!==a){let D=g?a.residualClasses:a.residualStyles;null!=D&&(w=dl(D,d))}return w}function rp(o){return void 0!==o}function R6(o,a){return 0!=(o.flags&(a?16:32))}function O6(o,a=""){const c=Ee(),d=zt(),f=o+20,g=d.firstCreatePass?pc(d,f,1,a,null):d.data[f],y=c[f]=function P1(o,a){return rn(o)?o.createText(a):o.createTextNode(a)}(c[11],a);mu(d,c,y,g),Ki(g,!1)}function e3(o){return sp("",o,""),e3}function sp(o,a,c){const d=Ee(),f=K1(d,o,a,c);return f!==kt&&wa(d,xi(),f),sp}function j6(o,a,c){!function zo(o,a,c,d){const f=zt(),g=Nr(2);f.firstUpdatePass&&I6(f,null,g,d);const y=Ee();if(c!==kt&&Cr(y,g,c)){const w=f.data[xi()];if(R6(w,d)&&!S6(f,g)){let D=d?w.classesWithoutHost:w.stylesWithoutHost;null!==D&&(c=ce(D,c||"")),B0(f,w,y,c,d)}else!function Fy(o,a,c,d,f,g,y,w){f===kt&&(f=B);let D=0,T=0,k=0<f.length?f[0]:null,F=0<g.length?g[0]:null;for(;null!==k||null!==F;){const G=D<f.length?f[D+1]:void 0,K=T<g.length?g[T+1]:void 0;let Ne,fe=null;k===F?(D+=2,T+=2,G!==K&&(fe=F,Ne=K)):null===F||null!==k&&k<F?(D+=2,fe=k):(T+=2,fe=F,Ne=K),null!==fe&&A6(o,a,c,d,fe,Ne,y,w),k=D<f.length?f[D]:null,F=T<g.length?g[T]:null}}(f,w,y,y[11],y[g+1],y[g+1]=function Ny(o,a,c){if(null==c||""===c)return B;const d=[],f=Ro(c);if(Array.isArray(f))for(let g=0;g<f.length;g++)o(d,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&o(d,g,f[g]);else"string"==typeof f&&a(d,f);return d}(o,a,c),d,g)}}(gt,xa,K1(Ee(),o,a,c),!0)}function t3(o,a,c){const d=Ee();return Cr(d,Ds(),a)&&br(zt(),On(),d,o,a,d[11],c,!0),t3}function n3(o,a,c){const d=Ee();if(Cr(d,Ds(),a)){const g=zt(),y=On();br(g,y,d,o,a,Ev(Ya(g.data),y,d),c,!0)}return n3}const Mu=void 0;var nb=["en",[["a","p"],["AM","PM"],Mu],[["AM","PM"],Mu,Mu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mu,"{1} 'at' {0}",Mu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function tb(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let od={};function r3(o){const a=function ib(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=J6(a);if(c)return c;const d=a.split("-")[0];if(c=J6(d),c)return c;if("en"===d)return nb;throw new Error(`Missing locale data for the locale "${o}".`)}function X6(o){return r3(o)[xt.PluralCase]}function J6(o){return o in od||(od[o]=Ct.ng&&Ct.ng.common&&Ct.ng.common.locales&&Ct.ng.common.locales[o]),od[o]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const op="en-US";let e8=op;function a3(o,a,c,d,f){if(o=ne(o),Array.isArray(o))for(let g=0;g<o.length;g++)a3(o[g],a,c,d,f);else{const g=zt(),y=Ee();let w=W1(o)?o:ne(o.provide),D=I0(o);const T=vn(),k=1048575&T.providerIndexes,F=T.directiveStart,G=T.providerIndexes>>20;if(W1(o)||!o.multi){const K=new Pn(D,f,o2),fe=c3(w,a,f?k:k+G,F);-1===fe?(Yl(il(T,y),g,w),l3(g,o,a.length),a.push(w),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),c.push(K),y.push(K)):(c[fe]=K,y[fe]=K)}else{const K=c3(w,a,k+G,F),fe=c3(w,a,k,k+G),Ne=K>=0&&c[K],Ue=fe>=0&&c[fe];if(f&&!Ue||!f&&!Ne){Yl(il(T,y),g,w);const tt=function tC(o,a,c,d,f){const g=new Pn(o,c,o2);return g.multi=[],g.index=a,g.componentProviders=0,x8(g,f,d&&!c),g}(f?eC:Jb,c.length,f,d,D);!f&&Ue&&(c[fe].providerFactory=tt),l3(g,o,a.length,0),a.push(w),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),c.push(tt),y.push(tt)}else l3(g,o,K>-1?K:fe,x8(c[f?fe:K],D,!f&&d));!f&&d&&Ue&&c[fe].componentProviders++}}}function l3(o,a,c,d){const f=W1(a),g=function kv(o){return!!o.useClass}(a);if(f||g){const D=(g?ne(a.useClass):a).prototype.ngOnDestroy;if(D){const T=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const k=T.indexOf(c);-1===k?T.push(c,[d,D]):T[k+1].push(d,D)}else T.push(c,D)}}}function x8(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function c3(o,a,c,d){for(let f=c;f<d;f++)if(a[f]===o)return f;return-1}function Jb(o,a,c,d){return u3(this.multi,[])}function eC(o,a,c,d){const f=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Fn(c,c[1],this.providerFactory.index,d);g=w.slice(0,y),u3(f,g);for(let D=y;D<w.length;D++)g.push(w[D])}else g=[],u3(f,g);return g}function u3(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function E8(o,a=[]){return c=>{c.providersResolver=(d,f)=>function Xb(o,a,c){const d=zt();if(d.firstCreatePass){const f=ss(o);a3(c,d.data,d.blueprint,f,!0),a3(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class S8{}class rC{resolveComponentFactory(a){throw function iC(o){const a=Error(`No component factory found for ${le(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let h2=(()=>{class o{}return o.NULL=new rC,o})();function sC(){return ld(vn(),Ee())}function ld(o,a){return new f2(Yn(o,a))}let f2=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=sC,o})();function oC(o){return o instanceof f2?o.nativeElement:o}class T8{}let aC=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function cC(){const o=Ee(),c=Yi(vn().index,o);return function lC(o){return o[11]}(qi(c)?c:o)}(),o})(),uC=(()=>{class o{}return o.\u0275prov=ln({token:o,providedIn:"root",factory:()=>null}),o})();class A8{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const k8=new A8("13.1.3"),d3={};function dp(o,a,c,d,f=!1){for(;null!==c;){const g=a[c.index];if(null!==g&&d.push(_n(g)),Wi(g))for(let w=10;w<g.length;w++){const D=g[w],T=D[1].firstChild;null!==T&&dp(D[1],D,T,d)}const y=c.type;if(8&y)dp(o,a,c.child,d);else if(32&y){const w=O1(c,a);let D;for(;D=w();)d.push(D)}else if(16&y){const w=gu(a,c);if(Array.isArray(w))d.push(...w);else{const D=bl(a[16]);dp(D[1],D,w,d,!0)}}c=f?c.projectionNext:c.next}return d}class p2{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return dp(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Wi(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(b(a,d),ll(c,d))}this._attachedToViewContainer=!1}S(this._lView[1],this._lView)}onDestroy(a){e5(this._lView[1],this._lView,null,a)}markForCheck(){Kh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Jf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function h5(o,a,c){qa(!0);try{Jf(o,a,c)}finally{qa(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Re(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Xm(o,a){Uh(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Re(902,"");this._appRef=a}}class dC extends p2{constructor(a){super(a),this._view=a}detectChanges(){d5(this._view)}checkNoChanges(){!function Dv(o){qa(!0);try{d5(o)}finally{qa(!1)}}(this._view)}get context(){return null}}class R8 extends h2{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Ci(a);return new h3(c,this.ngModule)}}function O8(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}const fC=new Xt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>R1});class h3 extends S8{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function Vg(o){return o.map(zg).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return O8(this.componentDef.inputs)}get outputs(){return O8(this.componentDef.outputs)}create(a,c,d,f){const g=(f=f||this.ngModule)?function pC(o,a){return{get:(c,d,f)=>{const g=o.get(c,d3,f);return g!==d3||d===d3?g:a.get(c,d,f)}}}(a,f.injector):a,y=g.get(T8,Ws),w=g.get(uC,null),D=y.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",k=d?function Yf(o,a,c){if(rn(o))return o.selectRootElement(a,c===Ft.ShadowDom);let d="string"==typeof a?o.querySelector(a):a;return d.textContent="",d}(D,d,this.componentDef.encapsulation):fu(y.createRenderer(null,this.componentDef),T,function hC(o){const a=o.toLowerCase();return"svg"===a?Ua:"math"===a?"http://www.w3.org/1998/MathML/":null}(T)),F=this.componentDef.onPush?576:528,G=function A5(o,a){return{components:[],scheduler:o||R1,clean:xv,playerHandler:a||null,flags:0}}(),K=$1(0,null,null,1,0,null,null,null,null,null),fe=j1(null,K,G,F,null,null,y,D,w,g);let Ne,Ue;la(fe);try{const tt=function I5(o,a,c,d,f,g){const y=c[1];c[20]=o;const D=pc(y,20,2,"#host",null),T=D.mergedAttrs=a.hostAttrs;null!==T&&(Xh(D,T,!0),null!==o&&(Uc(f,o,T),null!==D.classes&&e0(f,o,D.classes),null!==D.styles&&zi(f,o,D.styles)));const k=d.createRenderer(o,a),F=j1(c,f0(a),null,a.onPush?64:16,c[20],D,d,k,g||null,null);return y.firstCreatePass&&(Yl(il(D,c),y,a.type),_0(y,D),v0(D,c.length,1)),Xf(c,F),c[20]=F}(k,this.componentDef,fe,y,D);if(k)if(d)Uc(D,k,["ng-version",k8.full]);else{const{attrs:we,classes:ut}=function Bg(o){const a=[],c=[];let d=1,f=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===f?""!==g&&a.push(g,o[++d]):8===f&&c.push(g);else{if(!Mn(f))break;f=g}d++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);we&&Uc(D,k,we),ut&&ut.length>0&&e0(D,k,ut.join(" "))}if(Ue=ta(K,20),void 0!==c){const we=Ue.projection=[];for(let ut=0;ut<this.ngContentSelectors.length;ut++){const Gt=c[ut];we.push(null!=Gt?Array.from(Gt):null)}}Ne=function T5(o,a,c,d,f){const g=c[1],y=function VS(o,a,c){const d=vn();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),l5(o,d,a,Yh(o,a,1,null),c));const f=Fn(a,o,d.directiveStart,d);Ai(f,a);const g=Yn(d,a);return g&&Ai(g,a),f}(g,c,a);if(d.components.push(y),o[8]=y,f&&f.forEach(D=>D(y,a)),a.contentQueries){const D=vn();a.contentQueries(1,y,D.directiveStart)}const w=vn();return!g.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Zn(w.index),mv(c[1],w,0,w.directiveStart,w.directiveEnd,a),o5(a,y)),y}(tt,this.componentDef,fe,G,[Vv]),yu(K,fe,null)}finally{Ul()}return new gC(this.componentType,Ne,ld(Ue,fe),fe,Ue)}}class gC extends class nC{}{constructor(a,c,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new dC(f),this.componentType=a}get injector(){return new Tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class cd{}class P8{}const ud=new Map;class L8 extends cd{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new R8(this);const d=wi(a);this._bootstrapComponents=Oo(d.bootstrap),this._r3Injector=g5(a,c,[{provide:cd,useValue:this},{provide:h2,useValue:this.componentFactoryResolver}],le(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,c=Fo.THROW_IF_NOT_FOUND,d=nt.Default){return a===Fo||a===cd||a===M0?this:this._r3Injector.get(a,c,d)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class f3 extends P8{constructor(a){super(),this.moduleType=a,null!==wi(a)&&function vC(o){const a=new Set;!function c(d){const f=wi(d,!0),g=f.id;null!==g&&(function N8(o,a,c){if(a&&a!==c)throw new Error(`Duplicate module registered for ${o} - ${le(a)} vs ${le(a.name)}`)}(g,ud.get(g),d),ud.set(g,d));const y=Oo(f.imports);for(const w of y)a.has(w)||(a.add(w),c(w))}(o)}(a)}create(a){return new L8(this.moduleType,a)}}function z8(o,a,c,d){return V8(Ee(),ci(),o,a,c,d)}function V8(o,a,c,d,f,g){const y=a+c;return Cr(o,y,f)?function Ma(o,a,c){return o[a]=c}(o,y+1,g?d.call(g,f):d(f)):function m2(o,a){const c=o[a];return c===kt?void 0:c}(o,y+1)}function G8(o,a){const c=zt();let d;const f=o+20;c.firstCreatePass?(d=function IC(o,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(o===d.name)return d}}(a,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const g=d.factory||(d.factory=xo(d.type)),y=ti(o2);try{const w=nl(!1),D=g();return nl(w),function Qv(o,a,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=d}(c,Ee(),f,D),D}finally{ti(y)}}function $8(o,a,c){const d=o+20,f=Ee(),g=os(f,d);return function g2(o,a){return o[1].data[a].pure}(f,d)?V8(f,ci(),a,g.transform,c,g):g.transform(c)}function p3(o){return a=>{setTimeout(o,void 0,a)}}const Ea=class OC extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){var f,g,y;let w=a,D=c||(()=>null),T=d;if(a&&"object"==typeof a){const F=a;w=null===(f=F.next)||void 0===f?void 0:f.bind(F),D=null===(g=F.error)||void 0===g?void 0:g.bind(F),T=null===(y=F.complete)||void 0===y?void 0:y.bind(F)}this.__isAsync&&(D=p3(D),w&&(w=p3(w)),T&&(T=p3(T)));const k=super.subscribe({next:w,error:D,complete:T});return a instanceof J.w0&&a.add(k),k}};function PC(){return this._results[Y1()]()}class hp{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Y1(),d=hp.prototype;d[c]||(d[c]=PC)}get changes(){return this._changes||(this._changes=new Ea)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const f=yr(a);(this._changesDetected=!function oh(o,a,c){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],g=a[d];if(c&&(f=c(f),g=c(g)),g!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let _2=(()=>{class o{}return o.__NG_ELEMENT_ID__=LC,o})();const NC=_2,FC=class extends NC{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a){const c=this._declarationTContainer.tViews,d=j1(this._declarationLView,c,a,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(c)),yu(c,d,a),new p2(d)}};function LC(){return fp(vn(),Ee())}function fp(o,a){return 4&o.type?new FC(a,o,ld(o,a)):null}let pp=(()=>{class o{}return o.__NG_ELEMENT_ID__=zC,o})();function zC(){return Y8(vn(),Ee())}const VC=pp,q8=class extends VC{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return ld(this._hostTNode,this._hostLView)}get injector(){return new Tn(this._hostTNode,this._hostLView)}get parentInjector(){const a=dn(this._hostTNode,this._hostLView);if(hr(a)){const c=tl(a,this._hostLView),d=Nn(a);return new Tn(c[1].data[d+8],c)}return new Tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=W8(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,d){const f=a.createEmbeddedView(c||{});return this.insert(f,d),f}createComponent(a,c,d,f,g){const y=a&&!function Lr(o){return"function"==typeof o}(a);let w;if(y)w=c;else{const F=c||{};w=F.index,d=F.injector,f=F.projectableNodes,g=F.ngModuleRef}const D=y?a:new h3(Ci(a)),T=d||this.parentInjector;if(!g&&null==D.ngModule&&T){const F=T.get(cd,null);F&&(g=F)}const k=D.create(T,f,void 0,g);return this.insert(k.hostView,w),k}insert(a,c){const d=a._lView,f=d[1];if(function Lc(o){return Wi(o[3])}(d)){const k=this.indexOf(a);if(-1!==k)this.detach(k);else{const F=d[3],G=new q8(F,F[6],F[3]);G.detach(G.indexOf(a))}}const g=this._adjustIndex(c),y=this._lContainer;!function v(o,a,c,d){const f=10+d,g=c.length;d>0&&(c[f-1][4]=a),d<g-10?(a[4]=c[f],m1(c,10+d,a)):(c.push(a),a[4]=null),a[3]=c;const y=a[17];null!==y&&c!==y&&function p(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(y,a);const w=a[19];null!==w&&w.insertView(o),a[2]|=128}(f,d,y,g);const w=jh(g,y),D=d[11],T=ks(D,y[7]);return null!==T&&function di(o,a,c,d,f,g){d[0]=f,d[6]=a,Uh(o,d,c,1,f,g)}(f,y[6],D,d,T,w),a.attachToViewContainerRef(),m1(m3(y),g,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=W8(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=b(this._lContainer,c);d&&(ll(m3(this._lContainer),c),S(d[1],d))}detach(a){const c=this._adjustIndex(a,-1),d=b(this._lContainer,c);return d&&null!=ll(m3(this._lContainer),c)?new p2(d):null}_adjustIndex(a,c=0){return null==a?this.length+c:a}};function W8(o){return o[8]}function m3(o){return o[8]||(o[8]=[])}function Y8(o,a){let c;const d=a[o.index];if(Wi(d))c=d;else{let f;if(8&o.type)f=_n(d);else{const g=a[11];f=g.createComment("");const y=Yn(o,a);et(g,ks(g,y),f,function pu(o,a){return rn(o)?o.nextSibling(a):a.nextSibling}(g,y),!1)}a[o.index]=c=Kf(d,a,f,o),Xf(a,c)}return new q8(c,o,a)}class g3{constructor(a){this.queryList=a,this.matches=null}clone(){return new g3(this.queryList)}setDirty(){this.queryList.setDirty()}}class _3{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let g=0;g<d;g++){const y=c.getByIndex(g);f.push(this.queries[y.indexInDeclarationView].clone())}return new _3(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==YC(a,c).matches&&this.queries[c].setDirty()}}class Z8{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class v3{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(a,f);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new v3(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class y3{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new y3(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(a,c,jC(c,g)),this.matchTNodeWithReadOption(a,c,Io(c,a,g,!1,!1))}else d===_2?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Io(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===f2||f===pp||f===_2&&4&c.type)this.addMatch(c.index,-2);else{const g=Io(c,a,f,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function jC(o,a){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function GC(o,a,c,d){return-1===c?function UC(o,a){return 11&o.type?ld(o,a):4&o.type?fp(o,a):null}(a,o):-2===c?function $C(o,a,c){return c===f2?ld(a,o):c===_2?fp(a,o):c===pp?Y8(a,o):void 0}(o,a,d):Fn(o,o[1],c,a)}function K8(o,a,c,d){const f=a[19].queries[d];if(null===f.matches){const g=o.data,y=c.matches,w=[];for(let D=0;D<y.length;D+=2){const T=y[D];w.push(T<0?null:GC(a,g[T],y[D+1],c.metadata.read))}f.matches=w}return f.matches}function b3(o,a,c,d){const f=o.queries.getByIndex(c),g=f.matches;if(null!==g){const y=K8(o,a,f,c);for(let w=0;w<g.length;w+=2){const D=g[w];if(D>0)d.push(y[w/2]);else{const T=g[w+1],k=a[-D];for(let F=10;F<k.length;F++){const G=k[F];G[17]===G[3]&&b3(G[1],G,T,d)}if(null!==k[9]){const F=k[9];for(let G=0;G<F.length;G++){const K=F[G];b3(K[1],K,T,d)}}}}}return d}function Q8(o){const a=Ee(),c=zt(),d=Za();Ka(d+1);const f=YC(c,d);if(o.dirty&&li(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?b3(c,a,d,[]):K8(c,a,f,d);o.reset(g,oC),o.notifyOnChanges()}return!0}return!1}function X8(o,a,c){const d=zt();d.firstCreatePass&&(n_(d,new Z8(o,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),t_(d,Ee(),a)}function J8(o,a,c,d){const f=zt();if(f.firstCreatePass){const g=vn();n_(f,new Z8(a,c,d),g.index),function WC(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}t_(f,Ee(),c)}function e_(){return function qC(o,a){return o[19].queries[a].queryList}(Ee(),Za())}function t_(o,a,c){const d=new hp(4==(4&c));e5(o,a,d,d.destroy),null===a[19]&&(a[19]=new _3),a[19].queries.push(new g3(d))}function n_(o,a,c){null===o.queries&&(o.queries=new v3),o.queries.track(new y3(a,c))}function YC(o,a){return o.queries.getByIndex(a)}function fd(...o){}const E3=new Xt("Application Initializer");let pd=(()=>{class o{constructor(c){this.appInits=c,this.resolve=fd,this.reject=fd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if($0(g))c.push(g);else if(r6(g)){const y=new Promise((w,D)=>{g.subscribe({complete:w,error:D})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(q(E3,8))},o.\u0275prov=ln({token:o,factory:o.\u0275fac}),o})();const g_=new Xt("AppId"),aw={provide:g_,useFactory:function ow(){return`${Du()}${Du()}${Du()}`},deps:[]};function Du(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const S3=new Xt("Platform Initializer"),w2=new Xt("Platform ID"),I3=new Xt("appBootstrapListener");let __=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=ln({token:o,factory:o.\u0275fac}),o})();const _p=new Xt("LocaleId"),v_=new Xt("DefaultCurrencyCode");class T3{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let vp=(()=>{class o{compileModuleSync(c){return new f3(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=Oo(wi(c).declarations).reduce((y,w)=>{const D=Ci(w);return D&&y.push(new h3(D)),y},[]);return new T3(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=ln({token:o,factory:o.\u0275fac}),o})();const A3=(()=>Promise.resolve(0))();function yp(o){"undefined"==typeof Zone?A3.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class $r{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ea(!1),this.onMicrotaskEmpty=new Ea(!1),this.onStable=new Ea(!1),this.onError=new Ea(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function uw(){let o=Ct.requestAnimationFrame,a=Ct.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function dw(o){const a=()=>{!function k3(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Ct,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,R3(o),o.isCheckStableRunning=!0,bp(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),R3(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,g,y,w)=>{try{return C_(o),c.invokeTask(f,g,y,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),D2(o)}},onInvoke:(c,d,f,g,y,w,D)=>{try{return C_(o),c.invoke(f,g,y,w,D)}finally{o.shouldCoalesceRunChangeDetection&&a(),D2(o)}},onHasTask:(c,d,f,g)=>{c.hasTask(f,g),d===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,R3(o),bp(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,f,g)=>(c.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$r.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if($r.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,f){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+f,a,b_,fd,fd);try{return g.runTask(y,c,d)}finally{g.cancelTask(y)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const b_={};function bp(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function R3(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function C_(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function D2(o){o._nesting--,bp(o)}class O3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ea,this.onMicrotaskEmpty=new Ea,this.onStable=new Ea,this.onError=new Ea}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,f){return a.apply(c,d)}}let Cp=(()=>{class o{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$r.assertNotInAngularZone(),yp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yp(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,f){return[]}}return o.\u0275fac=function(c){return new(c||o)(q($r))},o.\u0275prov=ln({token:o,factory:o.\u0275fac}),o})(),wp=(()=>{class o{constructor(){this._applications=new Map,Mp.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Mp.findTestabilityInTree(this,c,d)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=ln({token:o,factory:o.\u0275fac}),o})();class w_{addToWindow(a){}findTestabilityInTree(a,c,d){return null}}function hw(o){Mp=o}let fs,Mp=new w_;const M_=new Xt("AllowMultipleToken");class mw{constructor(a,c){this.name=a,this.token=c}}function D_(o,a,c=[]){const d=`Platform: ${a}`,f=new Xt(d);return(g=[])=>{let y=x_();if(!y||y.injector.get(M_,!1))if(o)o(c.concat(g).concat({provide:f,useValue:!0}));else{const w=c.concat(g).concat({provide:f,useValue:!0},{provide:x0,useValue:"platform"});!function gw(o){if(fs&&!fs.destroyed&&!fs.injector.get(M_,!1))throw new Re(400,"");fs=o.get(x2);const a=o.get(S3,null);a&&a.forEach(c=>c())}(Fo.create({providers:w,name:d}))}return function _w(o){const a=x_();if(!a)throw new Re(401,"");return a}()}}function x_(){return fs&&!fs.destroyed?fs:null}let x2=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const w=function E_(o,a){let c;return c="noop"===o?new O3:("zone.js"===o?void 0:o)||new $r({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),D=[{provide:$r,useValue:w}];return w.run(()=>{const T=Fo.create({providers:D,parent:this.injector,name:c.moduleType.name}),k=c.create(T),F=k.injector.get(uu,null);if(!F)throw new Re(402,"");return w.runOutsideAngular(()=>{const G=w.onError.subscribe({next:K=>{F.handleError(K)}});k.onDestroy(()=>{P3(this._modules,k),G.unsubscribe()})}),function S_(o,a,c){try{const d=c();return $0(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(F,w,()=>{const G=k.injector.get(pd);return G.runInitializers(),G.donePromise.then(()=>(function ab(o){dt(o,"Expected localeId to be defined"),"string"==typeof o&&(e8=o.toLowerCase().replace(/_/g,"-"))}(k.injector.get(_p,op)||op),this._moduleDoBootstrap(k),k))})})}bootstrapModule(c,d=[]){const f=Dp({},d);return function fw(o,a,c){const d=new f3(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(c){const d=c.injector.get(E2);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Re(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(q(Fo))},o.\u0275prov=ln({token:o,factory:o.\u0275fac}),o})();function Dp(o,a){return Array.isArray(a)?a.reduce(Dp,o):Object.assign(Object.assign({},o),a)}let E2=(()=>{class o{constructor(c,d,f,g,y){this._zone=c,this._injector=d,this._exceptionHandler=f,this._componentFactoryResolver=g,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new N.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),D=new N.y(T=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{$r.assertNotInAngularZone(),yp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{$r.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{k.unsubscribe(),F.unsubscribe()}});this.isStable=(0,ae.T)(w,D.pipe((0,oe.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Re(405,"");let f;f=c instanceof S8?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(f.componentType);const g=function pw(o){return o.isBoundToModule}(f)?void 0:this._injector.get(cd),w=f.create(Fo.NULL,[],d||f.selector,g),D=w.location.nativeElement,T=w.injector.get(Cp,null),k=T&&w.injector.get(wp);return T&&k&&k.registerApplication(D,T),w.onDestroy(()=>{this.detachView(w.hostView),P3(this.components,w),k&&k.unregisterApplication(D)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Re(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;P3(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(I3,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(c){return new(c||o)(q($r),q(Fo),q(uu),q(h2),q(pd))},o.\u0275prov=ln({token:o,factory:o.\u0275fac}),o})();function P3(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}let N3=!0,F3=!1;function A_(){return F3=!0,N3}function k_(){if(F3)throw new Error("Cannot enable prod mode after platform setup.");N3=!1}let FI=(()=>{class o{}return o.__NG_ELEMENT_ID__=L3,o})();function L3(o){return function LI(o,a,c){if(Wn(o)&&!c){const d=Yi(o.index,a);return new p2(d,d)}return 47&o.type?new p2(a[16],a):null}(vn(),Ee(),16==(16&o))}class U3{constructor(){}supports(a){return r2(a)}create(a){return new z_(a)}}const L_=(o,a)=>a;class z_{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||L_}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,f=0,g=null;for(;c||d;){const y=!d||c&&c.currentIndex<G3(d,f,g)?c:d,w=G3(y,f,g),D=y.currentIndex;if(y===d)f--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)f++;else{g||(g=[]);const T=w-f,k=D-f;if(T!=k){for(let G=0;G<T;G++){const K=G<g.length?g[G]:g[G]=0,fe=K+G;k<=fe&&fe<T&&(g[G]=K+1)}g[y.previousIndex]=k-T}}w!==D&&a(y,w,D)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!r2(a))throw new Re(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,g,y,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)g=a[w],y=this._trackByFn(w,g),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,g,y,w)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,y,w),d=!0),c=c._next}else f=0,function Zv(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Y1()]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,w=>{y=this._trackByFn(f,w),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,w,y,f)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,y,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,f){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,g,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,g,f)):a=this._addAfter(new S2(c,d),g,f),a}_verifyReinsertion(a,c,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,g=a._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new gd),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gd),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class S2{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sw{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class gd{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new Sw,this.map.set(c,d)),d.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function G3(o,a,c){const d=o.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+a+f}class V_{constructor(){}supports(a){return a instanceof Map||O0(a)}create(){return new xl}}class xl{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||O0(a)))throw new Re(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const g=f._prev,y=f._next;return g&&(g._next=y),y&&(y._prev=g),f._next=null,f._prev=null,f}const d=new fi(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class fi{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Zt(){return new $3([new U3])}let $3=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Zt()),deps:[[o,new Hr,new yn]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Re(901,"")}}return o.\u0275prov=ln({token:o,providedIn:"root",factory:Zt}),o})();function Qe(){return new Pt([new V_])}let Pt=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||Qe()),deps:[[o,new Hr,new yn]]}}find(c){const d=this.factories.find(g=>g.supports(c));if(d)return d;throw new Re(901,"")}}return o.\u0275prov=ln({token:o,providedIn:"root",factory:Qe}),o})();const xu=[new V_],UI=new $3([new U3]),B_=new Pt(xu),H_=D_(null,"core",[{provide:w2,useValue:"unknown"},{provide:x2,deps:[Fo]},{provide:wp,deps:[]},{provide:__,deps:[]}]),q3=[{provide:E2,useClass:E2,deps:[$r,Fo,uu,h2,pd]},{provide:fC,deps:[$r],useFactory:function G_(o){let a=[];return o.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(c){a.push(c)}}},{provide:pd,useClass:pd,deps:[[new yn,E3]]},{provide:vp,useClass:vp,deps:[]},aw,{provide:$3,useFactory:function GI(){return UI},deps:[]},{provide:Pt,useFactory:function j_(){return B_},deps:[]},{provide:_p,useFactory:function _d(o){return o||function U_(){return"undefined"!=typeof $localize&&$localize.locale||op}()},deps:[[new ui(_p),new yn,new Hr]]},{provide:v_,useValue:"USD"}];let W3=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(q(E2))},o.\u0275mod=Us({type:o}),o.\u0275inj=vs({providers:q3}),o})()},3942:(lt,Ce,P)=>{"use strict";P.d(Ce,{Z:()=>Re});var l=P(2090),J=P(4859),N=P(9681),ae=P(1877);class oe{constructor(Z,se){this._delegate=Z,this.firebase=se,(0,N._addComponent)(Z,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=Z.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this._delegate.automaticDataCollectionEnabled=Z}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Z=>{this._delegate.checkDestroyed(),Z()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(Z,se=N._DEFAULT_ENTRY_NAME){var me;this._delegate.checkDestroyed();const De=this._delegate.container.getProvider(Z);return!De.isInitialized()&&"EXPLICIT"===(null===(me=De.getComponent())||void 0===me?void 0:me.instantiationMode)&&De.initialize(),De.getImmediate({identifier:se})}_removeServiceInstance(Z,se=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Z).clearInstance(se)}_addComponent(Z){(0,N._addComponent)(this._delegate,Z)}_addOrOverwriteComponent(Z){(0,N._addOrOverwriteComponent)(this._delegate,Z)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const X=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function ce(){const ze=function le(ze){const Z={},se={__esModule:!0,initializeApp:function ge(Ke,yt={}){const ee=N.initializeApp(Ke,yt);if((0,l.r3)(Z,ee.name))return Z[ee.name];const pe=new ze(ee,se);return Z[ee.name]=pe,pe},app:De,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function xe(Ke){const yt=Ke.name,ee=yt.replace("-compat","");if(N._registerComponent(Ke)&&"PUBLIC"===Ke.type){const pe=(_e=De())=>{if("function"!=typeof _e[ee])throw X.create("invalid-app-argument",{appName:yt});return _e[ee]()};void 0!==Ke.serviceProps&&(0,l.ZB)(pe,Ke.serviceProps),se[ee]=pe,ze.prototype[ee]=function(..._e){return this._getService.bind(this,yt).apply(this,Ke.multipleInstances?_e:[])}}return"PUBLIC"===Ke.type?se[ee]:null},removeApp:function me(Ke){delete Z[Ke]},useAsService:function ot(Ke,yt){return"serverAuth"===yt?null:yt},modularAPIs:N}};function De(Ke){if(!(0,l.r3)(Z,Ke=Ke||N._DEFAULT_ENTRY_NAME))throw X.create("no-app",{appName:Ke});return Z[Ke]}return se.default=se,Object.defineProperty(se,"apps",{get:function Ge(){return Object.keys(Z).map(Ke=>Z[Ke])}}),De.App=ze,se}(oe);return ze.INTERNAL=Object.assign(Object.assign({},ze.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function Z(se){(0,l.ZB)(ze,se)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),ze}(),j=new ae.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ze=self.firebase.SDK_VERSION;ze&&ze.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Re=U;!function Me(ze){(0,N.registerVersion)("@firebase/app-compat","0.1.16",ze)}()},9681:(lt,Ce,P)=>{"use strict";P.r(Ce),P.d(Ce,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>yo,_DEFAULT_ENTRY_NAME:()=>bi,_addComponent:()=>mn,_addOrOverwriteComponent:()=>ji,_apps:()=>ct,_clearComponents:()=>Un,_components:()=>Hi,_getProvider:()=>Tr,_registerComponent:()=>ln,_removeServiceInstance:()=>vs,deleteApp:()=>Si,getApp:()=>ys,getApps:()=>Ie,initializeApp:()=>cr,onLog:()=>Jt,registerVersion:()=>_r,setLogLevel:()=>ti});var l=P(5861),J=P(4859),N=P(1877),ae=P(2090);class oe{constructor(at){this.container=at}getPlatformInfoString(){return this.container.getProviders().map(Nt=>{if(function he(bt){const at=bt.getComponent();return"VERSION"===(null==at?void 0:at.type)}(Nt)){const En=Nt.getImmediate();return`${En.library}/${En.version}`}return null}).filter(Nt=>Nt).join(" ")}}const X="@firebase/app",ce=new N.Yd("@firebase/app"),bi="[DEFAULT]",dt={[X]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ct=new Map,Hi=new Map;function mn(bt,at){try{bt.container.addComponent(at)}catch(Nt){ce.debug(`Component ${at.name} failed to register with FirebaseApp ${bt.name}`,Nt)}}function ji(bt,at){bt.container.addOrOverwriteComponent(at)}function ln(bt){const at=bt.name;if(Hi.has(at))return ce.debug(`There were multiple attempts to register component ${at}.`),!1;Hi.set(at,bt);for(const Nt of ct.values())mn(Nt,bt);return!0}function Tr(bt,at){return bt.container.getProvider(at)}function vs(bt,at,Nt=bi){Tr(bt,at).clearInstance(Nt)}function Un(){Hi.clear()}const Wt=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class kn{constructor(at,Nt,En){this._isDeleted=!1,this._options=Object.assign({},at),this._config=Object.assign({},Nt),this._name=Nt.name,this._automaticDataCollectionEnabled=Nt.automaticDataCollectionEnabled,this._container=En,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(at){this.checkDestroyed(),this._automaticDataCollectionEnabled=at}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(at){this._isDeleted=at}checkDestroyed(){if(this.isDeleted)throw Wt.create("app-deleted",{appName:this._name})}}const yo="9.6.5";function cr(bt,at={}){"object"!=typeof at&&(at={name:at});const Nt=Object.assign({name:bi,automaticDataCollectionEnabled:!1},at),En=Nt.name;if("string"!=typeof En||!En)throw Wt.create("bad-app-name",{appName:String(En)});const ur=ct.get(En);if(ur){if((0,ae.vZ)(bt,ur.options)&&(0,ae.vZ)(Nt,ur.config))return ur;throw Wt.create("duplicate-app",{appName:En})}const Ft=new J.H0(En);for(const ht of Hi.values())Ft.addComponent(ht);const it=new kn(bt,Nt,Ft);return ct.set(En,it),it}function ys(bt=bi){const at=ct.get(bt);if(!at)throw Wt.create("no-app",{appName:bt});return at}function Ie(){return Array.from(ct.values())}function Si(bt){return nt.apply(this,arguments)}function nt(){return(nt=(0,l.Z)(function*(bt){const at=bt.name;ct.has(at)&&(ct.delete(at),yield Promise.all(bt.container.getProviders().map(Nt=>Nt.delete())),bt.isDeleted=!0)})).apply(this,arguments)}function _r(bt,at,Nt){var En;let ur=null!==(En=dt[bt])&&void 0!==En?En:bt;Nt&&(ur+=`-${Nt}`);const Ft=ur.match(/\s|\//),it=at.match(/\s|\//);if(Ft||it){const ht=[`Unable to register library "${ur}" with version "${at}":`];return Ft&&ht.push(`library name "${ur}" contains illegal characters (whitespace or "/")`),Ft&&it&&ht.push("and"),it&&ht.push(`version name "${at}" contains illegal characters (whitespace or "/")`),void ce.warn(ht.join(" "))}ln(new J.wA(`${ur}-version`,()=>({library:ur,version:at}),"VERSION"))}function Jt(bt,at){if(null!==bt&&"function"!=typeof bt)throw Wt.create("invalid-log-argument");(0,N.Am)(bt,at)}function ti(bt){(0,N.Ub)(bt)}!function bo(bt){ln(new J.wA("platform-logger",at=>new oe(at),"PRIVATE")),_r(X,"0.7.15",bt),_r(X,"0.7.15","esm2017"),_r("fire-js","")}("")},4859:(lt,Ce,P)=>{"use strict";P.d(Ce,{wA:()=>N,H0:()=>le});var l=P(5861),J=P(2090);class N{constructor(U,j,ne){this.name=U,this.instanceFactory=j,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const ae="[DEFAULT]";class oe{constructor(U,j){this.name=U,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const j=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(j)){const ne=new J.BH;if(this.instancesDeferred.set(j,ne),this.isInitialized(j)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:j});je&&ne.resolve(je)}catch(je){}}return this.instancesDeferred.get(j).promise}getImmediate(U){var j;const ne=this.normalizeInstanceIdentifier(null==U?void 0:U.identifier),je=null!==(j=null==U?void 0:U.optional)&&void 0!==j&&j;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Me){if(je)return null;throw Me}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if(function X(ce){return"EAGER"===ce.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(j){}for(const[j,ne]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(j);try{const Me=this.getOrInitializeService({instanceIdentifier:je});ne.resolve(Me)}catch(Me){}}}}clearInstance(U=ae){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,l.Z)(function*(){const j=Array.from(U.instances.values());yield Promise.all([...j.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...j.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=ae){return this.instances.has(U)}getOptions(U=ae){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:j={}}=U,ne=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:ne,options:j});for(const[Me,Re]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Me)&&Re.resolve(je);return je}onInit(U,j){var ne;const je=this.normalizeInstanceIdentifier(j),Me=null!==(ne=this.onInitCallbacks.get(je))&&void 0!==ne?ne:new Set;Me.add(U),this.onInitCallbacks.set(je,Me);const Re=this.instances.get(je);return Re&&U(Re,je),()=>{Me.delete(U)}}invokeOnInitCallbacks(U,j){const ne=this.onInitCallbacks.get(j);if(ne)for(const je of ne)try{je(U,j)}catch(Me){}}getOrInitializeService({instanceIdentifier:U,options:j={}}){let ne=this.instances.get(U);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=U,ce===ae?void 0:ce),options:j}),this.instances.set(U,ne),this.instancesOptions.set(U,j),this.invokeOnInitCallbacks(ne,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,ne)}catch(je){}var ce;return ne||null}normalizeInstanceIdentifier(U=ae){return this.component?this.component.multipleInstances?U:ae:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const j=this.getProvider(U.name);if(j.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);j.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const j=new oe(U,this);return this.providers.set(U,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(lt,Ce,P)=>{"use strict";P.d(Ce,{in:()=>J,Yd:()=>X,Ub:()=>le,Am:()=>ce});const l=[];var J=(()=>{return(U=J||(J={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",J;var U})();const N={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},ae=J.INFO,oe={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},he=(U,j,...ne)=>{if(j<U.logLevel)return;const je=(new Date).toISOString(),Me=oe[j];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Me](`[${je}]  ${U.name}:`,...ne)};class X{constructor(j){this.name=j,this._logLevel=ae,this._logHandler=he,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in J))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?N[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...j),this._logHandler(this,J.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...j),this._logHandler(this,J.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,J.INFO,...j),this._logHandler(this,J.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,J.WARN,...j),this._logHandler(this,J.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...j),this._logHandler(this,J.ERROR,...j)}}function le(U){l.forEach(j=>{j.setLogLevel(U)})}function ce(U,j){for(const ne of l){let je=null;j&&j.level&&(je=N[j.level]),ne.userLogHandler=null===U?null:(Me,Re,...ze)=>{const Z=ze.map(se=>{if(null==se)return null;if("string"==typeof se)return se;if("number"==typeof se||"boolean"==typeof se)return se.toString();if(se instanceof Error)return se.message;try{return JSON.stringify(se)}catch(me){return null}}).filter(se=>se).join(" ");Re>=(null!=je?je:Me.logLevel)&&U({level:J[Re].toLowerCase(),message:Z,args:ze,type:Me.name})}}}},5861:(lt,Ce,P)=>{"use strict";function l(N,ae,oe,he,X,le,ce){try{var U=N[le](ce),j=U.value}catch(ne){return void oe(ne)}U.done?ae(j):Promise.resolve(j).then(he,X)}function J(N){return function(){var ae=this,oe=arguments;return new Promise(function(he,X){var le=N.apply(ae,oe);function ce(j){l(le,he,X,ce,U,"next",j)}function U(j){l(le,he,X,ce,U,"throw",j)}ce(void 0)})}}P.d(Ce,{Z:()=>J})}},lt=>{lt(lt.s=2057)}]);